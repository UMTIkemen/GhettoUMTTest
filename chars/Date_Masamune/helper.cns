;エフェクト
;--------------------------------------------------------------------
;----------------------------------------------------------------

;----------------------------------------------------------------------------
;援軍アシスト発動エフェクト
[Statedef 2300]
type = A
ctrl = 0
anim = 6100
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = assertspecial
trigger1 = time >= 8
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time = 0
time = 8
;add = 255,255,255
mul = 255,255,255
sinadd = -255,-255,-255,16
color = 255
;---------------------[効果音]
[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = 6100,0

[state a]
type = removeexplod
trigger1 = root,movetype = H
trigger2 = parent,stateno != [2050,2059]
trigger3 = parent,movetype = H
id = 6153
;---------------------[ヘルパー]
[state a];超必殺技背景2
type = null;Helper
trigger1 = time = 0
id = 6151
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6151
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技背景3
type = Helper
trigger1 = time >= 8
trigger1 = time % 10 = 0
trigger1 = time <= 40
id = 6152
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6152
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0
ownpal = 1

;---------------------[エフェクト]
[State explod];背景エフェクト
type = Explod
trigger1 = time = 6
anim = 6153
id = 6153
sprpriority = -999
postype = back
pos = -128,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 4
anim = 6154
id = 6153
sprpriority = -999
postype = back
pos = -128,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[state a];超必殺技発動エフェクト2
type = Helper
trigger1 = time = 0
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6101
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 2
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 4
id = 6101
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
supermovetime = 99999
pausemovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 6
id = 6102
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 7
id = 6103
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト7
type = Helper
trigger1 = time = 4
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6106
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
;---------------------[ヘルパー]
[state 7000,test]
type = Explod
trigger1 = time = 5
anim = 2057
pos = 0,0
postype = back
sprpriority = -35
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*9,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 4.0 + time*0.05,4.0 + time*0.05

;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = parent,stateno != [2050,2059]
trigger3 = parent,movetype = H
;----------------------------------------------------------------
;援軍出現
[Statedef 12052]
type = A
movetype = I
physics = N
anim = 6020
ctrl = 0
velset = 0,0
sprpriority = 4

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermove = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermove = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5
[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermove = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State 200, 2]
type = helper
trigger1 = !time
stateno = 12053
id = 12052
postype = p1
pos = 0,0
facing = 1
sprpriority = 4
ownpal = 1
persistent = 0
pausemovetime = 99999
supermovetime = 99999
supermove = 1

[State 200, 2]
type = helper
trigger1 = !time
stateno = 12054
id = 12052
postype = p1
pos = 0,0
facing = 1
sprpriority = 4
ownpal = 1
persistent = 0
pausemovetime = 99999
supermovetime = 99999
supermove = 1

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State -2]
type = sprpriority
trigger1 = time = 0
trigger1 = random < 333
value = 0

[State -2]
type = varrandom
trigger1 = time = 0
v = 0
range = 1,10

[State -2]
type = varset
trigger1 = time = 0
trigger1 = var(0) < 6
var(9) = 1

[State -2]
type = varset
trigger1 = time = 0
trigger1 = var(0) >= 6
var(9) = 2

[State -2]
type = varadd
trigger1 = time >= 1
trigger1 = var(9) = 1
persistent = 1
ignorehitpause = 1
fvar(2) = 1.5

[State -2]
type = varadd
trigger1 = time >= 1
trigger1 = var(9) = 2
persistent = 1
ignorehitpause = 1
fvar(2) = -1.5

[State -2]
type = varadd
trigger1 = time >= 1
persistent = 1
ignorehitpause = 1
fvar(3) = 1.5

[State -2]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,359

[State -2]
type = varadd
trigger1 = time >= 1
var(1) = -2

[State -2]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(5) = 256

[State -2]
type = varadd
trigger1 = time = 4
trigger2 = time = 7
trigger3 = time = 10
trigger4 = time = 13
trigger5 = time = 16
trigger6 = time = 19
ignorehitpause = 1
var(5) = -42

[State 630, 4]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(5),256

[State -2]
type = AngleDraw
trigger1 = time >= 0
scale = 0.1*(var(0)+fvar(2)),0.1*(10+fvar(3))

[State -2]
type = AngleSet
trigger1 = time >= 0
value = var(1)

[State 1000, 6]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------
[Statedef 12053]
type = A
movetype = I
physics = N
anim = 6020
ctrl = 0
velset = 0,0
sprpriority = 4

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State -2]
type = sprpriority
trigger1 = time = 0
trigger1 = random < 333
value = 0

[State 630, 4]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = parent,var(5),256

[State -2]
type = AngleDraw
trigger1 = time >= 0
scale = 0.1*(parent,var(0)+parent,fvar(2)),0.1*(10+parent,fvar(3))

[State -2]
type = AngleSet
trigger1 = time >= 0
value = parent,var(1)+90

[State 1000, 6]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;----------------------------------------------------------------------------
[Statedef 12054]
type = A
ctrl = 0
anim = 6020
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*30,256

[state a]
type = angledraw
trigger1 = 1
scale = 0.7 + time*0.075,0.7 + time*0.075

[state a]
type = destroyself
trigger1 = Animtime = 0

;-------------------------------------------------------------------
[statedef 9930];相殺
type    = A
movetype= I
physics = N
ctrl = 0
anim = 9934
sprpriority = 3
velset = 0,0

[state 7000,]
type = parentvaradd
trigger1 = time = 35
fvar(30) = 0.02
persistent = 0

[State 3660,];影をなくしておく
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 1540, 4];光る
type = palfx
trigger1 = 1
time = 1
add = time * -10,time * -10,time * -5
ignorehitpause = 1

[State 1540, 4]
type = Trans
trigger1 = 1
trans = add

[State -1]
type = AngleDraw
trigger1 = 1
scale = fvar(2),fvar(2)

[state a]
type = varadd
trigger1 = 1
fv = 2
value = 0.1

[state 3400,];稲光
type = explod
trigger1 = time = 0
postype = p1
pos = 0,0
anim = 9931
ID = 9931
facing = ifelse(random % 2 = 0,1,-1)
vfacing = ifelse(random % 2 = 0,1,-1)
bindtime = -1
sprpriority = 3
removetime = -2
ownpal  = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[state 3400,];稲光
type = explod
trigger1 = time = 0
postype = p1
pos = 0,0
anim = 9930
ID = 9930
bindtime = -1
sprpriority = 3
removetime = -2
ownpal  = 1
persistent = 0
ignorehitpause = 1
scale = 0.5,0.5
pausemovetime = 99999
supermovetime = 99999

[state 3400,];蒼光
type = explod
trigger1 = time = 0
postype = p1
pos = 0,0
anim = 9932
ID = 9932
facing = ifelse(random % 2 = 0,1,-1)
vfacing = ifelse(random % 2 = 0,1,-1)
bindtime = -1
sprpriority = 3
removetime = -2
ownpal  = 1
persistent = 0
ignorehitpause = 1
pausemovetime = 99999
supermovetime = 99999

[State -1]
type = ModifyExplod
trigger1 = 1
ID = 9932
scale = 0.7-fvar(1),0.7-fvar(1)

[state a]
type = varadd
trigger1 = 1
fv = 1
value = 0.02

[state 3400,];
type = destroyself
trigger1 = time = 35

;----------------------------------------------------------------
;援軍ヒットキャンセル
[Statedef 10052]
type = A
movetype = I
physics = N
anim = 6020
ctrl = 0
velset = 0,0
sprpriority = 4

[state 7000,]
type = parentvaradd
trigger1 = time = 0
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5
[State explod]
type = Explod
trigger1 = time <=5
anim = 6022
postype = p1
pos = 0,0
vel = ((random%100*0.1)+1)*ifelse(random%2=1,1,-1),((random%10*0.1)+1)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = -2
pausemovetime = 99999
supermovetime = 99999
ignorehitpause = 1
ownpal = 1
ontop = 1
scale = 0.5,0.5

[State 191, Snd 1];
type = PlaySnd
trigger1 = !time
value = 299,1

[State 200, 2]
type = helper
trigger1 = !time
stateno = 10053
id = 10052
postype = p1
pos = 0,0
facing = 1
sprpriority = 4
ownpal = 1
persistent = 0
pausemovetime = 99999
supermovetime = 99999
supermove = 1

[State 200, 2]
type = helper
trigger1 = !time
stateno = 10054
id = 10052
postype = p1
pos = 0,0
facing = 1
sprpriority = 4
ownpal = 1
persistent = 0
pausemovetime = 99999
supermovetime = 99999
supermove = 1

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State -2]
type = sprpriority
trigger1 = time = 0
trigger1 = random < 333
value = 0

[State -2]
type = varrandom
trigger1 = time = 0
v = 0
range = 1,10

[State -2]
type = varset
trigger1 = time = 0
trigger1 = var(0) < 6
var(9) = 1

[State -2]
type = varset
trigger1 = time = 0
trigger1 = var(0) >= 6
var(9) = 2

[State -2]
type = varadd
trigger1 = time >= 1
trigger1 = var(9) = 1
persistent = 1
ignorehitpause = 1
fvar(2) = 1.5

[State -2]
type = varadd
trigger1 = time >= 1
trigger1 = var(9) = 2
persistent = 1
ignorehitpause = 1
fvar(2) = -1.5

[State -2]
type = varadd
trigger1 = time >= 1
persistent = 1
ignorehitpause = 1
fvar(3) = 1.5

[State -2]
type = varrandom
trigger1 = time = 0
v = 1
range = 0,359

[State -2]
type = varadd
trigger1 = time >= 1
var(1) = -2

[State -2]
type = varset
trigger1 = time = 0
ignorehitpause = 1
var(5) = 256

[State -2]
type = varadd
trigger1 = time = 4
trigger2 = time = 7
trigger3 = time = 10
trigger4 = time = 13
trigger5 = time = 16
trigger6 = time = 19
ignorehitpause = 1
var(5) = -42

[State 630, 4]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = var(5),256

[State -2]
type = AngleDraw
trigger1 = time >= 0
scale = 0.1*(var(0)+fvar(2)),0.1*(10+fvar(3))

[State -2]
type = AngleSet
trigger1 = time >= 0
value = var(1)

[State 1000, 6]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;---------------------------------------------------
[Statedef 10053]
type = A
movetype = I
physics = N
anim = 6020
ctrl = 0
velset = 0,0
sprpriority = 4

[State 1000]
type = assertspecial
trigger1 = Time >= 0
flag = noshadow
ignorehitpause = 1

[State -2]
type = sprpriority
trigger1 = time = 0
trigger1 = random < 333
value = 0

[State 630, 4]
type = Trans
trigger1 = time >= 0
trans = addalpha
alpha = parent,var(5),256

[State -2]
type = AngleDraw
trigger1 = time >= 0
scale = 0.1*(parent,var(0)+parent,fvar(2)),0.1*(10+parent,fvar(3))

[State -2]
type = AngleSet
trigger1 = time >= 0
value = parent,var(1)+90

[State 1000, 6]
type = destroyself
trigger1 = animtime = 0
ignorehitpause = 1

;----------------------------------------------------------------------------
;(HELPER)ダウン復帰エフェクト
[Statedef 10054]
type = A
ctrl = 0
anim = 6020
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*30,256

[state a]
type = angledraw
trigger1 = 1
scale = 0.7 + time*0.075,0.7 + time*0.075

[state a]
type = destroyself
trigger1 = Animtime = 0

;----------------------------------------------------------------
[statedef 11040];FD
type    = A
movetype= i
physics = N
ctrl = 0
velset = 0,0
sprpriority = 3
anim = 9998;11040

[State 810, 0] ;音
type = PlaySnd
trigger1 = time = 2
value = 122, 0
channel = 4
[state 2090,]
type = varset
trigger1 = root,Stateno = 150
trigger2 = root,Stateno = 151
trigger3 = root,Stateno = 152
trigger4 = root,Stateno = 153
trigger5 = root,Stateno = 154
trigger6 = root,Stateno = 155
var(3)=1

[state 2090,]
type = bindtoroot
trigger1 = 1
time = 1
pos  = 0,0

[state 2090,]
type = nothitby
trigger1 = 1
time = 1
value = sca

[State 8000x,noturn]
type = AssertSpecial
trigger1 =1
flag = noautoturn
flag2 = nowalk
flag3 = noshadow

[state 120x,atc efe];FDエフェクト
type = Explod
trigger1 = time%20 = 0
trigger1 = !var(3)
trigger2 = var(3)
trigger2 = time%10 = 0
anim = 11040
ID = 11040
postype = p1
pos = 0,-65
sprpriority = 4
bindtime = -1
removetime = ifelse(var(3),6,-2)
ownpal=0
removeongethit = 1
scale = 0.5,0.5

[state 120x,atc efe];FDエフェクト
type = Explod
trigger1 = time%20 = 10
trigger1 = !var(3)
trigger2 = var(3)
trigger2 = time%10 = 5
anim = 11040
ID = 11041
postype = p1
pos = 0,-65
sprpriority = 4
bindtime = -1
removetime = ifelse(var(3),6,-2)
ownpal=0
removeongethit = 1
scale = 0.5,0.5

[state 120x,atc efe];FDエフェクト
type = Explod
trigger1 = var(3)
trigger1 = time%15 = 10
anim = 11040
ID = 11042
postype = p1
pos = 0,-65
sprpriority = 4
bindtime = -1
removetime = ifelse(var(3),6,-2)
ownpal=0
removeongethit = 1
scale = 0.5,0.5

[State var]
type = varset
trigger1 = numexplod(11040)=0
var(2)=0

[State var]
type = varadd
trigger1 = numexplod(11040)
var(2)=1

[State 2092]
type = ModifyExplod
trigger1 = 1
scale = ifelse(var(3),0.4,0.3)+(var(2)*0.01),ifelse(var(3),0.4,0.3)+(var(2)*0.01)
ID = 11040

[State var]
type = varset
trigger1 = numexplod(11041)=0
var(1)=0

[State var]
type = varadd
trigger1 = numexplod(11041)
var(1)=1

[State 2092]
type = ModifyExplod
trigger1 = 1
scale = ifelse(var(3),0.4,0.3)+(var(1)*0.01),ifelse(var(3),0.4,0.3)+(var(1)*0.01)
ID = 11041

[State var]
type = varset
trigger1 = numexplod(11041)=0
var(4)=0

[State var]
type = varadd
trigger1 = numexplod(11041)
var(4)=1

[State 2092]
type = ModifyExplod
trigger1 = 1
scale = 0.4+(var(4)*0.01),0.4+(var(4)*0.01)
ID = 11042



[state 3100,]
type = removeexplod
triggerall = root,Var(26) = 0
trigger1 = command != "holdback"&&root,var(58)=0
trigger2 = root,Power <= 10
trigger3 = root,var(26) = 2 && (command != "holdP" && command != "holdS") &&root,var(58)=0
trigger4 = root,var(26) = 1 && command != "holdC"&&root,var(58)=0
trigger5 = root,StateNo != [120,165]
trigger6 = root,var(45) != 2
trigger7 = root,stateno >= 5000
ID=11040
[state 3100,]
type = removeexplod
triggerall = root,Var(26) = 0
trigger1 = command != "holdback"&&root,var(58)=0
trigger2 = root,Power <= 10
trigger3 = root,var(26) = 2 && (command != "holdP" && command != "holdS") &&root,var(58)=0
trigger4 = root,var(26) = 1 && command != "holdC"&&root,var(58)=0
trigger5 = root,StateNo != [120,165]
trigger6 = root,var(45) != 2
trigger7 = root,stateno >= 5000
ID=11041
[state 3100,]
type = removeexplod
triggerall = root,Var(26) = 0
trigger1 = command != "holdback"&&root,var(58)=0
trigger2 = root,Power <= 10
trigger3 = root,var(26) = 2 && (command != "holdP" && command != "holdS") &&root,var(58)=0
trigger4 = root,var(26) = 1 && command != "holdC"&&root,var(58)=0
trigger5 = root,StateNo != [120,165]
trigger6 = root,var(45) != 2
trigger7 = root,stateno >= 5000
ID=11042
[state 2090,]
type = destroyself
triggerall = root,Var(26) = 0
trigger1 = command != "holdback"&&root,var(58)=0
trigger2 = root,Power <= 10
trigger3 = root,var(26) = 2 && (command != "holdP" && command != "holdS") &&root,var(58)=0
trigger4 = root,var(26) = 1 && command != "holdC"&&root,var(58)=0
trigger5 = root,StateNo != [120,165]
trigger6 = root,var(45) != 2
trigger7 = root,stateno >= 5000



;----------------------------------------------------------------------------
;FD稲妻?
[Statedef 11045]
type = A
ctrl = 0
anim = 6105
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = random%180

[state a]
type = angleadd
trigger1 = ishelper(11045)
value = -2

[state a]
type = angleadd
trigger1 = ishelper(11046)
value = 0.5

[state a]
type = angleadd
trigger1 = ishelper(11047)
value = 2.7

[state a]
type = angleadd
trigger1 = ishelper(11048)
value = -0.75

[state a]
type = angledraw
trigger1 = 1
scale = 2.0 - time*0.01,0.5 - time*0.07

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;---------------------------------------------------------------------------
;カウンター
[Statedef 9920]
Type = A
MoveType = I
PhySics = N
Anim = 9998

[state 0]
type = AllPalFX
trigger1 = time <= 6
time = 1
add = 200-(time*33),200-(time*33),200-(time*33)

[state 7000,]
type = parentvaradd
trigger1 = !parent,ishelper
Trigger1 = Time >= 74
fvar(30) = 0.02
persistent = 0

[State Turn,1]
Type = turn
Trigger1 = Time = 0
Trigger1 = parent,facing = -1

[State Exp,1]
Type = Explod
Trigger1 = Time = 0
Trigger1 = TeamSide=1
Anim = 7230
Pos = 12,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7230
IgNoreHitPause = 1
Persistent = 0
SprPriority = 6
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 7
Trigger1 = TeamSide=1
Anim = 7231
Pos = 12,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7231
IgNoreHitPause = 1
Persistent = 0
SprPriority = 10
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 0
Trigger1 = TeamSide=2
Anim = 7240
Pos = 198,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7230
IgNoreHitPause = 1
Persistent = 0
SprPriority = 6
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 7
Trigger1 = TeamSide=2
Anim = 7231
Pos = 198,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7231
IgNoreHitPause = 1
Persistent = 0
SprPriority = 10
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State exp]
type = ModifyExplod
trigger1 = 1
ID = 7231
scale = 0.43+(time*0.01), 0.43+(time*0.01)

[State Destroy,1]
Type = Destroyself
Trigger1 = Time >= 75


;---------------------------------------------------------------------------
;ガークラ
[Statedef 9921]
Type = A
MoveType = I
PhySics = N
Anim = 9998

[state 7000,]
type = parentvaradd
trigger1 = !parent,ishelper
Trigger1 = Time >= 74
fvar(30) = 0.02
persistent = 0

[State 191, Snd 1];
type = PlaySnd
trigger1 = time = 0
value = 120,3

[State Turn,1]
Type = turn
Trigger1 = Time = 0
Trigger1 = parent,facing = -1

[State Exp,1]
Type = Explod
Trigger1 = Time = 0
Trigger1 = TeamSide=2
Anim = 7232
Pos = 12,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7230
IgNoreHitPause = 1
Persistent = 0
SprPriority = 6
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 7
Trigger1 = TeamSide=2
Anim = 7233
Pos = 12,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7231
IgNoreHitPause = 1
Persistent = 0
SprPriority = 10
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 0
Trigger1 = TeamSide=1
Anim = 7241
Pos = 198,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7230
IgNoreHitPause = 1
Persistent = 0
SprPriority = 6
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State Exp,1]
Type = Explod
Trigger1 = Time = 7
Trigger1 = TeamSide=1
Anim = 7233
Pos = 198,190+8*(numHelper(7230))
PosType = back
bindTime = -1
ID = 7231
IgNoreHitPause = 1
Persistent = 0
SprPriority = 10
Ownpal = 1
Scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State exp]
type = ModifyExplod
trigger1 = 1
ID = 7231
scale = 0.43+(time*0.01), 0.43+(time*0.01)

[State Destroy,1]
Type = Destroyself
Trigger1 = Time >= 75
;----------------------------------------------------------------------------
;(HELPER)ハイジャンプエフェクト（仮）
[Statedef 6000]
type = A
ctrl = 0
anim = 6000
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[ヘルパー]
[state a];ハイジャンプエフェクト2
type = Helper
trigger1 = time = 0
id = 6001
name = "jump"
pos = 0 , 0
postype = p1
stateno = 6001
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5 - time*0.15,1.5 + time*0.2

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 10

;----------------------------------------------------------------------------
;(HELPER)ハイジャンプエフェクト2（仮）
[Statedef 6001]
type = A
ctrl = 0
anim = 6001
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5 + time*0.15,1.5 - time*0.15

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 10

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)着地エフェクト
[Statedef 6005]
type = A
ctrl = 0
anim = 6000
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
;---------------------[移動関係]
[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[ヘルパー]
[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6005
name = "land"
pos = 15 , 0
postype = p1
stateno = 6006
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6006
name = "land"
pos = -15 , 0
postype = p1
stateno = 6006
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = destroyself
trigger1 = time = 1

;----------------------------------------------------------------------------
;(HELPER)着地エフェクト2
[Statedef 6006]
type = A
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6005)
x = 8

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6006)
x = -8


[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(65100)
x = 12
y = -1
[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(65101)
x = -12
y = -1

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(65102)
y = -.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(65103)
x = 7
y = -2.5
[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(65104)
x = -7
y = -2.5

[state a]
type = SprPriority
triggerall = time = 0
trigger1 = ishelper(65104)
trigger2 = ishelper(65103)
value = -1

[state a]
type = velmul
trigger1 = 1
x = 0.9

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ダウンエフェクト
[Statedef 6007]
type = A
ctrl = 0
anim = 6000
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible
;---------------------[移動関係]
[state a]
type = posset
trigger1 = 1
y = 0

;---------------------[ヘルパー]
[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6006
name = "land"
pos = -30 , 0
postype = p1
stateno = 6008
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6007
name = "land"
pos = -10 , 0
postype = p1
stateno = 6008
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6008
name = "land"
pos = 10 , 0
postype = p1
stateno = 6008
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];着地エフェクト2
type = Helper
trigger1 = time = 0
id = 6009
name = "land"
pos = 30 , 0
postype = p1
stateno = 6008
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = destroyself
trigger1 = time = 1

;----------------------------------------------------------------------------
;(HELPER)着地エフェクト2
[Statedef 6008]
type = A
ctrl = 0
anim = 6005
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[移動関係]
[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6006)
x = -6
y = -3

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6007)
x = -3.5
y = -4

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6008)
x = 3.5
y = -4

[state a]
type = velset
trigger1 = time = 0
trigger1 = ishelper(6009)
x = 6
y = -3

[state a]
type = velmul
trigger1 = 1
x = 0.92
y = 0.88

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ダッシュ（？）エフェクト
[Statedef 6010]
type = A
ctrl = 0
anim = 6010
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = turn
trigger1 = time = 0
trigger1 = ishelper(6011)

;---------------------[移動関係]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ダウン復帰エフェクト
[Statedef 6020]
type = A
ctrl = 0
anim = 6021
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State a];
type = palfx
trigger1 = 1
time = 10
add = 175,175,175
;mul = 205,205,205
color = 255

[state 3400,];影
type = explod
trigger1 = 1
postype = p1
pos = 0,0
anim = 6020
facing = 1
bindtime = -1
removetime = 15
ownpal  = 1
ignorehitpause = 1
scale = 0.5,0.5
persistent = 0
ID = 6021

[state b]
type = ModifyExplod
trigger1 = 1
ID = 6021
scale = 0.7 + time*0.075,0.7 + time*0.075

;---------------------[効果音]
[State 191, Snd 1];
type = PlaySnd
trigger1 = time = 0
value = 5200,0

;---------------------[移動関係]
;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*30,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 0.7+time*0.15,0.7+time*0.15

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)溜めエフェクト
[Statedef 6025]
type = A
ctrl = 0
anim = 6025
velset = 0,0
movetype = I
physics = N
sprpriority = -2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[効果音]
;---------------------[移動関係]
[state a]
type = posset
trigger1 = time = 0
y = 0

;---------------------[透過]
[state b]
type = PalFX
trigger1 = 1
time = 1
add = 0,0,200

[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*32,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.0 + time*0.3,0.4 + time*0.12

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 8

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ブーストエフェクト
[Statedef 6030]
type = A
ctrl = 0
anim = 6030
velset = 0,0
movetype = I
physics = N
sprpriority = -2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[移動関係]

;---------------------[ヘルパー]
[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 6031
name = "boost"
pos = -60 , -100
postype = p1
stateno = 6031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 6032
name = "boost"
pos = -80 , -45
postype = p1
stateno = 6031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 6033
name = "boost"
pos = -90 , 4
postype = p1
stateno = 6031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 6034
name = "boost"
pos = -70 , 64
postype = p1
stateno = 6031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ブーストエフェクト2
type = Helper
trigger1 = time = 0
id = 6035
name = "boost"
pos = -40 , 114
postype = p1
stateno = 6031
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*17,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 4.75,4.75

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
;(HELPER)ブーストエフェクト2
[Statedef 6031]
type = A
ctrl = 0
anim = 6031
velset = 0,0
movetype = I
physics = N
sprpriority = -2

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[移動関係]
;---------------------[速度]
[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(6031)
x = -2
y = -3

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(6032)
x = -3.5
y = -1.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(6033)
x = -4.5
y = 0.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(6034)
x = -3.5
y = 1.6

[state a]
type =velset
trigger1 = time = 0
trigger1 = ishelper(6035)
x = -2
y = 3

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = ishelper(6031)
value = -60

[state a]
type = angleset
trigger1 = ishelper(6032)
value = -30

[state a]
type = angleset
trigger1 = ishelper(6033)
value = 0

[state a]
type = angleset
trigger1 = ishelper(6034)
value = 30

[state a]
type = angleset
trigger1 = ishelper(6035)
value = 60

[state a]
type = angledraw
trigger1 = 1
scale = 2-time*0.06,1.5-time*0.06

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15



;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ＢＡＳＡＲＡ技、一撃ＢＡＳＡＲＡ技関係
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト
[Statedef 6100]
type = A
ctrl = 0
anim = 6100
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[効果音]
[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = 6100,0

;---------------------[ヘルパー]
[state a];カットイン
type = Helper
trigger1 = time = 0
id = 6155
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6155
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技背景
type = null;Helper
trigger1 = time = 0
id = 6150
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6150
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[State explod];背景エフェクト
type = Explod
trigger1 = time = 0
anim = 6150
id = 6160
sprpriority = -72
postype = back
pos = 0,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 72,2

[State explod];背景エフェクト
type = Explod
trigger1 = time = 0
anim = 6151
id = 6151
sprpriority = -52
postype = back
pos = 320,130
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 640,1;2.5

[state a]
type = ModifyExplod
trigger1 = time = 44
ID = 6151
scale= 640, 6.7

[state a]
type = assertspecial
trigger1 = time >= 8
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time = 0
time = 8
;add = 255,255,255
mul = 255,255,255
sinadd = -255,-255,-255,16
color = 255

[state a]
type = removeexplod
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]
trigger2 = !numhelper(2000)
trigger3 = numhelper(2000)
trigger3 = numhelper(2300)
trigger3 = helper(2000),stateno != [2050,2059]
trigger4 = numhelper(2000)
trigger4 = !numhelper(2300)
trigger4 = root,stateno != [3000,3900]
id = 6151

;---------------------[ヘルパー]
[state a];超必殺技背景2
type = null;Helper
trigger1 = time = 0
id = 6151
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6151
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技背景3
type = Helper
trigger1 = time >= 8
trigger1 = time % 10 = 0
trigger1 = time <= 40
id = 6152
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6152
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0
ownpal = 1

;---------------------[エフェクト]
[State explod];背景エフェクト
type = Explod
trigger1 = time = 46
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = -128,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 44
anim = 6161
id = 6160
sprpriority = -999
postype = back
pos = -188,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5


[state a];超必殺技発動エフェクト2
type = Helper
trigger1 = time = 0
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6101
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 2
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 4
id = 6101
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 6
id = 6102
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト6
type = Helper
trigger1 = time = 7
id = 6103
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6105
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト7
type = Helper
trigger1 = time = 4
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6106
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*9,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 4.0 + time*0.05,4.0 + time*0.05


[state a]
type = removeexplod
triggerall = numexplod(6160)
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]
trigger3 = root,numhelper(2000)
trigger3 = root,numhelper(2300)
id = 6160
;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]
trigger2 = !numhelper(2000)
trigger3 = numhelper(2000)
trigger3 = numhelper(2300)
trigger3 = helper(2000),stateno != [2050,2059]
trigger4 = numhelper(2000)
trigger4 = !numhelper(2300)
trigger4 = root,stateno != [3000,3900]

;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト2
[Statedef 6101]
type = A
ctrl = 0
anim = 6101
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
;---------------------[ヘルパー]
[state a];超必殺技発動エフェクト3
type = Helper
trigger1 = time = 0
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6102
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト3
type = Helper
trigger1 = time = 5
id = 6101
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6102
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6101
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6102
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6103
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6104
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6105
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6106
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
[state a];超必殺技発動エフェクト4
type = Helper
trigger1 = time = 0
id = 6107
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6103
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技発動エフェクト5
type = null;Helper
trigger1 = time = 0
id = 6100
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6104
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*12,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5 + time*0.04,1.5 + time*0.04

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 20

;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト3
[Statedef 6102]
type = A
ctrl = 0
anim = 6102
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
;---------------------[ヘルパー]
;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = random%180

[state a]
type = angledraw
trigger1 = ishelper(6100)
scale = 0.7 + time*0.05,1.5 + time*0.1

[state a]
type = angledraw
trigger1 = ishelper(6101)
scale = 0.5 + time*0.04,1.2 + time*0.08

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト4
[Statedef 6103]
type = A
ctrl = 0
anim = 6103
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
;---------------------[速度]
[state a]
type = velset
trigger1 = ishelper(6100)
x = -2

[state a]
type = velset
trigger1 = ishelper(6101)
trigger2 = ishelper(6107)
x = -0.7

[state a]
type = velset
trigger1 = ishelper(6104)
x = 2

[state a]
type = velset
trigger1 = ishelper(6103)
trigger2 = ishelper(6105)
x = -0.7

[state a]
type = velset
trigger1 = ishelper(6106)
y = -2

[state a]
type = velset
trigger1 = ishelper(6105)
trigger2 = ishelper(6107)
y = -0.7

[state a]
type = velset
trigger1 = ishelper(6102)
y = 2

[state a]
type = velset
trigger1 = ishelper(6101)
trigger2 = ishelper(6103)
y = 0.7

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = ishelper(6100)
value = 0

[state a]
type = angleset
trigger1 = ishelper(6101)
value = 45

[state a]
type = angleset
trigger1 = ishelper(6102)
value = 90

[state a]
type = angleset
trigger1 = ishelper(6103)
value = 135

[state a]
type = angleset
trigger1 = ishelper(6104)
value = 180

[state a]
type = angleset
trigger1 = ishelper(6105)
value = 225

[state a]
type = angleset
trigger1 = ishelper(6106)
value = 270

[state a]
type = angleset
trigger1 = ishelper(6107)
value = 315



[state a]
type = angledraw
trigger1 = 1
scale = 0.7 + time*0.1,1.0

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15


;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト5
[Statedef 6104]
type = A
ctrl = 0
anim = 6104
velset = 0,0
movetype = I
physics = N
sprpriority = 8

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 206-time*8,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 3.0 + time*0.04,3.0 + time*0.04

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 25


;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト6
[Statedef 6105]
type = A
ctrl = 0
anim = 6105
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*17,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = random%180

[state a]
type = angleadd
trigger1 = ishelper(6100)
value = -2

[state a]
type = angleadd
trigger1 = ishelper(6101)
value = 0.5

[state a]
type = angleadd
trigger1 = ishelper(6102)
value = 2.7

[state a]
type = angleadd
trigger1 = ishelper(6103)
value = -0.75

[state a]
type = angledraw
trigger1 = 1
scale = 2.0 - time*0.01,1.0 - time*0.07

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
;(HELPER)超必殺技発動エフェクト7
[Statedef 6106]
type = A
ctrl = 0
anim = 6106
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*17,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 2.0 + time*0.05,0.5 + time*0.012

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 15


;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)超必殺技背景
[Statedef 6150]
type = A
ctrl = 0
anim = 6150
velset = 0,0
movetype = I
physics = N
sprpriority = -50

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[演出]
[state a]
type = assertspecial
trigger1 = time >= 8
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time = 0
time = 8
;add = 255,255,255
mul = 255,255,255
sinadd = -255,-255,-255,16
color = 255

;---------------------[位置関係]
[state a]
type = posset
trigger1 = 1
x = pos x - screenpos x
y = pos y - screenpos y

;---------------------[変数]
[state a]
type = varadd
trigger1 = time >= 8
trigger1 = time < 16
v = 1
value = 32

[state a]
type = varadd
trigger1 = time >= 56
trigger1 = time < 59
v = 1
value = -32

;---------------------[ヘルパー]
[state a];超必殺技背景2
type = Helper
trigger1 = time = 0
id = 6151
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6151
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];超必殺技背景3
type = Helper
trigger1 = time >= 8
trigger1 = time % 10 = 0
trigger1 = time <= 40
id = 6152
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6152
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0
ownpal = 1

;---------------------[エフェクト]
[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = -128,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 0,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 128,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 256,0
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5




[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = -128,128
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 0,128
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 128,128
vel = 256,-128
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 56
anim = 6160
id = 6160
sprpriority = -999
postype = back
pos = 256,128
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 76,2

;---------------------[]
[state a]
type = removeexplod
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]
id = 6160

[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]

;----------------------------------------------------------------------------
;(HELPER)超必殺技背景2
[Statedef 6151]
type = A
ctrl = 0
anim = 6151
velset = 0,0
movetype = I
physics = N
sprpriority = -49

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[演出]
;---------------------[位置関係]
[state a]
type = posset
trigger1 = 1
x = pos x - screenpos x
y = pos y - screenpos y + 120

;---------------------[変数]
[state a]
type = varadd
trigger1 = time >= 8
trigger1 = time < 16
v = 1
value = 32

[state a]
type = varadd
trigger1 = time >= 56
v = 1
value = -32

[state a]
type = null;varadd
trigger1 = time >= 56
trigger1 = time < 66
v = 2
value = 10

;---------------------[透過]
[state a]
type = Trans
trigger1 = time <= 56
trans = addalpha
alpha = var(1)-var(2)*1,256

[state a]
type = Trans
trigger1 = time > 56
trans = sub

[state a]
type = null;sprpriority
trigger1 = time = 56
value = -1000

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = time <= 56
scale = 680,2+var(2)*0.2

[state a]
type = angledraw
trigger1 = time > 56
scale = 680,10+var(2)*0.2
;---------------------[]
[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]

;----------------------------------------------------------------------------
;(HELPER)超必殺技背景3
[Statedef 6152]
type = A
ctrl = 0
anim = 6152
velset = 8,0
movetype = I
physics = N
sprpriority = -48

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[演出]
;---------------------[位置関係]
[state a]
type = posset
trigger1 = time = 0
x = pos x - screenpos x
y = pos y - screenpos y + random%320

[state a]
type = posadd
trigger1 = time = 0
x = -40

;---------------------[変数]
[state a]
type = varadd
trigger1 = time < 16
v = 1
value = 16

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1),256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5,2

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 16
trigger2 = root,movetype = H
trigger3 = root,stateno != [3000,3900]

;---------------------------------------------------------------------------
;(HELPER)超必殺技発動演出・カットイン
[Statedef 6155]
type = S
ctrl = 0
anim = 6155
velset = 35,0
movetype = I
physics = N
sprpriority = -45

[state a]
type = velmul
trigger1 = vel x > 0.5
x = 0.89
[state a]
type = posset
trigger1 = 1
y = pos y - screenpos y

[state a]
type = varset
trigger1 = time = 0
v = 1
value = 0

[state a]
type = varadd
trigger1 = time >= 54
v = 1
value = 8

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-var(1), var(1)

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256
trigger2 = root,movetype = H
trigger3 = root,stateno != [3000,3900]


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;ヒット・ガード関係
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)弱攻撃ヒット
[Statedef 7000]
type = A
ctrl = 0
anim = 6104
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[State 1540, 4]
type = palfx
trigger1 = 1
time = 1
add = 0+time * -10,-256,-256;+time * -10,0+time * -10
ignorehitpause = 1

[state a]
type = Trans
trigger1 = 1
trans = add
;alpha = 256,256
;---------------------[エフェクト]
[State explod]
type = Explod
trigger1 = time = 0
anim = 7001
id = 7000
sprpriority = 8
postype = p1
pos = 0,0
bindtime = -1
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999

[State explod]
type = Explod
trigger1 = time = 0
anim = 7000
id = 7000
sprpriority = 8
postype = p1
pos = 0,0
bindtime = -1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
supermovetime = 999999
pausemovetime = 999999
;---------------------[拡縮・回転]

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 20

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)中攻撃ヒット
[Statedef 7002]
type = A
ctrl = 0
anim = 7002
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.2,1.2

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)斬攻撃ヒット
[Statedef 7003]
type = A
ctrl = 0
anim = 7003
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%180

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = 1
v = 2
value = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[ヘルパー]
[state a];斬攻撃ヒット2
type = Helper
trigger1 = time = 0
id = 7004
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7004
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];斬攻撃ヒット2
type = Helper
trigger1 = time = 0
id = 7005
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7004
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = 1
scale = 0.44-var(2)*0.02,2+var(2)*0.5

;---------------------[]
[state a]
type = destroyself
trigger1 = var(2) >= 20

;----------------------------------------------------------------------------
;(HELPER)斬攻撃ヒット2
[Statedef 7004]
type = A
ctrl = 0
anim = 7004
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = parent,var(1)

[state a]
type = varset
trigger1 = time = 0
v = 2
value = 0

[state a]
type = varadd
trigger1 = 1
v = 2
value = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256


;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = var(1)

[state a]
type = angledraw
trigger1 = ishelper(7004)
scale = 1.2-var(2)*0.06,1+var(2)*0.4

[state a]
type = angledraw
trigger1 = ishelper(7005)
scale = -1.2+var(2)*0.06,-1-var(2)*0.4
;---------------------[]
[state a]
type = destroyself
trigger1 = var(2) >= 20


;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)必殺技ヒット
[Statedef 7005]
type = A
ctrl = 0
anim = 7005
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%180


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*22,256

;---------------------[ヘルパー]
[state a];必殺技ヒット2
type = Helper
trigger1 = time = 0
id = 7006
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7006
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 0
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 1
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 2
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 3
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 10
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 11
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 12
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
id = 13
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7007
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];必殺技ヒット3
type = Helper
trigger1 = time = 0
trigger1 = root,numhelper<32
name = "hit"
pos = 0 , 0
postype = p1
stateno = 7008
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angleadd
trigger1 = 1
value = -2

[state a]
type = angledraw
trigger1 = 1
scale = 1.3+time*0.04,1.3+time*0.04

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 12

;----------------------------------------------------------------------------
;(HELPER)必殺技ヒット2
[Statedef 7006]
type = A
ctrl = 0
anim = 7006
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*18,256

;---------------------[拡縮・回転]
[state a]
type = angleadd
trigger1 = 1
value = -2

[state a]
type = angledraw
trigger1 = 1
scale = 1.4+time*0.08,1.4+time*0.08

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 12


;----------------------------------------------------------------------------
;(HELPER)必殺技ヒット3
[Statedef 7007]
type = A
ctrl = 0
anim = 7007
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = parent,var(1)

[state a]
type = varset
trigger1 = ishelper(0)
trigger2 = ishelper(10)
v = 2
value = 0

[state a]
type = varset
trigger1 = ishelper(1)
trigger2 = ishelper(11)
v = 2
value = 1

[state a]
type = varset
trigger1 = ishelper(2)
trigger2 = ishelper(12)
v = 2
value = 2

[state a]
type = varset
trigger1 = ishelper(3)
trigger2 = ishelper(13)
v = 2
value = 3

;---------------------[アニメーション]
[state a]
type = changeanim
triggerall = time = 0
trigger1 = ishelper(10)
trigger2 = ishelper(11)
trigger3 = ishelper(12)
trigger4 = ishelper(13)
value = 7008

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = ishelper(0)
trigger2 = ishelper(1)
trigger3 = ishelper(2)
trigger4 = ishelper(3)
value = 90*var(2) + var(1)

[state a]
type = angledraw
trigger1 = ishelper(10)
trigger2 = ishelper(11)
trigger3 = ishelper(12)
trigger4 = ishelper(13)
value = 90*var(2) + var(1) + 45

[state a]
type = angledraw
trigger1 = ishelper(0)
trigger2 = ishelper(1)
trigger3 = ishelper(2)
trigger4 = ishelper(3)
scale = 0.5,0.5+time*0.3

[state a]
type = angledraw
trigger1 = ishelper(10)
trigger2 = ishelper(11)
trigger3 = ishelper(12)
trigger4 = ishelper(13)
scale = 0.5,2.0+time*1.25

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 10

;(HELPER)必殺技ヒット
[Statedef 7008]
type = A
ctrl = 0
anim = 7005
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
v = 1
value = random%180


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*25,256

;---------------------[エフェクト]
;---------------------[拡縮・回転]
[state a]
type = angleadd
trigger1 = 1
value = 1

[state a]
type = angledraw
trigger1 = 1
scale = 1.3+time*0.04,1.3+time*0.04

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 10

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)ガード
[Statedef 7020]
type = A
ctrl = 0
anim = 7020
velset = 0,0
movetype = I
physics = N
sprpriority = 7

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256,256

;---------------------[アニメーション]
[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(7021)
value = 7021

[state a]
type = changeanim
trigger1 = time = 0
trigger1 = ishelper(7022)
value = 7022

[state a]
type = changeanim
triggerall = time <= 1
triggerall=enemynear,stateno = [15000,15030]
trigger1=root,var(6)>270
trigger2=root,var(15)>270
value = 9921

[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
[State Help,1]
Type = Helper
triggerall = time = 0
trigger1=root,var(6)>270
trigger2=root,var(15)>270
StateNo = 9922
Pos = -10+random%20,-10+random%20
PosType = p1
IgNoreHitPause = 1
Ownpal = 1
ID = 9922
supermovetime = 999999
pausemovetime = 999999
;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.,1.

;---------------------[]
[state a]
type = destroyself
trigger1 = animtime = 0

;----------------------------------------------------------------------------
;(HELPER)ガードブレイク
[Statedef 9922]
type = A
ctrl = 0
anim = 9922+random%2
velset = -2.5+(random%51)*0.1,-3.5+(random%51)*0.1
movetype = I
physics = N
sprpriority = 10


[state a]
type = Velset
trigger1 = vel x=[-.3,.3]
x = -2.5+(random%51)*0.1

[state a]
type = Velset
trigger1 = vel y=[-.3,.3]
y = -2.5+(random%51)*0.1

[state a]
type = VarRandom
trigger1 = !time
v = 0
range = 0,10

[state a]
type = VarRandom
trigger1 = !time
v = 1
range = 0,10

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[透過]
[state a]
type = Trans
trigger1 = time>4
trans = addalpha
alpha = 300-time*13,256

;---------------------[拡縮・回転]
[state a]
type = angleadd
trigger1 = 1
value = -5

[state a]
type = angledraw
trigger1 = 1
scale = .3+var(0)*0.02,.3+var(1)*0.03

;---------------------[]
[state a]
type = destroyself
trigger1 = time > 21

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)一撃BASARA背景
[Statedef 6200]
type = A
ctrl = 0
anim = 6150
velset = 0,0
movetype = I
physics = N
sprpriority = -50

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = invisible

[state 7000,]
type = parentvaradd
trigger1 = time = 0
fvar(30) = 0.05
persistent = 0
ignorehitpause = 1

;---------------------[効果音]
[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 0
value = 6200,0

;---------------------[演出]
[state a]
type = assertspecial
trigger1 = time >= 8
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time = 0
time = 8
;add = 255,255,255
mul = 255,255,255
sinadd = -255,-255,-255,16
color = 255

;---------------------[位置関係]
[state a]
type = posset
trigger1 = 1
x = pos x - screenpos x
y = pos y - screenpos y

;---------------------[変数]
;---------------------[ヘルパー]

;---------------------[エフェクト]
[State explod];背景エフェクト
type = Explod
trigger1 = time = 8
anim = 6202
id = 6200
sprpriority = -999
postype = back
pos = -128,-40
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 8
anim = 6203
id = 6200
sprpriority = -999
postype = back
pos = -128,-40
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 8
anim = 6201
id = 6200
sprpriority = -999
postype = back
pos = -128,168
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5

[State explod];背景エフェクト
type = Explod
trigger1 = time = 8
anim = 6204
id = 6200
sprpriority = -999
postype = back
pos = -128,168
vel = 0,0
bindtime = -1
removetime = -1
pausemovetime = 999
supermovetime = 99999
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.5,0.5
;---------------------[ヘルパー]
[state a];一撃BASARA発動エフェクト
type = Helper
trigger1 = time = 0
id = 6205
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6205
helpertype = normal
pausemovetime = 999
supermovetime = 99999
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];一撃BASARA発動エフェクト2
type = Helper
trigger1 = time = 0
id = 6206
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6206
helpertype = normal
pausemovetime = 999
supermovetime = 99999
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

;---------------------[拡縮・回転]
;---------------------[]
[state a]
type = removeexplod
trigger1 = root,movetype = H
trigger2 = root,stateno != 3500
trigger3 = root,stateno = 2510
id = 6200

[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = root,stateno != 3500
trigger3 = root,stateno = 2510

;----------------------------------------------------------------------------
;(HELPER)一撃BASARA発動エフェクト
[Statedef 6205]
type = A
ctrl = 0
anim = 6205
velset = 0,0
movetype = I
physics = N
sprpriority = -30

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[state a]
type = turn
trigger1 = facing = -1

;---------------------[変数]
[state a]
type = varadd
trigger1 = time >= 40
v = 1
value = 8

;---------------------[位置関係]
[state a]
type = posset
trigger1 = 1
x = 0
y = pos y - screenpos y + 140


;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - var(1),256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.5 + time*0.004,1.5 + time*0.004

;---------------------[]
[state a]
type = destroyself
trigger1 = var(1) >= 256

;----------------------------------------------------------------------------
;(HELPER)一撃BASARA発動エフェクト
[Statedef 6206]
type = A
ctrl = 0
anim = 6206
velset = 0,0
movetype = I
physics = N
sprpriority = -31

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
[state a]
type = posset
trigger1 = 1
x = 0
y = pos y - screenpos y + 140

;---------------------[ヘルパー]

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*8,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.0 + time*0.04,1.0 + time*0.04

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 30

;[][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][][]
;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景
[Statedef 6250]
type = A
ctrl = 0
anim = 6250
velset = 0,0
movetype = I
physics = N
sprpriority = -20

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State explod];背景エフェクト
type = Explod
trigger1 = time = 9
trigger1 = root,var(13) != 0
anim = 6259
postype = left
pos = 160,120
bindtime = -1
pausemovetime = 999
supermove = 999
ignorehitpause = 1
under = 0
ownpal = 1
ontop=1
scale = 0.5,0.5
ID = 6259

[State -1]
type = ModifyExplod
trigger1 = time = [9,16]
ID = 6259
scale = 0.9-(time*0.02),0.9-(time*0.02)

[State -1]
type = ModifyExplod
trigger1 = time > 16
ID = 6259
scale = 0.491+(time*0.001),0.491+(time*0.001)

;---------------------[効果音]
[State 191, Snd 1];
type = PlaySnd
trigger1 = time = 0
value = 6250,0

[State 191, Snd 1];
type = PlaySnd
trigger1 = time = 30
trigger1 = root,var(13) != 0
value = 6250,1

[State 191, Snd 1];
type = PlaySnd
trigger1 = time = 0
value = 6250,2

;---------------------[演出]
[state a]
type = assertspecial
trigger1 = time >= 8
trigger1 = time <= 150
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time >= 8
trigger1 = time <= 150
time = 1
add = 255,255,255
;mul = 255,255,255
;sinadd = -255,-255,-255,16
color = 255

[State b]
type = AllPalFX
trigger1 = time = [89,110]
time = 40
add = 0+((time-90)*12),0+((time-90)*12),0+((time-90)*12)
color = 256

[State 2000, 2]
type = Pause
trigger1 = time = 0
time = 55
movetime = 55
anim = -1

[state a]
type = AssertSpecial
trigger1 = root,var(13) != 0
flag = nomusic

;---------------------[位置関係]
[state a]
type = posset
trigger1 = 1
x = 0
y = pos y - screenpos y + 120

;---------------------[変数]
[state a]
type = varadd
trigger1 = time <= 8
v = 1
value = 32

[state a]
type = varadd
trigger1 = time >= 140
v = 1
value = -32

;---------------------[ヘルパー]
[state a];フィニッシュ背景2
type = Helper
trigger1 = time = 8
id = 6251
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6251
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];フィニッシュ背景3
type = Helper
trigger1 = time = 0
id = 6252
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6252
pausemovetime = 999
supermovetime = 99999
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];フィニッシュ背景4
type = Helper
trigger1 = time = 8
trigger2 = time = 40
trigger3 = time = 72
id = 6253
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6253
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];フィニッシュ背景5
type = Helper
trigger1 = time = 8
trigger2 = time = 40
id = 6254
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6254
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1
[state a];フィニッシュ背景5
type = Helper
trigger1 = time = 16
trigger2 = time = 48
id = 6255
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6254
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1
[state a];フィニッシュ背景5
type = Helper
trigger1 = time = 24
trigger2 = time = 56
id = 6256
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6254
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1
[state a];フィニッシュ背景5
type = Helper
trigger1 = time = 32
trigger2 = time = 64
id = 6257
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6254
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1

[state a];フィニッシュ背景6
type = Helper
trigger1 = time = 8
trigger2 = time = 40
trigger3 = time = 72
id = 6255
name = "BASARA"
pos = 0 , 0
postype = back
stateno = 6255
pausemovetime = 999
supermovetime = 99999
helpertype = normal
keyctrl = 0 
ownpal = 1

;---------------------[エフェクト]
[State explod];背景エフェクト
type = Explod
trigger1 = time<110
anim = 3512
postype = back
pos = 160,120
vel = ((random%180*0.1)+4)*ifelse(random%2=1,1,-1),((random%180*0.1)+4)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = 12
pausemovetime = 999
supermovetime = 99999
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.1,0.1

[State explod];背景エフェクト
type = Explod
trigger1 = time<110
anim = 3512
postype = back
pos = 160,120
vel = ((random%180*0.1)+4)*ifelse(random%2=1,1,-1),((random%180*0.1)+4)*ifelse(random%2=1,1,-1)
bindtime = 1
removetime = 12
pausemovetime = 999
supermovetime = 99999
supermove = 1
ignorehitpause = 1
under = 0
ownpal = 1
scale = 0.1,0.1

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1,1

;---------------------[]

;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景2
[Statedef 6251]
type = A
ctrl = 0
anim = 6251
velset = 0,0
movetype = A
physics = N
sprpriority = -19

;---------------------[変数]
;---------------------[効果音]
;---------------------[速度]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[変数]
[state a]
type = varadd
trigger1 = time <= 8
v = 1
value = 32

[state a]
type = varadd
trigger1 = time >= 112
v = 1
value = -32

;---------------------[拡縮・回転]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256 -var(1)

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1,1


;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[ヘルパー消滅]
[state a]
type = destroyself
trigger1 = time = 100

;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景3
[Statedef 6252]
type = A
ctrl = 0
anim = 6252
velset = 0,0
movetype = A
physics = N
sprpriority = -19

;---------------------[変数]
;---------------------[効果音]
;---------------------[速度]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[変数]
[state a]
type = varadd
trigger1 = time <= 8
v = 1
value = 32

[state a]
type = varadd
trigger1 = time >= 112
v = 1
value = -32

;---------------------[拡縮・回転]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = var(1),256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1.1,1.1


;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[ヘルパー消滅]
[state a]
type = destroyself
trigger1 = time = 100

;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景4
[Statedef 6253]
type = A
ctrl = 0
anim = 6253
velset = 0,0
movetype = A
physics = N
sprpriority = -15

;---------------------[変数]
;---------------------[効果音]
;---------------------[速度]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[変数]
;---------------------[拡縮・回転]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256 - time*17,256

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 1+time*0.2,1+time*0.2


;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[ヘルパー消滅]
[state a]
type = destroyself
trigger1 = time = 15

;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景5
[Statedef 6254]
type = A
ctrl = 0
anim = 6254
velset = 0,0
movetype = I
physics = N
sprpriority = -14

[state a]
type = AssertSpecial
trigger1 = 1
flag = noshadow
;---------------------[移動関係]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[透過]
[state a]
type = Trans
trigger1 = 1
trans = addalpha
alpha = 256-time*11,256

;---------------------[拡縮・回転]
[state a]
type = angleset
trigger1 = time = 0
value = random%180

[state a]
type = angleadd
trigger1 = ishelper(6254)
value = -2

[state a]
type = angleadd
trigger1 = ishelper(6255)
value = 0.5

[state a]
type = angleadd
trigger1 = ishelper(6256)
value = 2.7

[state a]
type = angleadd
trigger1 = ishelper(6257)
value = -0.75

[state a]
type = angledraw
trigger1 = 1
scale = 10.0 - time*0.01,1.0 - time*0.03

;---------------------[]
[state a]
type = destroyself
trigger1 = time = 24

;----------------------------------------------------------------------------
;(HELPER)フィニッシュ背景6
[Statedef 6255]
type = A
ctrl = 0
anim = 6255
velset = 0,0
movetype = A
physics = N
sprpriority = -15

;---------------------[変数]
;---------------------[効果音]
;---------------------[速度]
[state a]
type = bindtoparent
trigger1 = 1
pos = 0,0

;---------------------[変数]
;---------------------[拡縮・回転]
[state a]
type = Trans
trigger1 = 1
trans = add

;---------------------[拡縮・回転]
[state a]
type = angledraw
trigger1 = 1
scale = 0.3+time*0.4,0.5+time*0.3


;---------------------[演出]
[State 181, 4]
type = AssertSpecial
trigger1 = 1
flag = noshadow

;---------------------[ヘルパー消滅]
[state a]
type = destroyself
trigger1 = time = 15






;援軍ゲージ
[Statedef 10000]
type = S
physics = S
ctrl = 0
VelSet = 0,0
anim = 9998
sprpriority = 2
ontop = 1

[state 99999, 間違いで本体が来たら立ちへ移行]
type = selfstate
trigger1 = !ishelper
value = 0

;ゲームカウント
[State count]
type = Varadd
trigger1 = 1
var(31)=1
ignorehitpause = 0

;ヴァイタルソース
[State vars]
type = Varset
triggerall = root,alive
triggerall = RoundState = 2
triggerall = root,Alive && root,Life > 0
trigger1 = root,movetype=H&&(root,stateno!=[120,160])
trigger2 = root,stateno=150||root,stateno=152||root,stateno=154
trigger2 = var(25)>root,life
trigger2 = root,Numhelper(11040)=0
var(26) = 1000
ignorehitpause = 1

[State vars]
type = Varadd
trigger1 = var(26)
var(26) = ifelse(root,movetype=A,-10,-13-root,Numhelper(11040)*7)
ignorehitpause = 1

[State vars]
type = Varset
trigger1 = var(26)<0
var(26) = 0
ignorehitpause = 1

;ヴァイタルソース格納
[State -2]
type = ParentVaradd
triggerall = RoundState = 2
triggerall = alive
triggerall = (root,var(51)&8192)
;triggerall = (var(58)&128)
trigger1 = var(25)>root,life
fvar(33)=ceil((var(25)-root,Life)*0.53)
ignorehitpause = 1

[State vars]
type = ParentVarset
trigger1 = root,fvar(33)<0
fvar(33) = 0
ignorehitpause = 1
;ライフ格納
[State -2]
type = Varset
trigger1 = RoundState = [1,3]
;trigger1 = Alive && Life
var(25)=root,life
ignorehitpause = 1

[State count]
type = Varset
trigger1 = numpartner
trigger1 = partner,name = "Katakura Kojuro"
var(29)=1

[state 5900,ppecial]
type = parentvarset
trigger1 = var(29)
var(40) = 2
[state 5900,special]
type = parentvarset
trigger1 = var(29)
var(42) = 0
[state 5900,special]
type = parentvarset
trigger1 = var(29)
fvar(10) = 0
[state 5900,ppecial]
type = parentvarset
trigger1 = var(29)
fvar(11) = 0


;苦戦
[State count]
type = Varadd
trigger1 = (var(30)&1)
trigger1 = !(var(30)&2)
trigger1 = var(31):=100
var(30)=2
ignorehitpause = 0

[State count]
type = Varadd
triggerall = var(31)>700
triggerall = random<50
triggerall = !(var(30)&1)
triggerall = !(var(30)&2)
triggerall = root,life <root,lifemax/3.4
triggerall = enemy,life >enemy,lifemax/1.9
trigger1 = root,stateno=5210
trigger2 = root,stateno=5120
trigger3 = root,stateno=[120,160]
trigger4 = root,Var(34)=[1,5]
var(30)=1
ignorehitpause = 0

;汎用
[State count]
type = Varadd
trigger1 = (var(30)&4)
trigger1 = !(var(30)&8)
trigger1 = var(31):=100
var(30)=8
ignorehitpause = 0

[State count]
type = Varadd
triggerall = var(31)>400
triggerall = random<5
triggerall = !(var(30)&4)
triggerall = !(var(30)&8)
triggerall = root,life >root,lifemax/7
triggerall = root,life <root,lifemax/1.2
triggerall =enemy,life >enemy,lifemax/7
triggerall =enemy,life <enemy,lifemax/1.2
trigger1 = root,movetype=A
var(30)=4
ignorehitpause = 0

;援軍カウンター
;ステート取られた時用
;反復横跳び脱出用
[state 210]
type = parentvarset
;trigger1=1
triggerall = !root,var(58)
triggerall = root,stateno>0
triggerall = root,var(43)=0
triggerall = root,numhelper(2001)
triggerall = helper(2001),stateno=2155||helper(2001),stateno=19000
triggerall = command = "a"
triggerall = command = "holdup"
;triggerall = root,roundstate = 2
triggerall = power >= 1000
triggerall = root,alive
triggerall = root,hitfall
triggerall = root,HitOver=0
triggerall = root,vel x!=0||root,vel y!=0
triggerall = numexplod(2904) = 0&&Numexplod(2905) = 0&&Numexplod(2906) = 0&&Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,statetype != L
triggerall = root,movetype = H&&(root,stateno!=[120,160])
trigger1 = !root,numhelper(2000)
trigger2 = root,numhelper(2000)
trigger2 = helper(2000),stateno=2000
var(43)=10

;グレイブ弱カウント
[State grave]
type = Varadd
triggerall = root,stateno=600
trigger1 = root,var(8)
trigger1 = root,var(22)>-170
trigger1 = root,movehit=1
var(10)=1
ignorehitpause = 0

;グレイブ弱カウントリセット
[State grave]
type = Varset
triggerall = var(10)
trigger1 = enemynear,movetype!=H
var(10)=0
ignorehitpause = 1


;グレイブ中カウント
[State grave]
type = Varadd
triggerall = root,stateno=610
trigger1 = root,var(8)
trigger1 = root,var(22)>-170
trigger1 = root,movehit=1
var(11)=1
ignorehitpause = 0

;グレイブ中カウントリセット
[State grave]
type = Varset
triggerall = var(11)
trigger1 = p2movetype!=H
var(11)=0
ignorehitpause = 1


;グレイブ強カウント
[State grave]
type = Varadd
triggerall = root,stateno=630
trigger1 = root,var(8)
trigger1 = root,var(22)>-170
trigger1 = root,movehit=1
var(12)=1
ignorehitpause = 0

;グレイブ強カウントリセット
[State grave]
type = Varset
triggerall = var(12)
trigger1 = p2movetype!=H
var(12)=0
ignorehitpause = 1

;ID取得-------------------------------------------------
[State id]
type = VarSet
;triggerall = roundstate = [0,1]
triggerall = !var(50)
trigger1 = numenemy >= 1
var(50) = enemy(0),ID

[State id]
type = VarSet
;triggerall = roundstate =[0,1]
triggerall = !var(51)
trigger1 = numenemy >= 2
var(51) = enemy(1),ID

;------------------------------------------------------------------------
;ガークラゲージ

[state gakuradef]
type=parentvaradd
triggerall = roundstate=2
triggerall = gametime%65=0
triggerall = var(50)
trigger1=root,var(6)
var(6)=-1

[State Help,1]
Type = Helper
trigger1=!numhelper(9921)
trigger1=root,var(6)>270
trigger1=var(50)
trigger1=playerID(var(50)),stateno = [15000,15030]
;trigger1=playerID(var(50)),time=1
StateNo = 9921
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Ownpal = 1
ID = 9921
supermovetime = 999999
pausemovetime = 999999

[state gakuradef]
type=parentvarset
trigger1=root,var(6)<0
trigger2 = var(50)
trigger2 = playerID(var(50)),stateno = [15000,15030]
trigger2 = playerID(var(50)),time>1
var(6)=0

;2P--------------------------------------

[state gakuradef]
type=parentvaradd
triggerall = roundstate=2
triggerall = gametime%65=0
triggerall = numenemy>1
triggerall = var(51)
trigger1=root,var(15)
var(15)=-1

[State Help,1]
Type = Helper
trigger1=!numhelper(9921)
trigger1=root,var(15)>270
trigger1=var(51)
trigger1=playerID(var(51)),stateno = [15000,15030]
;trigger1=playerID(var(51)),time=1
StateNo = 9921
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Ownpal = 1
ID = 9921
supermovetime = 999999
pausemovetime = 999999

[state gakuradef]
type=parentvarset
trigger1=root,var(15)<0
trigger2 = var(51)
trigger2 = playerID(var(51)),stateno = [15000,15030]
trigger2 = playerID(var(51)),time>1
var(15)=0


;特殊イントロではイントロ中
[State ]
type = AssertSpecial
trigger1 = root,prevstateno=10096
trigger1 = root,stateno=3000
trigger1 = roundstate<2
flag = Intro

[State 45et]
type = null;BindToRoot
trigger1 = 1

;-------------------------------------------------------------------------------------- 
[state 2900,test];援軍ゲージ空洞枠	
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = root,var(40) <=1
triggerall = numenemy
triggerall = numexplod(2910) = 0
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim = ifelse(root,teamside = 1,2910,2911)
ID = 2910
pos = ceil(ifelse(root,teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -8
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = root,var(40) =2
ID = 2910
ignorehitpause = 1

[state 2900,test];援軍ゲージ空洞枠	
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = root,var(40) =2
triggerall = numexplod(2900) = 0
triggerall = numhelper(2000) = 0
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim = ifelse(teamside = 1,2900,2901)
ID = 2900
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -8
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
triggerall = numexplod(2900)
trigger1 = root,var(40) <=1
trigger2 = numhelper(2000)
trigger2 = !numexplod(2968)
ID = 2900
ignorehitpause = 1

[state 2900,test];援軍ゲージ空洞枠	
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = root,var(40) =2
triggerall = numhelper(2000)
trigger1 = !numexplod(2968)
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim = ifelse(teamside = 1,2968,2969)
ID = 2968
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -8
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
triggerall = numexplod(2968)
trigger1 = root,var(40) <=1
trigger2 = !numhelper(2000)
ID = 2968
ignorehitpause = 1
;----------------------------------------------------------

[state 7000,test];援軍要請可能
type = Explod
triggerall = root,palno != 8
triggerall = numenemy
triggerall = !var(29)
triggerall = numexplod(2902) = 0
triggerall = !root,var(40)
trigger1 = roundstate = 2
anim =  ifelse(teamside = 1,2902,2903)
ID = 2902
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) 
postype = left
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
triggerall = numexplod(2902)
trigger1 = root,var(40)
trigger2 = roundstate != 2
ID = 2902
ignorehitpause = 1



[state 7000,]
type = parentvaradd
triggerall = numenemy
trigger1 = numexplod(2920) = 0
trigger1 = root,var(40)=1
fvar(30) = 0.1
persistent = 0

[state 7000,]
type = parentvaradd
trigger1 = root,fvar(11) <=30
trigger1 = numenemy
trigger1 = numexplod(2920) = 0
trigger1 = root,var(40)=1
fvar(30) = 0.1
persistent = 0

[state 7000,test];援軍移動中
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = numexplod(2920) = 0
triggerall = root,var(40)=1
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,2920,2921)
ID = 2920
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) 
postype = left
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = root,var(40)!=1
ID = 2920
ignorehitpause = 1

[state 7000,test];援軍移動中
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2922)
triggerall = root,var(40)=1
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,2922,2923)
ID = 2922
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) 
postype = left
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
triggerall = numexplod(2922)
trigger1 = root,var(40) != 1
ID = 2922
ignorehitpause = 1

[state 7000,test];馬移動中
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
;triggerall = !numexplod(2922)
triggerall = root,var(40)=1
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,2926,2927)
ID = 2926
pos = ceil(ifelse(teamside = 1,root,fvar(28)-(root,var(46)*0.05),319 - root,fvar(28)+(root,var(46)*0.05))),ceil(root,fvar(29)) 
postype = left
sprpriority = -2
bindtime = -1
removetime = 1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[State 193, 5];小十郎セリフ
type = PlaySnd
trigger1 = root,var(46) = 510-ceil(root,fvar(11)*1.2)
trigger1 = numenemy
trigger1 = root,var(40)=1
value = 2010, random%3
channel = 1
lowpriority = 0
persistent = 0

;---------------------------------
[state 7000,]
type = parentvarset
trigger1 = root,var(40)=1
;trigger1 = roundstate = 2
trigger1 = root,var(46) = 0
var(46) = 660-ceil(root,fvar(11)*1.2)

[state 7000,];到着
type = parentvaradd
trigger1 = root,var(40)=1
trigger1 = root,var(46)
trigger1 = roundstate = 2
var(46) = -1-(root,TeamMode=turns)
ignorehitpause = 1

[state 7000,];援軍ゲージ最大値決定
type = parentvarset
trigger1 = root,var(40)=1
trigger1 = root,var(46)<=0
var(42) = 64-floor((100-root,fvar(11))/2)
ignorehitpause = 1

[state 7000,];行き過ぎリセット
type = parentvarset
trigger1 = root,var(40)=1
trigger1 = root,var(46)<=0
trigger2 = (root,var(51)&4096)
trigger2 = root,var(40)=2
fvar(10) = root,var(42)
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = root,var(40)=1
trigger1 = root,var(46)<=0
fvar(30) = 0.1
persistent = 0

[state 7000,test];到着
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = numexplod(2924) = 0
trigger1 = root,var(40)=1
trigger1 = root,var(46)<=0
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,2924,2925)
ID = 2924
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = 2
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999
persistent = 0

[state 7000,];到着
type = parentvarset
trigger1 = root,var(40)=1
trigger1 = root,var(46)<=0
var(40) = 2
ignorehitpause = 1
;-----------------------------------



[state gomyue];矢印、レベルアップ
type = Explod
triggerall = roundstate = 2
triggerall = root,stateno>0||root,ctrl
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = root,fvar(11) < 100
triggerall = numenemy
triggerall = !numexplod(2964)
triggerall = !root,var(39)
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = root,var(40)=2
trigger1 = numexplod(2904) = 0&&Numexplod(2905) = 0&&Numexplod(2906) = 0&&Numexplod(2908) = 0&&Numexplod(2909) = 0
trigger2 = root,var(40)=0
anim =  ifelse(teamside = 1,2964,2965)
ID = 2964
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 999999999
pausemovetime = 999999999

[state 7000,test];消去
type = removeExplod
triggerall = numexplod(2964)
trigger1 = root,var(40)=1
trigger2 = root,var(40)=2
trigger2 = numexplod(2904)||Numexplod(2905)||Numexplod(2906)||Numexplod(2908)||Numexplod(2909)
trigger3 = root,var(39)
trigger4 = root,fvar(11) >= 100
trigger5 = roundstate != 2
ID = 2964
ignorehitpause = 1

;援軍レベル
[state 7000,]
type = parentvaradd
triggerall = roundstate = 2
triggerall = root,stateno>0||root,ctrl
triggerall = root,fvar(11) < 100
triggerall = !root,var(40)
trigger1=gametime % ifelse((root,var(51)&16384)&&!(root,var(51)&32768),36,40)=0
fvar(11) = 1+(Root,TeamMode = turns)

[state 7000,]
type = parentvaradd
triggerall = roundstate = 2
triggerall = root,stateno>0||root,ctrl
triggerall = root,fvar(11) < 100
triggerall = numexplod(2904) = 0&&Numexplod(2905) = 0&&Numexplod(2906) = 0&&Numexplod(2908) = 0&&Numexplod(2909) = 0
triggerall = !root,var(39)
triggerall = root,var(40)=2
trigger1=gametime % ifelse((root,var(51)&16384)&&!(root,var(51)&32768),136,150)=0
fvar(11) = 1


[state 7000,];行き過ぎリセット
type = parentvarset
trigger1 = root,fvar(11) > 100
fvar(11) = 100
ignorehitpause = 1

[state 7000,];行き過ぎリセット
type = parentvarset
trigger1 = root,fvar(11) < 1
fvar(11) = 1
ignorehitpause = 1

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32939)
trigger1 = ceil(root,fvar(11))/10 != 9
ID = 32939
ignorehitpause = 1

[state 7000,test];9十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32939)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=9
anim =  ifelse(teamside = 1,2939,2949)
ID = 32939
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32938)
trigger1 = ceil(root,fvar(11))/10 != 8
ID = 32938
ignorehitpause = 1

[state 7000,test];8十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32938)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=8
anim =  ifelse(teamside = 1,2938,2948)
ID = 32938
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32937)
trigger1 = ceil(root,fvar(11))/10 != 7
ID = 32937
ignorehitpause = 1

[state 7000,test];7十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32937)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=7
anim =  ifelse(teamside = 1,2937,2947)
ID = 32937
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29))   
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32936)
trigger1 = ceil(root,fvar(11))/10 != 6
ID = 32936
ignorehitpause = 1

[state 7000,test];6十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32936)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=6
anim =  ifelse(teamside = 1,2936,2946)
ID = 32936
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32935)
trigger1 = ceil(root,fvar(11))/10 != 5
ID = 32935
ignorehitpause = 1

[state 7000,test];5十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32935)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=5
anim =  ifelse(teamside = 1,2935,2945)
ID = 32935
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32934)
trigger1 = ceil(root,fvar(11))/10 != 4
ID = 32934
ignorehitpause = 1

[state 7000,test];4十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32934)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=4
anim =  ifelse(teamside = 1,2934,2944)
ID = 32934
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29))  
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32933)
trigger1 = ceil(root,fvar(11))/10 != 3
ID = 32933
ignorehitpause = 1

[state 7000,test];3十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32933)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=3
anim =  ifelse(teamside = 1,2933,2943)
ID = 32933
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32932)
trigger1 = ceil(root,fvar(11))/10 != 2
ID = 32932
ignorehitpause = 1

[state 7000,test];2十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32932)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=2
anim =  ifelse(teamside = 1,2932,2942)
ID = 32932
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32931)
trigger1 = ceil(root,fvar(11))/10 != 1
ID = 32931
ignorehitpause = 1

[state 7000,test];1十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32931)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=1
anim =  ifelse(teamside = 1,2931,2941)
ID = 32931
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(32930)
trigger1 = ceil(root,fvar(11))/10 != 0
ID = 32930
ignorehitpause = 1

[state 7000,test];0十桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(32930)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))/10=0
anim =  ifelse(teamside = 1,2930,2940)
ID = 32930
pos = ceil(ifelse(teamside = 1,root,fvar(28)-8,319 - root,fvar(28)-8)),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999



;----------------------------------------------------

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2939)
trigger1 = ceil(root,fvar(11))%10 != 9
ID = 2939
ignorehitpause = 1

[state 7000,test];9一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2939)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=9
anim =  ifelse(teamside = 1,2939,2949)
ID = 2939
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2938)
trigger1 = ceil(root,fvar(11))%10 != 8
ID = 2938
ignorehitpause = 1

[state 7000,test];8一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2938)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=8
anim =  ifelse(teamside = 1,2938,2948)
ID = 2938
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2937)
trigger1 = ceil(root,fvar(11))%10 != 7
ID = 2937
ignorehitpause = 1

[state 7000,test];7一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2937)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=7
anim =  ifelse(teamside = 1,2937,2947)
ID = 2937
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) 
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2936)
trigger1 = ceil(root,fvar(11))%10 != 6
ID = 2936
ignorehitpause = 1

[state 7000,test];6一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2936)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=6
anim =  ifelse(teamside = 1,2936,2946)
ID = 2936
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2935)
trigger1 = ceil(root,fvar(11))%10 != 5
ID = 2935
ignorehitpause = 1

[state 7000,test];5一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2935)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=5
anim =  ifelse(teamside = 1,2935,2945)
ID = 2935
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2934)
trigger1 = ceil(root,fvar(11))%10 != 4
ID = 2934
ignorehitpause = 1

[state 7000,test];4一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2934)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=4
anim =  ifelse(teamside = 1,2934,2944)
ID = 2934
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2933)
trigger1 = ceil(root,fvar(11))%10 != 3
ID = 2933
ignorehitpause = 1

[state 7000,test];3一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2933)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=3
anim =  ifelse(teamside = 1,2933,2943)
ID = 2933
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2932)
trigger1 = ceil(root,fvar(11))%10 != 2
ID = 2932
ignorehitpause = 1

[state 7000,test];2一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2932)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=2
anim =  ifelse(teamside = 1,2932,2942)
ID = 2932
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2931)
trigger1 = ceil(root,fvar(11))%10 != 1
ID = 2931
ignorehitpause = 1

[state 7000,test];1一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2931)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=1
anim =  ifelse(teamside = 1,2931,2941)
ID = 2931
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2930)
trigger1 = ceil(root,fvar(11))%10 != 0
ID = 2930
ignorehitpause = 1

[state 7000,test];0一桁
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2930)
triggerall = ceil(root,fvar(11))!=100
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))%10=0
anim =  ifelse(teamside = 1,2930,2940)
ID = 2930
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(2950)
trigger1 = ceil(root,fvar(11)) != 100
ID = 2950
ignorehitpause = 1

[state 7000,test];100
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2950)
triggerall = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
trigger1 = ceil(root,fvar(11))=100
anim =  ifelse(teamside = 1,2950,2951)
ID = 2950
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];Lv
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = numexplod(2928) = 0
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,2928,2929)
ID = 2928
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

;---------------------------------------------------------------
[state 7000,]
type = parentvaradd
trigger1 = root,var(39)
trigger1 = !numhelper(2000)
var(39) = -1
ignorehitpause = 1

[state 7000,];，使用後0、時間回復（速度はゲージ最大値で変動）
type = parentvaradd
triggerall = roundstate = 2
triggerall = root,fvar(10) <= root,var(42)
trigger1 = !root,var(39)
trigger1 = !numhelper(2000)
trigger1 = root,var(40)=2
trigger1 = gametime % ceil(5-root,fvar(10)*0.078) = 0
fvar(10) = 0.28+(root,var(42)*0.006)+root,fvar(10)*(root,fvar(10)/2)*0.000095

[state 7000,test];撤退後全快まで×マーク
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = !numexplod(2906)
trigger1 = !numhelper(2000)
trigger1 = root,var(42)>root,fvar(10)
anim = 2904 + (teamside = 2)
ID = 2906
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];全回エフェクト
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numexplod(2906)
triggerall = !numexplod(2954)
trigger1 = root,fvar(10) > root,var(42)
anim = 2954 + (teamside = 2)
ID = 2954
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -3
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];全回エフェクト
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numexplod(2906)
triggerall = !numexplod(2956)
trigger1 = root,fvar(10) > root,var(42)
anim = 2956; + (teamside = 2)
ID = 2956
pos = ceil(ifelse(teamside = 1,root,fvar(28)+9,319 - root,fvar(28)-9)),ceil(root,fvar(29)+24)
postype = left
sprpriority = -1
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];全回エフェクト
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numexplod(2906)
triggerall = !numexplod(2958)
trigger1 = root,fvar(10) > root,var(42)
anim = 2958 + (teamside = 2)
ID = 2958
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = -2
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];全回エフェクト
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numexplod(2906)
triggerall = !numexplod(2952)
trigger1 = root,fvar(10) > root,var(42)
anim = 2952; + (teamside = 2)
ID = 2952
pos = ceil(ifelse(teamside = 1,root,fvar(28)+8,319 - root,fvar(28)-8)),ceil(root,fvar(29)+23)
postype = left
sprpriority = -1
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];全回エフェクト
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numexplod(2906)
triggerall = !numexplod(2966)
trigger1 = root,fvar(10) > root,var(42)
anim = 2966 + (teamside = 2)
ID = 2966
pos = ceil(ifelse(teamside = 1,root,fvar(28)-20,319 - root,fvar(28)+20)),ceil(root,fvar(29)+23)
postype = left
sprpriority = -1
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.3,0.3
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 2952];しゃーないvar使うか
type = Varadd
triggerall = root,palno != 8
triggerall = !var(29)
trigger1 = numexplod(2952)
v = 20
value = 1

[state 2952]
type = ModifyExplod
triggerall = numexplod(2952)
trigger1 = var(20) = [20,28]
ID = 2952
scale = 0.05+(var(20)-20)*0.06,0.05+(var(20)-20)*0.06

[state 2952]
type = ModifyExplod
triggerall = numexplod(2952)
trigger1 = var(20) > 78
ID = 2952
scale = 0.5+(var(20)-78)*0.015,0.5+(var(20)-78)*0.015

[state 2952]
type = ModifyExplod
triggerall = numexplod(2956)
trigger1 = var(20) > 79
ID = 2956
scale = 0.5+(var(20)-79)*0.03,0.5+(var(20)-79)*0.03

[state 2952]
type = ModifyExplod
triggerall = numexplod(2966)
trigger1 = var(20) > 3
ID = 2966
scale = 0.3+(var(20)-3)*0.01,0.3+(var(20)-3)*0.01

[state 2952];しゃーないvar使うか
type = Varset
trigger1 = var(20)
trigger1 = !numexplod(2952)
v = 20
value = 0


[state 7000,test];全回したら×外す
type = removeExplod
triggerall = numexplod(2906)
trigger1 = root,fvar(10) > root,var(42)
ID = 2906
ignorehitpause = 1

[state 7000,];行き過ぎリセット
type = parentvarset
trigger1 = root,fvar(10) > root,var(42)
fvar(10) = root,var(42)
ignorehitpause = 1

[state 7000,];行き過ぎリセット
type = parentvarset
trigger1 = root,fvar(10) < 0
fvar(10) = 0
ignorehitpause = 1


[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(12900)
trigger1 = numhelper(2000)
ID = 12900
ignorehitpause = 1

[state 7000,test];消去
type = removeExplod
trigger1 = numexplod(12901)
trigger1 = !numhelper(2000)
ID = 12901
ignorehitpause = 1

[state 7000,test];エングンゲージレベルで最大値決定
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(12900)
triggerall = root,var(40)=2
trigger1 = roundstate >= 2 || (Roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1)))
anim =  ifelse(teamside = 1,13001+root,var(42),13101+root,var(42))
ID = 12900+numhelper(2000)
pos = ceil(ifelse(teamside = 1,root,fvar(28)-numhelper(2000)*7,319 - root,fvar(28)+numhelper(2000)*7)),ceil(root,fvar(29)+numhelper(2000)*7)
postype = left
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[state 2952];空洞枠変更判定
type = Varset
trigger1 = !numexplod(2900)
trigger1 = numexplod(2968)
trigger1 = var(22)=0
v = 22
value = 1

[state 2952];本当はもっとスマートに判定したかったんすよ
type = Varset
trigger1 = numexplod(2900)
trigger1 = !numexplod(2968)
trigger1 = var(22)
v = 22
value = 0

[state 7000,test];消す
type = removeExplod
trigger1 = root,fvar(10) != var(21)
trigger2 = var(23) != var(22)
ID = 13000
ignorehitpause = 1

[state 2952];しゃーないvar使うか
type = Varset
trigger1 = root,fvar(10) != var(21)
v = 21
value = ceil(root,fvar(10))

[state 2952];もう消えてしまう援軍ゲージは見たくないお
type = Varset
trigger1 = var(23) != var(22)
v = 23
value = var(22)

[state 7000,test];エングンゲージ本体
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
trigger1 = !numexplod(13000)
anim =  ifelse(teamside = 1,12900+ceil(root,fvar(10)),12800+ceil(root,fvar(10)))
ID = 13000
pos = ceil(ifelse(teamside = 1,root,fvar(28)-numhelper(2000)*7,319 - root,fvar(28)+numhelper(2000)*7)),ceil(root,fvar(29)+numhelper(2000)*7)
postype = left
sprpriority = -2
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999


[state 7000,test];小十いる時
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numhelper(2000)
trigger1 = !numexplod(2960)
anim = 2960 + (teamside = 2)
ID = 2960
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = 0
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];いなくなったら消す
type = removeExplod
triggerall = !numhelper(2000)
trigger1 = numexplod(2960)
ID = 2960
ignorehitpause = 1

[state 7000,test];バースト使用不能時×マーク　被必殺時の禁止
type = Explod
triggerall = root,palno != 8
triggerall = numenemy
triggerall = !var(29)
triggerall = !numexplod(2904)
trigger1 = root,var(45) = -3
anim = 2904 + (teamside = 2)
ID = 2904
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) + ((teamside = 1 && ID = 33) || ID = 35) * 10
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];×マークを	のをけす 食らい時でるほう
type = removeExplod
triggerall = roundstate = 2
trigger1 = root,movetype != H
trigger2 = root,var(45) != -3
ID = 2904
ignorehitpause = 1

;-------なげ、イントロ中
[state 7000,test];援軍使用不能時×マーク
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2905)
trigger1 = roundstate <= 1 && (root,stateno != 5900 || (root,stateno = 5900 && time >= 1))
trigger2 = roundstate = 3 || !alive
trigger3 = (root,stateno = 810 || root,stateno = 861|| root,stateno = 5120)&&time < 20
anim = 2904 + (teamside = 2)
ID = 2905
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) + ((teamside = 1 && ID = 33) || ID = 35) * 10
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];
type = removeExplod
triggerall = numexplod(2905)
triggerall = roundstate = 2
trigger1 = root,stateno != 810
trigger1 = root,stateno != 861
trigger1 = root,stateno != 5120
ID = 2905
ignorehitpause = 1


[state 7000,test];状態異常:援軍使用不能
type = Explod
triggerall = root,palno != 8
triggerall = !var(29)
triggerall = numenemy
triggerall = !numexplod(2909)
trigger1 = Enemy,AuthorName = "Neat Unsou" && Enemy,Name = "Mouri Motonari"
trigger1 = Enemy,var(29)
anim = 2904 + (teamside = 2)
ID = 2909
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29)) + ((teamside = 1 && ID = 33) || ID = 35) * 10
postype = left
sprpriority = -1
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];
type = removeExplod
triggerall = numexplod(2909)
triggerall = roundstate = 2
trigger1 = Enemy,AuthorName = "Neat Unsou" && Enemy,Name = "Mouri Motonari"
trigger1 = Enemy,var(29)=0
ID = 2909
ignorehitpause = 1

[State 200, 2];援軍出現時のあれ
type = helper
triggerall = root,palno != 8
triggerall = !var(29)
trigger1 = movetype != H
trigger1 = !numhelper(12052)
trigger1 = numhelper(2000)
trigger1 = (helper(2000),stateno=[2200,2299])||helper(2000),stateno=11000
trigger1 = helper(2000),time < 2
trigger1 = roundstate = 2
stateno = 12052
ID = 12052
postype = back
pos = ceil(ifelse(teamside = 1,ifelse(facing=-1,294-root,fvar(28),root,fvar(28)+22),ifelse(facing=-1,root,fvar(28)+22,294-root,fvar(28)))),20+ceil(root,fvar(29)-ScreenPos Y)
sprpriority = 4
ownpal = 1
persistent = 2
pausemovetime = 99999
supermovetime = 99999
supermove = 1
ignorehitpause = 1

[state 7000,test];一撃表示
type = playsnd
triggerall = root,fvar(30)>=2
trigger1 = !numexplod(2962)
trigger1 = root,var(24) != 1
value = 6250,0
persistent = 0

[state 7000,test];一撃表示
type = Explod
triggerall = root,fvar(30)>=2
trigger1 = !numexplod(2962)
trigger1 = root,var(24) != 1
anim = 2962 + (teamside = 2)
ID = 2962
pos = ceil(ifelse(teamside = 1,root,fvar(28),319 - root,fvar(28))),ceil(root,fvar(29))
postype = left
sprpriority = 7
bindtime = -1
removetime = -1
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 9999
pausemovetime = 9999

[state 7000,test];一撃消去
type = removeExplod
triggerall = numexplod(2962)
trigger1 = root,fvar(30)<2
trigger2 = root,var(24) = 1
ID = 2962
ignorehitpause = 1

[state a]
type = removeexplod
triggerall = numexplod(6160)
trigger1 = root,movetype = H
trigger2 = root,stateno != [3000,3900]
trigger3 = numhelper(2000)
trigger3 = numhelper(2300)
id = 6160

;弱
[State -1, Jump Punch]
type = varset
trigger1 = command = "x"
;trigger1 = command != "holddown"
var(32)=3

;中
[State -1, Jump Slash]
type = varset
trigger1 = command = "y"
;trigger1 = command != "holddown"
var(33)=3

;強
[State -1, Jump Kick]
type = varset
trigger1 = command = "z"
var(34)=3

;ダッシュ
[State -1, Run Fwd]
type = varset
trigger1 = command = "FF"
var(35)=4

;バックダッシュ
[State -1, Run Fwd]
type = varset
trigger1 = command = "BB"
var(36)=4

[state jetx]
type = varset
trigger1 = command = "Jet_X"
var(37)=5

[state deathfang]
type = varset
trigger1 = command = "deathfang"
var(38)=5

[state ]
type = varset
trigger1 = command = "magnum"
var(39)=5

[state ]
type = varset
trigger1 = command = "war_dance"
var(40)=5

[state ]
type = varset
trigger1 = command = "re_bite"
var(41)=5

[state ]
type = varset
trigger1 = command = "phantom_dive"
var(42)=8

[state ]
type = varset
trigger1 = command = "hell_dragon"
var(43)=8

[State 99999, 中先行入力フレーム減算]
type = varadd
trigger1 = var(32) > 0
var(32) = -1

[State 99999, 中先行入力フレーム減算]
type = varadd
trigger1 = var(33) > 0
var(33) = -1

[State 99999, 強先行入力フレーム減算]
type = varadd
trigger1 = var(34) > 0
var(34) = -1

[State 99999, ダッシュ先行入力フレーム減算]
type = varadd
trigger1 = var(35) > 0
var(35) = -1

[State 99999, バックダッシュ先行入力フレーム減算]
type = varadd
trigger1 = var(36) > 0
var(36) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(37) > 0
var(37) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(38) > 0
var(38) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(39) > 0
var(39) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(40) > 0
var(40) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(41) > 0
var(41) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(42) > 0
var(42) = -1

[State 99999, 先行入力フレーム減算]
type = varadd
trigger1 = var(43) > 0
var(43) = -1


[state 99999, turn]
type = turn
trigger1 = root,facing != facing
;---------------------------------------------------------------------------
; 押し返し
[Statedef 4010]
type    = A
movetype= I
physics = N
anim = 4001
ctrl = 0

[state -1]
type = velset
trigger1 = time=0
x = -root,gethitvar(xvel)*1.5*root,facing

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1051, 2]
type = destroyself
trigger1 = Time=8||((root,stateno!=[150,159])&&Root,movetype=H)
trigger2 = parent,alive = 0


;---------------------------------------------------------------------------
; 押し返し強
[Statedef 4011]
type    = A
movetype= I
physics = N
anim = 4001
ctrl = 0
velset = 20,0

[State 1051, 2]
type = playerpush
trigger1 = 1
value = 1

[State 1051, 2]
type = nothitby
trigger1 = 1
value = SCA
time = 1

[State 1051, 2]
type = destroyself
trigger1 = time = 16
trigger2 = parent,alive = 0
