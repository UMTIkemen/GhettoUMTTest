
;============================================================================================================
;
;                                     蒼天疾駆  猿飛佐助
;
;                                     戦神覇王  武田信玄
;
;============================================================================================================
; Stand
[Statedef 2000];お館様はほぼ見てるだけ
type = S
physics = S
sprpriority = 0
anim = 2000

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State 100, 1]
type = Velset
trigger1 = Time = 0
x = 0

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State -1]
type = Posset
trigger1 = time = 0
y = 0

[State -1]
type = turn
trigger1 = p2dist X < 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 3

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype != H||(root,stateno = [120,139])
Triggerall = !root,var(58)
triggerall = root,stateno = 3100
triggerall = root,power >= 1000
triggerall = root,command = "a"
trigger1 = time <= 56
trigger1 = root,fvar(11) < 100
trigger2 = time <= 37
trigger2 = root,fvar(11) = 100
trigger3 = time >= 43
trigger3 = time <= 56
trigger3 = root,fvar(11) = 100
value = 2250
ignorehitpause = 1

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype != H||(root,stateno = [120,139])
triggerall = root,fvar(11) =100
triggerall = time >= 38
triggerall = time <= 42
Trigger1 = !root,var(58)
trigger1 = root,stateno = 3100
trigger1 = root,power >= 1000
trigger1 = root,command = "a"
value = 2251
ignorehitpause = 1

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype = H&&(root,stateno!=[120,160])
triggerall = root,alive
triggerall = root,power >= 1000
triggerall = root,statetype != L
Trigger1 = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command = "holdup"
value = 2265

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype != H||(root,stateno = [120,139])
Trigger1 = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,var(8)
trigger2 = p2statetype = A
Trigger2 = P2StateType != L
trigger2 = root,var(8)
Trigger2 = root,P2BodyDist Y-Ceil(root,Vel Y)+Ceil(EnemyNear,Vel Y) >= 70
value = 2263

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
TriggerAll = !root,var(58)
triggerall = root,movetype != H||(root,stateno = [120,139])
trigger1 = root,command = "a"
trigger1 = root,command != "holdfwd"
trigger1 = root,command != "holdback"
trigger1 = root,command != "holddown"
value = 2200

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype != H||(root,stateno = [120,139])
Trigger1 = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command = "holdfwd"
trigger1 = root,command != "holdback"
trigger1 = root,command != "holddown"
value = 2201

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
TriggerAll = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command != "holdfwd"
trigger1 = root,command = "holdback"
trigger1 = root,command != "holddown"
trigger1 = root,movetype != H||(root,stateno = [120,139])
value = 2202

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
TriggerAll = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command != "holdfwd"
trigger1 = root,command != "holdback"
trigger1 = root,command = "holddown"
trigger1 = root,movetype != H||(root,stateno = [120,139])
value = 2260

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
triggerall = root,movetype != H||(root,stateno = [120,139])
Trigger1 = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command = "holdfwd"
trigger1 = root,command != "holdback"
trigger1 = root,command = "holddown"
value = 2261

[State 9001, 5]
type = changestate
triggerall = helper(10000),numexplod(2904) = 0&&helper(10000),Numexplod(2905) = 0&&helper(10000),Numexplod(2906) = 0&&helper(10000),Numexplod(2909) = 0
triggerall = root,var(40)=2&&root,fvar(10)
TriggerAll = !root,var(58)
trigger1 = root,command = "a"
trigger1 = root,command != "holdfwd"
trigger1 = root,command = "holdback"
trigger1 = root,command = "holddown"
trigger1 = root,movetype != H||(root,stateno = [120,139])
value = 2262

[State 9001, 5]
type = changestate
triggerall = root,win
trigger1 = root,stateno = [180,199]
value = 2190

[State 9001, 5]
type = changestate
triggerall = roundstate=2
trigger1 = time >= 71
trigger2 = root,fvar(10) <= 0
value = 2130

[State 3000, 00]
type = changestate
trigger1 = ScreenPos Y != [-40,279]
trigger2 = ScreenPos X != [-50,389]
value = 2130
ignorehitpause = 1

;---------------------------------------------------------------------------
; 勝利
[Statedef 2190]
type = S
physics = N
sprpriority = 0
anim = 2190

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State 100, 1]
type = Velset
trigger1 = Time = 0
x = 0

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 380
trigger1 = root,stateno = 181
value = 2191,random%3

[State 191, Snd 1]
type = PlaySnd
triggerall = time = 260
triggerall = root,stateno = 182
trigger1 = enemynear,Name != "Date Masamune"
trigger2 = !matchover
value = 2191,random%3

[State 191, Snd 1]
type = PlaySnd
triggerall = time = 380
triggerall = root,stateno = 182
triggerall = matchover
trigger1 = enemynear,Name = "Date Masamune"
value = 2191,random%3

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 300
trigger1 = root,stateno = 183
value = 2191,random%3

[State 182, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,650]
flag = RoundNotOver

;---------------------------------------------------------------------------
; 武田が力はこれからよ
[Statedef 2050]
type = S
movetype = A
physics = N
sprpriority = 0
anim = 2050
poweradd = -1000

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State -1]
type = turn
trigger1 = p2dist X < 0

[State a]
type = NotHitBy
trigger1 = time <=70
value = SCA
time = 1

[State 1051, 2];喰らい
type = hitoverride
trigger1 = time > 70
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[state 7000,]
type = parentvaradd
trigger1 = animelemtime(8) = 0
fvar(30) = 0.06
persistent = 0
ignorehitpause = 1

[state a];BASARA技発動エフェクト
type = Helper
trigger1 = time = 12
id = 2300
name = "BASARA"
pos = 0 , -62
postype = p1
stateno = 2300
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 1051, 0];影旋風
type = helper
trigger1 = root,fvar(11) <= 50
trigger1 = animelem = 26
ID = 2051
helpertype = normal
postype = p1
pos = 10,0
stateno = 2051
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75
pausemovetime = 999999
supermovetime = 999999

[State 1051, 0];影旋風
type = helper
trigger1 = root,fvar(11) >= 50
trigger1 = animelem = 26
ID = 2051
helpertype = normal
postype = p1
pos = 10,0
stateno = 2051
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75
pausemovetime = 999999
supermovetime = 999999

[State 1051, 0];影旋風
type = helper
trigger1 = root,fvar(11) >= 50
trigger1 = animelemtime(26) = 9
ID = 2051
helpertype = normal
postype = p1
pos = 10,0
stateno = 2051
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75
pausemovetime = 999999
supermovetime = 999999

[State 1051, 0];影旋風
type = helper
trigger1 = root,fvar(11) = 100
trigger1 = animelem = 32
ID = 2051
helpertype = normal
postype = p1
pos = 10,0
stateno = 2051
ownpal = 1
size.xscale = 0.75
size.yscale = 0.75
pausemovetime = 999999
supermovetime = 999999


[State 100, 2]
type = Velset
trigger1 = !time
x = 0

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2000

;----------------------------------------------------------------------------------------
[Statedef 2051];影旋風
type    = A
movetype= A
physics = N
anim = 2051
sprpriority = 5
juggle  = 0

[State 3110, 1]
type = velset
trigger1 = 1
x = 7.5

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = 2050,0

[State 3110, ヒット定義] 
type = HitDef
trigger1 = hitcount <=1
trigger1 = time%9 = 0
attr = A, HP
animtype  = hard
damage    = ceil(36*root,fvar(6)), 3
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 19+parent,var(41)
ground.hittime  = 19+parent,var(41)
ground.velocity = -10.5*parent,fvar(14)
guard.velocity = -3
air.velocity = -3.7*parent,fvar(14),-5.2*parent,fvar(15)
fall.recover = 0
fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
ID = 200

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit=1
trigger1 = numtarget(200)
trigger1 = hitcount <=2
id = 7000
postype = p2
ignorehitpause = 1
persistent = 5
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded=1
trigger1 = numtarget(200)
id = 7022
pos = 9, -58-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 2
ignorehitpause = 1
keyctrl = 0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
trigger1 = movehit = 1
trigger1 = !Target,Ishelper
value = 555
ignorehitpause = 1
;persistent = 0

[state a]
type = destroyself
trigger1 = time >= 200
ignorehitpause = 1

;---------------------------------------------------------------------------
; お館様レーザー準備
[Statedef 2052]
type = S
movetype = A
physics = N
sprpriority = 0
anim = 2052
poweradd = -1000

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State -1]
type = turn
trigger1 = p2dist X < 0

[State a]
type = NotHitBy
trigger1 = time <=35
value = SCA
time = 1

[State 1051, 2];喰らい
type = hitoverride
trigger1 = time > 35
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[state 7000,]
type = parentvaradd
trigger1 = animelemtime(8) = 0
fvar(30) = 0.06
persistent = 0
ignorehitpause = 1

[state a];BASARA技発動エフェクト
type = Helper
trigger1 = time = 12
id = 2300
name = "BASARA"
pos = 0 , -62
postype = p1
stateno = 2300
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 1051, 0];お館様レーザー
type = helper
trigger1 = parent,anim = 3100 && parent,animelem = 16
ID = 2053
helpertype = normal
postype = p1
pos = 30,0
stateno = 2053
ownpal = 1
size.xscale = 0.9
size.yscale = 0.9
pausemovetime = 999999
supermovetime = 999999

[State 1051, 0];お館様降臨
type = helper
trigger1 = animelem = 4
ID = 2054
name = "Takeda Shingen"
helpertype = normal
postype = p1
pos = -20,-200
stateno = 2054
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5
pausemovetime = 999999
supermovetime = 999999


[State 100, 2]
type = Velset
trigger1 = !time
x = 0

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 2000

;----------------------------------------------------------------------------------------
[Statedef 2053];お館様レーザー
type    = A
movetype= A
physics = N
anim = 2053
sprpriority = 7
juggle  = 0

[State 1051, 1]
type = velset
trigger1 = time = 0
x = 6.8

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 0
value = 3100,5

[State 1051, ヒット定義] 
type = HitDef
trigger1 = animelem = 1
attr = S, HP
animtype  = hard
damage    = ceil(355*root,fvar(6)), 20
priority = 5
hitflag = MAF
guardflag = MA
pausetime = 0,10
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 19+parent,var(41)
ground.hittime  = 19+parent,var(41)
ground.velocity = -10.5*parent,fvar(14)
guard.velocity = -3
air.velocity = -3.7*parent,fvar(14),-5.2*parent,fvar(15)
fall.recover = 0
fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
palfx.time = 40
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 200

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit=1
trigger1 = numtarget(200)
trigger1 = hitcount <=2
id = 7000
postype = p2
ignorehitpause = 1
persistent = 5
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded=1
trigger1 = numtarget(200)
id = 7022
pos = 9, -64-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 2
ignorehitpause = 1
keyctrl = 0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
trigger1 = movehit = 1
trigger1 = !Target,Ishelper
value = 555
ignorehitpause = 1
;persistent = 0

[state a]
type = destroyself
trigger1 = time >= 75
ignorehitpause = 1

;----------------------------------------------------------------------------------------
[Statedef 2054];お館様降臨
type = S
physics = N
sprpriority = 1
anim = 2054

[State 1051, 1]
type = velset
trigger1 = time = 0
y = 40.1

[State 1051, 1]
type = velset
trigger1 = time = 5
y = 0

[State 1051, 1]
type = velset
trigger1 = animelem = 34
y = -33.5

[State 191, Snd 1]
type = PlaySnd
trigger1 = animelem = 34
value = 41,0

[State 100 , 0]
type = Explod
trigger1 = animelem = 4
anim = 6010
postype = p1
pos = -28,3
sprpriority = 8
bindtime = 1
ownpal = 1
facing = 1
scale = 0.5,0.5
pausemovetime = 999999
supermovetime = 999999
ID = 6010

[State 100 , 0]
type = Explod
trigger1 = animelem = 4
anim = 6010
postype = p1
pos = 28,3
sprpriority = 8
bindtime = 1
ownpal = 1
facing = -1
scale = 0.5,0.5
pausemovetime = 999999
supermovetime = 999999
ID = 6010

[state a]
type = destroyself
trigger1 = rootdist Y > 220
trigger1 = animelemtime(34) >= 0

;---------------------------------------------------------------------------------------------------------------------------------
[Statedef 2120];佐助喰らいモーション
type = S
movetype = H
anim = 2120
sprpriority = 0
physics = S
[state 1510]
type = ScreenBound
trigger1 = 1
value = 1
[State -1]
type = turn
trigger1 = p2dist X < 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 30

[State 100, 1]
type = Velmul
trigger1 = Time >= GetHitVar(slidetime)
x = 0.6

[State 100, 2]
type = Velset
trigger1 = HitOver
x = 0

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 5001, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 9001, 5]
type = changestate
trigger1 = GetHitVar(fall)
trigger2 = GetHitVar(yvel) < 0
trigger3 = root,var(39) >= 300
value = 2110

[State 9001, 5]
type = changestate
trigger1 = AnimTime = 0
trigger2 = Pos Y >= 0 && Vel Y > 0
value = 2000

;---------------------------------------------------------------------------------------------------------------------------------
[Statedef 2110];無茶苦茶だよ
type = S
movetype = H
physics = N
anim = 2110
sprpriority = 0

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 80

[state 1510]
type = ScreenBound
trigger1 = 1
value = 0

[State 3040, 1]
type = Velset
trigger1 = !Time
x = -17
y = -7

[State 9001, 5]
type = destroyself
triggerall = Time >= 7
trigger1 = ScreenPos Y != [-10,249]
trigger2 = ScreenPos X != [-10,329]
trigger3 = time > 60

;---------------------------------------------------------------------------------------------------------------------------------
;佐助退く
[Statedef 2130]
type = S
movetype = H
physics = N
anim = 2130
sprpriority = 0

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = 41,1

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 0

[State 3040, 1]
type = Velset
trigger1 = 1
x = -18
y = -4

[State 9001, 5]
type = destroyself
triggerall = Time >= 7
trigger1 = ScreenPos Y != [-10,249]
trigger2 = ScreenPos X != [-10,329]
trigger3 = time > 60

;------------------------------------------------------------
;空中移動
[Statedef 2080]
type = A
physics = N
movetype = I
anim = 2100
sprpriority = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = 41,1

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 1510]
type = Velset
trigger1 = time = 0
x = 16.8
y = -18.5

[state 1510]
type = Changestate
trigger1 = time = 6
value = 2090

;------------------------------------------------------------
;空中移動
[Statedef 2081]
type = A
physics = N
movetype = I
anim = 2100
sprpriority = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = 41,1

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[state 1510]
type = Velset
trigger1 = time = 0
x = 16.8
y = -18.5

[State 1510]
type = AfterImage
trigger1 = time = 0
time = 26
trans = none
timegap = 1
framegap = 3
length = 6
palbright = 0,0,0
palcontrast = 0,0,0

[state 1510]
type = Changestate
trigger1 = time = 6
value = 2091

;------------------------------------------------------------
;空中移動
[Statedef 2082]
type = A
physics = N
movetype = I
anim = 2100
sprpriority = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = time=0
value = 41,1

[state 1510]
type = Velset
trigger1 = time = 0
x = 16.8
y = -18.5

[State 1510]
type = AfterImage
trigger1 = time = 0
time = 26
trans = none
timegap = 1
framegap = 2
length = 6
palbright = 0,0,0
palcontrast = 0,0,0

[state 1510]
type = Changestate
trigger1 = time = 6
value = 2092

;---------------------------------------------------------
;手裏剣
[Statedef 2090]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2090
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

擬似CTRL
[state -2,]
type = parentvarset
trigger1 = movehit
trigger1 = root,stateno<3000
fvar(0) = 1
persistent = 0
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit =1
trigger1 = root,var(8)
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = random <= 900
value = 2000,0
channel = 2
ignorehitpause = 1
lowpriority = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,2

[State 100, 2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 100, 2]
type = Velset
trigger1 = animelem = 3
y = 3.1

[State 240, ヒット定義]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
trigger1 = root,var(33) = 0
attr = S, NA
animtype  = medium
damage    = ceil((39+(root,fvar(11)*0.34))*root,fvar(6)), 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 240, カウンター]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
trigger1 = root,var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 52, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
triggerall = enemynear,prevstateno = [555,558]
trigger1 = movehit=1
value = 555
ignorehitpause = 1

[state a 手裏剣]
type = explod
trigger1 = animelem = 3
anim = 2093
sprpriority = 3
postype = p1
pos = 78,-20
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 2.3,5.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 4
anim = 2093
sprpriority = 3
postype = p1
pos = 88,0
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -4.8,7.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 5
anim = 2094
sprpriority = 3
postype = p1
pos = 66,25
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -16.8,6.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(5) = 3
anim = 2095
sprpriority = 3
postype = p1
pos = 10,26
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -19.3,-12.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 1
anim = 2094
sprpriority = 3
postype = p1
pos = -35,-15
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -8.7,-13.6
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 4
anim = 2096
sprpriority = 3
postype = p1
pos = -51,-70
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 10.7,-7.5
id = 2091

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(8) >= 0
trigger1 = pos y >= 0
value = 2000

;---------------------------------------------------------
;手裏剣
[Statedef 2091]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2091
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

;擬似CTRL
[state -2,]
type = parentvarset
trigger1 = movehit
trigger1 = root,stateno<3000
fvar(0) = 1
persistent = 0
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit =1
trigger1 = root,var(8)
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = random <= 900
value = 2000,0
channel = 2
ignorehitpause = 1
lowpriority = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,2

[State 100, 2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 100, 2]
type = Velset
trigger1 = animelem = 3
y = 3.1

[State 240, ヒット定義]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(5) < 0
trigger1 = root,var(33) = 0
attr = S, NA
animtype  = medium
damage    = ceil((40+(root,fvar(11)*0.34))*root,fvar(6)), 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 240, ヒット定義]
type = HitDef
trigger1 = movehit
trigger1 = numtarget(200)
trigger2 = moveguarded
trigger2 = numtarget(200)
attr = S, NA
animtype  = medium
damage    = 30, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 199
persistent = 0

[State 240, カウンター]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(5) < 0
trigger1 = root,var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 54, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
triggerall = enemynear,prevstateno = [555,558]
trigger1 = movehit=1
value = 555
ignorehitpause = 1

[state a 手裏剣]
type = explod
trigger1 = animelem = 3
anim = 2093
sprpriority = 3
postype = p1
pos = 78,-20
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 2.3,5.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 4
anim = 2093
sprpriority = 3
postype = p1
pos = 88,0
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -4.8,7.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 5
anim = 2094
sprpriority = 3
postype = p1
pos = 66,25
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -16.8,6.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(5) = 3
anim = 2095
sprpriority = 3
postype = p1
pos = 10,26
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -19.3,-12.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 1
anim = 2094
sprpriority = 3
postype = p1
pos = -35,-15
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -8.7,-13.6
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 4
anim = 2096
sprpriority = 3
postype = p1
pos = -51,-70
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 10.7,-7.5
id = 2091

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(199)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(8) >= 0
trigger1 = pos y >= 0
value = 2000

;---------------------------------------------------------
;手裏剣
[Statedef 2092]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2092
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

;擬似CTRL
[state -2,]
type = parentvarset
trigger1 = movehit
trigger1 = root,stateno<3000
fvar(0) = 1
persistent = 0
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit =1
trigger1 = root,var(8)
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 240, ヒット定義]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(6) < 0
trigger1 = root,var(33) = 0
attr = S, NA
animtype  = medium
damage    = ceil((30+(root,fvar(11)*0.34))*root,fvar(6)), 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 240, ヒット定義]
type = HitDef
trigger1 = movehit
trigger1 = numtarget(200)
trigger2 = moveguarded
trigger2 = numtarget(200)
attr = S, NA
animtype  = medium
damage    = 30, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 199
persistent = 0

[State 240, ヒット定義]
type = HitDef
trigger1 = movehit
trigger1 = numtarget(199)
trigger2 = moveguarded
trigger2 = numtarget(199)
attr = S, NA
animtype  = medium
damage    = 20, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.1,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 52
air.fall = 1
yaccel = .51
ID = 198
persistent = 0

[State 240, カウンター]
type = HitDef
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(6) < 0
trigger1 = root,var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 64, 0
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 13+root,var(41)
ground.hittime  = 13+root,var(41)
ground.velocity = -7.2
air.velocity = -3.3,-10.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 36
air.fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 3
trigger1 = random <= 900
value = 2000,0
channel = 2
ignorehitpause = 1
lowpriority = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,2

[State 100, 2]
type = Velset
trigger1 = time = 0
x = 0
y = 0

[State 100, 2]
type = Velset
trigger1 = animelem = 3
y = 3.1

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
triggerall = enemynear,prevstateno = [555,558]
trigger1 = movehit=1
value = 555
ignorehitpause = 1

[state a 手裏剣]
type = explod
trigger1 = animelem = 3
anim = 2093
sprpriority = 3
postype = p1
pos = 78,-20
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 2.3,5.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 4
anim = 2093
sprpriority = 3
postype = p1
pos = 88,0
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -4.8,7.5
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelem = 5
anim = 2094
sprpriority = 3
postype = p1
pos = 66,25
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -16.8,6.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(5) = 3
anim = 2095
sprpriority = 3
postype = p1
pos = 10,26
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -19.3,-12.1
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 1
anim = 2094
sprpriority = 3
postype = p1
pos = -35,-15
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = -8.7,-13.6
id = 2091

[state a 手裏剣]
type = explod
trigger1 = animelemtime(6) = 4
anim = 2096
sprpriority = 3
postype = p1
pos = -51,-70
ownpal = 1
keyctrl = 0
bindtime = 1
removeongethit = 1
scale = 0.5,0.5
supermovetime = 0
pausemovetime = 999999
IgNoreHitPause = 0
vel = 10.7,-7.5
id = 2091

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(199)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(198)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(198)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-15), -70
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(8) >= 0
trigger1 = pos y >= 0
value = 2000

;---------------------------------------------------------
;対空
[Statedef 2060]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2060
sprpriority = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

;擬似CTRL
[state -2,]
type = parentvarset
trigger1 = movehit
trigger1 = root,stateno<3000
fvar(0) = 1
persistent = 0
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit =1
trigger1 = root,var(8)
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State 100, 2]
type = Velset
trigger1 = !time
x = 0

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = random <= 900
value = 2000,0
channel = 2
ignorehitpause = 1
lowpriority = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41,1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
value = 300,0

[State 100, 1]
type = Velset
trigger1 = AnimElem = 2
x = 4
y = -14.8

[State 100, 1]
type = Veladd
trigger1 = animelemtime(2) >= 0
y = 0.51

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) = 0
trigger1 = root,fvar(11) < 50
attr = S, NA
animtype  = medium
damage    = ceil((40+(root,fvar(11)*0.34))*root,fvar(6)),0
priority = 3
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -2.1,-13.6
air.velocity = -2.1,-13.6
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 40
fall = 1
yaccel = .51
ID = 201
persistent = 0

[State 240, カウンター] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) >= 1
trigger1 = root,fvar(11) < 50
attr = S, NA
animtype  = medium
damage    = 55, 0
priority = 7
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 3
ground.type = low
ground.slidetime = 20+root,var(41)
ground.hittime  = 20+root,var(41)
ground.velocity = -2.1,-13.6
air.velocity = -2.1,-13.6
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 40
fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 201
persistent = 0

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) = 0
trigger1 = root,fvar(11) >= 50
attr = S, NA
animtype  = medium
damage    = ceil((40+(root,fvar(11)*0.34))*root,fvar(6)),0
priority = 3
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -2.1,-18.2
air.velocity = -2.1,-18.2
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 40
fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 240, カウンター] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) >= 1
trigger1 = root,fvar(11) >= 50
attr = S, NA
animtype  = medium
damage    = 55, 0
priority = 7
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 3
ground.type = low
ground.slidetime = 20+root,var(41)
ground.hittime  = 20+root,var(41)
ground.velocity = -2.1,-18.2
air.velocity = -2.1,-18.2
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 40
fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelem = 5
trigger1 = root,var(33) = 0
trigger1 = root,fvar(11) >= 50
attr = S, NA
animtype  = medium
damage    = 30,0
priority = 3
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -2.1,-11.5
air.velocity = -2.1,-11.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 54
fall = 1
yaccel = .51
ID = 199
persistent = 0

[State 240, カウンター] 
type = HitDef
trigger1 = animelem = 5
trigger1 = root,var(33) >= 1
trigger1 = root,fvar(11) >= 50
attr = S, NA
animtype  = medium
damage    = 55, 0
priority = 7
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 3
ground.type = low
ground.slidetime = 20+root,var(41)
ground.hittime  = 20+root,var(41)
ground.velocity = -2.1,-11.5
air.velocity = -2.1,-11.5
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 54
fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 199
persistent = 0

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelem = 8
trigger1 = root,var(33) = 0
trigger1 = root,fvar(11) = 100
attr = S, NA
animtype  = medium
damage    = 30,0
priority = 3
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -2.1,-9.3
air.velocity = -2.1,-9.3
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 60
fall = 1
yaccel = .51
ID = 198
persistent = 0

[State 240, カウンター] 
type = HitDef
trigger1 = animelem = 8
trigger1 = root,var(33) >= 1
trigger1 = root,fvar(11) = 100
attr = S, NA
animtype  = medium
damage    = 55, 0
priority = 7
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 3
ground.type = low
ground.slidetime = 20+root,var(41)
ground.hittime  = 20+root,var(41)
ground.velocity = -2.1,-9.3
air.velocity = -2.1,-9.3
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 60
fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 198
persistent = 0

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
triggerall = enemynear,prevstateno = [555,558]
trigger1 = movehit=1
value = 555
ignorehitpause = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(201)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(201)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(201)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(201)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(199)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(198)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(198)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(198)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(198)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(10) >= 0
trigger1 = pos y >= 0
value = 2000

;---------------------------------------------------------
;援軍カウンター
[Statedef 2061]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2065
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[State 100, 2]
type = Velset
trigger1 = !time
x = 0

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41,1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
value = 300,0

[state 7000,]
type = parentvaradd
trigger1 = movehit=1
fvar(30) = 0.1
persistent = 0
ignorehitpause = 1


[State 100, 1]
type = Velset
trigger1 = animelemtime(2) = 0
x = p2bodydist X/30
y = (p2bodydist Y/30)-12


[State 100, 1]
type = Veladd
trigger1 = animelemtime(2) > 0
trigger1 = pos y < 0
y = 0.51

[State 100, 1]
type = null;Veladd
trigger1 = movehit
trigger1 = pos y < 0
y = 0.2

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(9) < 0
attr = S, NA
animtype  = medium
damage    = ceil((20+(root,fvar(11)*0.35))*root,fvar(6)),0
priority = 3
hitflag = MAFD
guardflag = L
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -5.1,-9.2
air.velocity = -5.1,-9.2
fall.recover = 0
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movehit
var(17) = 1
persistent = 0
ignorehitpause = 1

[State -2]
type = poweradd
trigger1 = movehit
trigger1 = root,movetype = H
trigger1 = root,alive
value = -1000*ifelse(root,var(17)>=4,4,root,var(17))
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = -1
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = movehit = 30
value = 2060,random%3
ignorehitpause = 1
Persistent = 0
channel = 2
lowpriority = 0

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(10) >= 0
trigger1 = pos y >= 0
value = 2000

;---------------------------------------------------------
;エリアル対空
[Statedef 2062]
type    = A
movetype= A
physics = N
juggle  = 4
ctrl = 0
anim = 2060
sprpriority = 1

[State -1]
type = turn
trigger1 = p2dist X < 0
trigger1 = !time

;擬似CTRL
[state -2,]
type = parentvarset
trigger1 = movehit
trigger1 = root,stateno<3000
fvar(0) = 1
persistent = 0
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit =1
trigger1 = root,var(8)
fvar(30) = 0.01
persistent = 0
ignorehitpause = 1

[State 100, 2]
type = Velset
trigger1 = !time
x = 0

[State 200, 0];コンボ数加算
type = parentVaradd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 2
trigger1 = random <= 900
value = 2000,0
channel = 2
ignorehitpause = 1
lowpriority = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
value = 41,1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 2
trigger2 = AnimElem = 5
trigger3 = AnimElem = 8
value = 300,0

[State 100, 1]
type = Velset
trigger1 = AnimElem = 2
x = 4
y = -14.8

[State 100, 1]
type = Veladd
trigger1 = animelemtime(2) >= 0
y = 0.51

[State 240, ヒット定義] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) = 0
attr = S, NA
animtype  = medium
damage    = ceil((40+(root,fvar(11)*0.34))*root,fvar(6)),0
priority = 3
hitflag = MAF
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+root,var(41)
ground.hittime  = 14+root,var(41)
ground.velocity = -2.1,-13.2
air.velocity = -2.1,-13.2
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 48
fall = 1
yaccel = .51
ID = 200
persistent = 0

[State 240, カウンター] 
type = HitDef
trigger1 = animelem = 2
trigger1 = root,var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 55, 0
priority = 7
hitflag = MAF
guardflag = M
pausetime = 13,26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 3
ground.type = low
ground.slidetime = 20+root,var(41)
ground.hittime  = 20+root,var(41)
ground.velocity = -2.1,-13.2
air.velocity = -2.1,-13.2
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 48
fall = 1
yaccel = .51
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

;ブースト
[state a]
type = targetstate
triggerall = enemynear,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
triggerall = enemynear,prevstateno = [555,558]
trigger1 = movehit=1
value = 555
ignorehitpause = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -100
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = root,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2110
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

[State 200, 7]
type = ChangeState
trigger1 = animelemtime(10) >= 0
trigger1 = pos y >= 0
value = 2000

;------------------------------------------------------------
;援軍アシスト
[Statedef 2250]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x < 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = -65

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 110+(ceil(110-root,fvar(11))*3)

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 8.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 15710]
type = Changestate
trigger1 = rootdist x = [-50,50]
trigger2 = p2bodydist X <= 40
trigger3 = FrontEdgeBodyDist < 10
value = 2050

[State 1051, 2];喰らい
type = null;hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

;------------------------------------------------------------
;援軍アシスト2
[Statedef 2251]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x < 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = -65

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 110+(ceil(110-root,fvar(11))*3)

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 8.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 15710]
type = Changestate
trigger1 = rootdist x = [-50,50]
trigger2 = p2bodydist X <= 40
trigger3 = FrontEdgeBodyDist < 10
value = 2052

[State 1051, 2];喰らい
type = null;hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

;------------------------------------------------------------
;援軍カウンター
[Statedef 2265]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state 7000,test]
type = Explod
trigger1 = time = 0
anim = 2057
pos = 0,0
postype = back
ontop=1
bindtime = -1
removetime = -2
ownpal = 1
scale = 0.5,0.5
ignorehitpause = 1
supermovetime = 999999
pausemovetime = 999999

[State 2000, 2]
type = Pause
trigger1 = 1
time = 30
movetime = 30
anim = -1

[State 191, Snd 1];危機
type = PlaySnd
trigger1 = time = 0
value = 2065,0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = -65

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(11) = -30

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 110+(ceil(110-root,fvar(11))*3)

[State a]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 8.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 1510]
type = Veladd
trigger1 = pos y < 0
y = .5

[state 15910]
type = Changestate
trigger1 = p2bodydist X <= 30
trigger2 = FrontEdgeBodyDist < 10
value = 2061

;------------------------------------------------------------
;5援軍
[Statedef 2200]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 15910]
type = Changestate
triggerall = root,fvar(11) < 50
trigger1 = rootdist x = [-10,10]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2080

[state 15910]
type = Changestate
triggerall = root,fvar(11) =[50,99]
trigger1 = rootdist x = [-10,10]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2081

[state 15910]
type = Changestate
triggerall = root,fvar(11) = 100
trigger1 = rootdist x = [-10,10]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2082

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;6援軍
[Statedef 2201]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 15910]
type = Changestate
triggerall = root,fvar(11) < 50
trigger1 = rootdist x = [-35,-25]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2080

[state 15910]
type = Changestate
triggerall = root,fvar(11) =[50,99]
trigger1 = rootdist x = [-35,-25]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2081

[state 15910]
type = Changestate
triggerall = root,fvar(11) =100
trigger1 = rootdist x = [-35,-25]
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2082

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;4援軍
[Statedef 2202]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 15910]
type = Changestate
triggerall = root,fvar(11) < 50
trigger1 = rootdist x <= 110*(facing*root,facing)
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2080

[state 15910]
type = Changestate
triggerall = root,fvar(11) =[50,99]
trigger1 = rootdist x <= 110*(facing*root,facing)
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2081

[state 15910]
type = Changestate
triggerall = root,fvar(11) =100
trigger1 = rootdist x <= 110*(facing*root,facing)
trigger2 = p2bodydist X = 10
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2082

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;2援軍
[Statedef 2260]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1


[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 1510]
type = Changestate
trigger1 = rootdist x = [-40,-20]
trigger2 = p2bodydist X = [15,30]
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2060

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = -1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;3援軍
[Statedef 2261]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1


[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 1510]
type = Changestate
trigger1 = rootdist x <= -120*(facing*root,facing)
trigger2 = p2bodydist X = [15,40]
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2060

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = -1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;1援軍
[Statedef 2262]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = rootdist x <= 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)

[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1


[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 1
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 1510]
type = Changestate
trigger1 = rootdist x <= 140*(facing*root,facing)
trigger2 = p2bodydist X = [15,30]
trigger2 = p2statetype != L
trigger2 = p2stateno != 5120
trigger3 = FrontEdgeBodyDist < 10
value = 2060

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = -1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;援軍エリアル
[Statedef 2263]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state 1510]
type = parentvaradd
trigger1 = time = 0
fvar(10) = ceil(-24*(1.1-(root,fvar(11)*0.002))*(0.4+(root,fvar(10)*0.017)))

[state 1510]
type = parentvaradd
trigger1 = time = 0
var(39) = 50+ceil((105-root,fvar(11))*2)


[State a]
type = NotHitBy
trigger1 = time <= 15
value = SCA
time = 1


[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 1
value = 187,0
channel = 0
lowpriority = 2

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 1

[state 1510]
type = Velset
trigger1 = time = 0
x = 18.8

[state 1510]
type = Veladd
trigger1 = 1
x = .3

[state 1510]
type = Changestate
trigger1 = p2bodydist X <= 35
trigger2 = FrontEdgeBodyDist < 10
value = 2062


[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1

;------------------------------------------------------------
;一撃勝利・佐助
[Statedef 2500]
type = S
physics = N
movetype = I
anim = 2500
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 0

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 1

;------------------------------------------------------------
;一撃勝利・信玄
[Statedef 2501]
type = S
physics = N
movetype = I
anim = 2501
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 0

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 300
trigger1 = random <= 500
trigger1 = root,stateno = 183
value = 3504,1

[State 1051, 0];斧
type = helper
trigger1 = time = 0
name = "ono"
ID = 2502
helpertype = normal
postype = p1
persistent = 0
pos = 57,0
stateno = 2502
ownpal = 1

[State 182, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,550]
flag = RoundNotOver

;------------------------------------------------------------
;信玄の斧
[Statedef 2502]
type = S
physics = N
movetype = I
anim = 2502
sprpriority = 1

[state 1510]
type = ScreenBound
trigger1 = 1
value = 0

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 1

;------------------------------------------------------------
;戻る
[Statedef 2210]
type = S
physics = N
movetype = I
anim = 2100
sprpriority = 1

[state 15910]
type = turn
trigger1 = rootdist x < 0
trigger1 = time = 0

[State 1510, 1]
type = PlayerPush
trigger1 = 1
value = 0

[state 1510]
type = Velset
trigger1 = time = 0
x = 8.8

[state 1510]
type = Veladd
trigger1 = 1
x = .6

[state 15910]
type = Changestate
trigger1 = prevstateno = 2200||2260
trigger1 = rootdist x = [-10,10]
trigger2 = prevstateno = 2201||2261
trigger2 = rootdist x >= -180
trigger3 = prevstateno = 2202||2262
trigger3 = rootdist x >= 180
value = prevstateno

[State 1051, 2];喰らい
type = hitoverride
trigger1 = 1
attr = SCA,AA,AP
stateno = 2120
time = 1
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = 1
value = ,AT
time = -1
slot = 1