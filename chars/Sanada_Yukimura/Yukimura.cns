
;---------------------------------------------------------------------
; 基本設定
[Data]
life              = 1000   ;ライフ最大値
power             = 5000   ;パワーゲージ最大値
attack            = 100    ;攻撃力
defence           = 100    ;防御力
fall.defence_up   = 50     ;横に倒れている時に一時的に加える防御力（％）
liedown.time      = 60     ;横に倒れている時間（フレーム）
airjuggle         = 99     ;ジャグルポイント限界値
sparkno           = -1      ;デフォルトのヒットスパーク
guard.sparkno     = -1     ;デフォルトのガードスパーク
KO.echo           = 0      ;ＫＯ時の音声（11,0）にエコーを掛けるか否か（0=掛けない,1=掛ける）
volume            = 100    ;キャラの標準の音量（最小-255・最大255）
IntPersistIndex   = 20,59   ;Varを次のラウンドへ持ち越しが可能 (最小=0, 最大=59)
FloatPersistIndex = 10,30   ;FVarを次のラウンドへ持ち越しが可能 (最小=0, 最大=39)

[Size]
xscale           = 0.49       ;キャラの横の大きさ（絶対値・float）
yscale           = 0.49       ;キャラの縦の大きさ（絶対値・float）
ground.back      = 15      ;地上にいる時の「後方の物理的な幅」
ground.front     = 16      ;地上にいる時の「前方の物理的な幅」
air.back         = 12      ;空中にいる時の「後方の物理的な幅」
air.front        = 12      ;空中にいる時の「前方の物理的な幅」
height           = 60      ;キャラの物理的な高さ（高いほど相手は飛び越しにくくなる）
attack.dist      = 160     ;相手がガード態勢に入る最低の距離
proj.attack.dist = 90      ;自分の「Projectile」に対して相手がガード態勢に入る最低の距離
proj.doscale     = 0       ;xscaleとyscaleを「Projectile」にも影響させるか否か（0=させない・1=させる）
head.pos         = 0,-96  ;キャラの標準の頭の座標（Bind系で適用される）
mid.pos          = 0,-60  ;キャラの標準の体中心の座標（Bind系で適用される）
shadowoffset     = 0       ;影のＹ軸方向の位置座標
draw.offset      = 0,0     ;キャラの表示座標（Ｘ軸,Ｙ軸）

[Velocity]
walk.fwd     = 2.81         ;前進速度（Ｘ軸・[Statedef 20]に適用される）
walk.back    = -2.2        ;後退速度（Ｘ軸・[Statedef 20]に適用される）
run.fwd      = 5,94       ;前方に走る速度（Ｘ軸,Ｙ軸・[Statedef 100]に適用される）
run.back     = -5.3,-2   ;後方に走る速度（Ｘ軸,Ｙ軸・[Statedef 105]に適用される）
jump.neu     = 0,-10     ;垂直ジャンプの速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
jump.back    = -2.4      ;後方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
jump.fwd     = 2.54        ;前方ジャンプの速度（Ｘ軸・[Statedef 40]に適用される）
runjump.back = -2.55,-8.1  ;後方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
runjump.fwd  = 4,-10      ;前方に走ってからのジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 40]に適用される）
airjump.neu  = 0,-10      ;空中垂直ジャンプ速度（Ｘ軸,Ｙ軸・[Statedef 45]に適用される）
airjump.back = -2.4       ;空中後方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）
airjump.fwd  = 2.4         ;空中前方ジャンプ速度（Ｘ軸・[Statedef 45]に適用される）

[Movement]
airjump.num     = 0        ;空中ジャンプが出来る回数
airjump.height  = 45       ;空中ジャンプが出来る最低の高度（Ｙ軸）
yaccel          = .51      ;Ｙ軸加速度（重力）
stand.friction  = .85      ;立っている時の摩擦係数（ステートのPhysicsが「S」の時）
crouch.friction = .82      ;しゃがんでいる時の摩擦係数（ステートのPhysicsが「C」の時）


;===========================================================================
; 基本行動のステート
;===========================================================================
;---------------------------------------------------------------------------
;タイムオーバー（負けた時）
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 170, 無敵]
type = NotHitBy
trigger1 = 1 ;トリガーを何も書かず「1」にする事により、『無条件で常に実行させる命令』になる。
value = SCA
time = 1

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
;勝利ポーズ分岐
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = var(13)
value = 183

[State 180, 1]
type = ChangeState
trigger1 = var(19)
value = 182

[State 180, ステート変更]
type = ChangeState
trigger1 = Time = 0
value = 181


;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 181]
type = S
ctrl = 0
anim = 181
velset = 0,0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 181, random%6
channel = 1

[State 181, 2]
type = PlaySnd
trigger1 = animelem = 1
trigger1 = life <= 200
value = 181, 5+random%3
channel = 1

;対政宗
[State 181, 2]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "Date Masamune"
value = 181, 14
channel = 1

;対鬼
[State 181, 3]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1=enemynear,Name="cvsgouki"||enemynear,Name="cvsgouki_normal"||enemynear,Name="cvsgouki_ex"
trigger2 = enemynear,Name = "gouki"
trigger3 = enemynear,Name = "Shin Gouki"
trigger4 = enemynear,Name = "Tin's S_Gouki"
trigger5 = enemynear,Name = "Gouki by M.M.R."
trigger6 = enemynear,Name = "SF3Gouki"
trigger7 = enemynear,Name = "svcgouki"
trigger8 = enemynear,Name = "zankuro"
trigger9 = enemynear,Name = "Jubei Yamada"
trigger10 = enemynear,Name = "ONI"
trigger11 = enemynear,Name = "Oboro Bishamon"
trigger12 = enemynear,Name = "Bishamon"
trigger13 = enemynear,Name = "ogre"
trigger14 = enemynear,Name = "oni chizuru"
trigger15 = enemynear,Name = "Kyo_ONI"
trigger16 = enemynear,Name = "sonozaki mion"
trigger17 = enemynear,Name = "Sonozaki_Mion"
trigger18 = enemynear,Name = "Sonozaki_Shion"
trigger19 = enemynear,Name = "Oniwald"
trigger20 = enemynear,Name = "Red Arcueid"||enemynear,Name = "Red_Arcueid"
trigger21 = enemynear,Name = "elque"
trigger22 = enemynear,Name = "Sion TATARI"
trigger23 = enemynear,Name = "Kishima_kouma"
trigger24 = enemynear,Name = "Akiha_Vermilion"
trigger25 = enemynear,Name = "Kongou"
trigger26 = enemynear,Name = "ONI-MIKO-REIMU"
trigger27 = enemynear,Name = "MN"
trigger28 = enemynear,Name = "Suika Ibuki"||enemynear,name="Ibuki_Suika"
trigger29 = enemynear,Name = "Jubei"
trigger30 = enemynear,Name = "Chosokabe Motochika"
value = 181, 10
channel = 1

;対慶次
[State 181, 4]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "Keiji"
trigger2 = enemynear,Name = "Maeda Keiji"
value = 181, 11
channel = 1

;対魔王
[State 181, 5]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "raigu's dracula"
trigger2 = enemynear,Name = "Maou"
trigger3 = enemynear,Name = "Oda Nobunaga"
trigger4 = enemynear,Name = "Dabura"
trigger5 = enemynear,Name = "jedah"
trigger6 = enemynear,Name = "Nobunaga"
trigger7 = enemynear,Name = "Nanoha_Takamachi"
value = 181, 12
channel = 1

;対謙信
[State 181, 6]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "uesugi kensin"
value = 181, 13
channel = 1

;対ホンダム
[State 181, 6]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "Honda Tadakatsu"
value = 181, 15
channel = 1

[State 180, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,400]
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 182, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 181, 8+random%2
channel = 1

;対政宗
[State 182, 3]
type = PlaySnd
triggerall = animelem = 1
triggerall = matchover
trigger1 = enemynear,Name = "Date Masamune"
value = 181, 14
channel = 1

[State 181, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,350]
flag = RoundNotOver

[State 182, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,420]
triggerall = matchover
trigger1 = enemynear,Name = "Date Masamune"
flag = RoundNotOver

;---------------------------------------------------------------------------
;勝利ポーズ
[Statedef 183]
type = S
ctrl = 0
anim = 3503
velset = 0,0

[State 181, 無敵]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 182, 2]
type = PlaySnd
trigger1 = animelem = 1
value = 3504, 0
channel = 1

[State 1051, 0];佐助
type = helper
trigger1 = time = 0
trigger1 = var(40)=2
trigger1 = palno!=8
trigger1 = !numhelper(2100)
trigger1 = !numhelper(2000)
name = "Sarutobi Sasuke"
ID = 2500
helpertype = normal
postype = p1
persistent = 0
pos = -50,0
stateno = 2500
ownpal = 1


[State 1051, 0];信玄
type = helper
trigger1 = time = 0
trigger1 = var(40)=2
trigger1 = palno!=8
trigger1 = !numhelper(2100)
trigger1 = !numhelper(2000)
name = "Takeda Shingen"
ID = 2501
helpertype = normal
postype = p1
persistent = 0
pos = 70,0
stateno = 2501
ownpal = 1

[State 182, 特殊効果]
type = AssertSpecial
trigger1 = Time = [0,450]
flag = RoundNotOver

;---------------------------------------------------------------------------
;---------------------------------------------------------------------------
; 対政宗イントロ
[Statedef 10096]
type = S
ctrl = 0
anim = 100
velset = 10,0
movetype = A

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 100, 1]
type = Velmul
trigger1 = Anim > 200
trigger1 = Vel X < 0
x = 0.9

[State 100, 2]
type = Velset
trigger1 = Anim > 200
trigger1 = Vel X >= -0.01
x = 0

;初期位置を記憶
[State 193, 5]
type = varset
trigger1 = !time
var(0) = pos x

[state -1]
type = ScreenBound
trigger1 = 1
value = 0

[state 10096]
type = posadd
trigger1 = !time
x = -200


[State 193, 7]
type = velset
trigger1 = time>10
trigger1 = Anim = 194
trigger1 = p2bodydist x < 120
trigger2 = Animelem = 16
trigger3 = Animelem = 23
x = 0

[State 193, 7]
type = veladd
trigger1 = Animelem=8
trigger2 = Animelem = 17
x = -2

[State 193, 7]
type = veladd
trigger1 = Animtime = 0
trigger1 = Anim = 10096
x = -9

[State 193, 7]
type = Changeanim
trigger1 = time>10
trigger1 = Anim = 100
trigger1 = p2bodydist x < 120
value = 10096

[State 193, 7]
type = Changestate
trigger1 = Animtime = 0
trigger1 = Anim = 10096
value = 3100

;---------------------------------------------------------------------------
; 待機ステート
; 相手が古いバージョンなら相殺合戦に移行しない
[Statedef 10095]
type = S
ctrl = 0
anim = 9999
velset = 0,0

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, 7]
type = ChangeState
trigger1 = enemy,stateno = [10095,10099]
value = 10096

[State 193, 7]
type = ChangeState
trigger1 = time
trigger1 = enemy,stateno != [10095,10099]
value = 191

;---------------------------------------------------------------------------
; Introduction
[Statedef 10099]
type = S
ctrl = 0
anim = 10099
velset = 0,0

[state -1]
type = ScreenBound
trigger1 = 1
value = 0

[state -1]
type = posset
trigger1 = var(0)
trigger1 = time=5
x = var(0)

[State 193, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 193, 5]
type = PlaySnd
trigger1 = time = 10
value = 190, 12
channel = 1
lowpriority = 0

[state 3400,];稲光
type = explod
trigger1 = time >= 290
;trigger1 = time%2 = 0
postype = p1
pos = -60+random%120,30-random%100
anim = ifelse(random % 3 = 0,3506,ifelse(random % 2 = 0,4060,4120))
facing = ifelse(random % 2 = 0,1,-1)
bindtime = 1
sprpriority = 3
removetime = -2
ownpal  = 1
vel = -2+random%40*0.1,-3-random%90*0.1
ignorehitpause = 1
ownpal = 1
scale = 0.5+random%8*0.1,0.5+random%8*0.1
supermovetime = 999999
pausemovetime = 999999


[state 3400,];稲光
type = explod
trigger1 = time = [290,380]
trigger1 = time%10 = 0
postype = p1
anim = 4080
pos = 0,0
bindtime = 1
sprpriority = 3
removetime = -2
ignorehitpause = 1
ownpal = 1
scale = 1.3,0.3
supermovetime = 999999
pausemovetime = 999999

[state b]
type = Helper
trigger1 = time = 295
pos = 4,-100
postype = p1
stateno = 10098
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
size.xscale = 1.1
size.yscale = 0.85

[State 193, 5]
type = PlaySnd
trigger1 = time >= 290
trigger1 = time%15=10
value = 1000, 2

[State 193, 5]
type = PlaySnd
trigger1 = time = 291
value = 190, 11
channel = 1
lowpriority = 0

[State 193, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;----------------------------------------------------------------------------------------
[Statedef 10098];炎
type    = A
movetype= A
physics = N
anim = 10098
sprpriority = 9
velset = 0,0
juggle  = 0

[state b]
type = Trans
trigger1 = 1
trans = add

[state a]
type = angledraw
trigger1 = time < 20
scale = 0.85,3.1
value = 90

[state a]
type = angledraw
trigger1 = time >= 20
scale = 0.85,3.1-((time-20)*0.03)
value = 90

[State 100, 2]
type = AssertSpecial
trigger1 = time >= 0
flag = noshadow

[State 3000, 00]
type = destroyself
trigger1 = ((time-20)*0.03)>=3.1


;---------------------------------------------------------------------------
;イントロ（試合開始前の登場演出アクション）
[Statedef 191]
type = S
ctrl = 0
velset = 0,0

[State 191, 2]
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 2]
type = envshake
trigger1 = time = 80
time = 10
freq = 35
ampl = 10

[State 191, 3]
type = Helper
trigger1 = time = 0
ID = 192
pos = 0, -320
stateno = 192
helpertype = normal
name = "Kaenguruma"
keyctrl = 0
ownpal = 0
ignorehitpause = 1

[State 191, 4]
type = Helper
trigger1 = time = 0
ID = 4000
pos = 0, -430
stateno = 4000
helpertype = normal
name = "hinowa"
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1


[State 191, 5]
type = Explod
trigger1 = time = 60
anim = 4010
postype = p1
pos = 0,-190
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4010

[State 191, 5]
type = Explod
trigger1 = time = 72
anim = 4010
postype = p1
pos = 0,-130
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4011

[State 191, 6]
type = Explod
trigger1 = time = 78
anim = 4020
postype = p1
pos = -10,-70
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4020

[State 191, 7]
type = PlaySnd
trigger1 = time = 2
value = 190, random%3
channel = 1
lowpriority = 0

;対政宗
[State 182, 3]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Date Masamune"
value = 190, 13
channel = 1
lowpriority = 0

;対慶次
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Keiji"
trigger2 = enemynear,Name = "Maeda Keiji"
value = 190, 3
channel = 1
lowpriority = 0

;対元親
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Chosokabe Motochika"
trigger2 = enemynear,Name = "Chousokabe Motochika"
value = 190, 18
channel = 1
lowpriority = 0

;対毛利
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Mouri Motonari"
value = 190, 4
channel = 1
lowpriority = 0

;対ホンダム
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Honda Tadakatsu"
value = 190, 5
channel = 1
lowpriority = 0

;対謙信
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "uesugi kensin"
value = 190, 6
channel = 1
lowpriority = 0

;対信長
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Oda Nobunaga"
trigger2 = enemynear,Name = "Nobunaga"
value = 190, 14
channel = 1
lowpriority = 0

;対魔王
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "raigu's dracula"
trigger2 = enemynear,Name = "Maou"
trigger3 = enemynear,Name = "Dabura"
trigger4 = enemynear,Name = "jedah"
trigger5 = enemynear,Name = "Nanoha_Takamachi"
value = 190, 7
channel = 1
lowpriority = 0

;対秀吉
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Toyotomi Hideyoshi"
value = 190, 15
channel = 1
lowpriority = 0

;対お市
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "oichi"
value = 190, 16
channel = 1
lowpriority = 0

;対小十郎
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Katakura Kojuro"
value = 190, 8
channel = 1
lowpriority = 0

;対半兵衛
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Takenaka Hambe"
trigger2 = enemynear,Name = "takenaka hanbee"
value = 190, 17
channel = 1
lowpriority = 0

;対只ならぬ気配
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "Yukimura Sanada"
trigger1 = enemynear,authorName = "AOAO"
trigger2 = enemynear,Name = "DokuganP"
trigger3 = enemynear,Name = "yuki"
trigger3 = enemynear,authorName = "エス"
trigger4 = enemynear,Name = "Mukuro"
trigger4 = enemynear,authorName = "ahuron"
value = 190, 9
channel = 1
lowpriority = 0

;対破廉恥
[State 191, 7]
type = PlaySnd
triggerall = time = 2
trigger1 = enemynear,Name = "cvsmai"
trigger2 = enemynear,Name = "Mai Shiranui"
trigger3 = enemynear,Name = "mai_rb"
trigger4 = enemynear,Name = "Morrigan Aensland"
trigger5 = enemynear,Name = "Morrigan"
trigger6 = enemynear,Name = "Mei-Fang"
trigger7 = enemynear,Name = "Ming-Vase"
trigger8 = enemynear,Name = "cassandra"
trigger9 = enemynear,Name = "Shermie"
trigger10 = enemynear,Name = "Cammy"
trigger11 = enemynear,Name = "angel"
trigger12 = enemynear,Name = "lilith"
trigger13 = enemynear,Name = "cvslilith"
trigger14 = enemynear,Name = "Iroha"
trigger15 = enemynear,Name = "B.Jenet"
trigger16 = enemynear,Name = "Tin's Shiki"
trigger17 = enemynear,Name = "Nitro Ignis"
trigger18 = enemynear,Name = "another blood"
trigger19 = enemynear,Name = "felicia"
trigger20 = enemynear,Name = "cvsfelicia"
trigger21 = enemynear,Name = "Lucy Fernandez"
trigger22 = enemynear,Name = "dragon"
trigger22 = enemynear,authorName = "kayui uma"
trigger23 = enemynear,Name = "Sonia"
trigger23 = enemynear,authorName = "RYO 2005"
trigger24 = enemynear,Name = "KYOUDOU SENNA"
trigger25 = enemynear,Name = "dizzy"
trigger26 = enemynear,Name = "I-NO"
trigger27 = enemynear,Name = "KasumiWP"
trigger28 = enemynear,Name = "AyaneWP"
trigger29 = enemynear,Name = "jam"
value = 190, 10
channel = 1
lowpriority = 0


[State 191, 8]
type = PlaySnd
trigger1 = anim = 190
trigger1 = animelem = 7
value = 180, 2
channel = 0
lowpriority = 0

[State 191, 1]
type = ChangeAnim
trigger1 = numhelper(192)
value = 9998

[State 191, 5]
type = ChangeAnim
trigger1 = numhelper(192) = 0
trigger1 = anim != 190
value = 190

[State 191, ステート変更]
type = ChangeState
trigger1 = anim = 190
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
[Statedef 192]
type    = S
physics = S
anim = 192
sprpriority = 7

[State 192, 1]
type = VelSet
trigger1 = 1
y = 4

[State 192, 2]
type = DestroySelf
trigger1 = rootdist Y < 4


;---------------------------------------------------------------------------
[Statedef 4000]
type    = S
physics = S
anim = 4000
sprpriority = 8

[State 4000, 消去]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 4000, 1]
type = VelSet
trigger1 = 1
y = 4

[State 4000, 2]
type = DestroySelf
trigger1 = rootdist Y < 110

[State 4000, 3]
type = PlaySnd
trigger1 = anim = 4000
trigger1 = time = 1
value = 180, 0
channel = 0
lowpriority = 0

[State 4000, 4]
type = PlaySnd
trigger1 = anim = 4000
trigger1 = time = 81
value = 180, 1
volume = 255
channel = 0
lowpriority = 0


;---------------------------------------------------------------------------
;挑発
[Statedef 195]
type = S
movetype = I
physics = S
ctrl = 0
anim = 195
velset = 0,0
sprpriority = 2

[state 7000,]
type = varadd
trigger1 = animelem = 5
trigger1 = life<200
fvar(30) = 0.02
persistent = 0

[State 195, 2]
type = PlaySnd
trigger1 = animelem = 7
value = 199, random%3
channel = 0
lowpriority = 0

[State 193, 5]
type = PlaySnd
triggerall = anim = 195
trigger1 = animelem = 6
trigger2 = animelem = 18
trigger3 = animelem = 30
value = 300, 1


[State 195, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 200]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 200
sprpriority = 1

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = random<= 400
value = 200,random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 4
value = 300,0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -67-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999


[State 200, ヒット定義]
type = HitDef
trigger1 = animelem = 4
trigger1 = var(33) = 0
attr = S, NA
damage  = ceil(23*fvar(6)), 0
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 11, 11
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 10+var(41)
ground.hittime  = 10+var(41)
guard.hittime = 10+var(41)
ground.velocity = -5.47* fvar(14)
air.velocity = -3.1* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 21
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)), 20
ID = 200

[State 200, カウンター] 
type = HitDef
trigger1 = animelem = 4
trigger1 = var(33) >= 1
attr = S, NA
animtype  = Light
damage    = 28, 0
hitflag = MAF
guardflag = MA
pausetime = 11,22
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 0
guardsound = s120, 1
ground.type = low
ground.slidetime = 15+var(41)
ground.hittime  = 15+var(41)
ground.velocity = -5.47*fvar(14)
air.velocity = -3*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 45
air.fall = 1
air.hittime  = 20
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)), 20
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -67-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7020
name = "hit"
pos = Ceil(P2Dist X/2-45), -67-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 200, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 210]
type    = S
movetype= A
physics = N
juggle  = 4
poweradd= 0
ctrl = 0
velset = 0,0
anim = 210
sprpriority = 1

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 210, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = random<= 400
value = 200,2+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -120-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999


[State 210, ヒット定義]
type = HitDef
trigger1 = animelem = 7
trigger1 = var(33) = 0
attr = S, NA
animtype  = Medium
damage    = ceil(55*fvar(6)), 0
priority = 7
guardflag = MA
hitflag = MAF
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 1
guardsound = s120, 0
ground.type = High
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -6* fvar(14)
air.velocity = -3.7* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 29
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
getpower = ceil(60*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
ID = 200

[State 210, カウンター] 
type = HitDef
trigger1 = animelem = 7
trigger1 = var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 59, 0
priority = 7
hitflag = MAF
guardflag = MA
pausetime = 13,26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 10
guardsound = s120, 0
ground.type = High
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -6*fvar(14)
air.velocity = -3.7*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 43
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(100*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-53), -120-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-53), -120-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 210, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 220]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 220
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 220, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(200)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 220, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(199)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = random<= 400
value = 200,4+random%2
channel = 1
lowpriority = 2


[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -70-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999


[State 220, ヒット定義１]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage    = ceil(50*fvar(6)), 0
priority = 4
guardflag = MA
hitflag = MAF
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.type = High
ground.slidetime = 17+var(41)
ground.hittime  = 17+var(41)
ground.velocity = -6.5* fvar(14)
air.velocity = -4* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 34
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)), ceil(10*fvar(30)*fvar(6))
ID = 200

[State 220, カウンター１] 
type = HitDef
trigger1 = animelem = 6
trigger1 = var(33) >= 1
attr = S, NA
animtype  = hard
damage    = 55, 0
priority = 4
hitflag = MAF
guardflag = MA
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 10
guardsound = s120, 1
ground.type = High
ground.slidetime = 24+var(41)
ground.hittime  = 24+var(41)
ground.velocity = -6.5*fvar(14)
air.velocity = -4*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 51
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(65*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200


[State 220, ヒット定義２]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = ceil(40*fvar(6)), 0
priority = 4
guardflag = MA
hitflag = MAF
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.type = High
ground.slidetime = 17+var(41)
ground.hittime  = 17+var(41)
ground.velocity = 7.2* fvar(14)
air.velocity = 4.2* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 34
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
getpower = ceil(30*fvar(30)*fvar(6)), ceil(10*fvar(30)*fvar(6))
ID = 199

[State 220, カウンター２] 
type = HitDef
trigger1 = animelem = 7
trigger1 = var(33) >= 1
attr = S, NA
animtype  = hard
damage    = 40, 0
priority = 4
hitflag = MAF
guardflag = MA
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 10
guardsound = s120, 1
ground.type = High
ground.slidetime = 24+var(41)
ground.hittime  = 24+var(41)
ground.velocity = 7.2*fvar(14)
air.velocity = 4.2*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 51
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(35*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 199


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(199)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0


[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 220, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;立ち→中
[Statedef 250]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 250
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 250, 0]
type = NotHitBy
trigger1 = time < 20
value = ,NT,ST,HT
time = 1

[State 250, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = random<= 400
value = 200,4+random%3
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 8
value = 300,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -63-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 100, 1]
type = Veladd
trigger1 = time = 10
x = 1.2
[State 100, 1]
type = Veladd
trigger1 = time = 15
x = -0.4

[State 250, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 9
attr = S, NA
animtype  = Hard
damage    = ceil(60*fvar(6)), 0
priority = 3
guardflag = HA
hitflag = MAFD
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.type = Trip
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -2.2* fvar(14),-4.8*fvar(15)
guard.velocity = -10
air.velocity = ifelse(p2statetype = L,-9,-2.2*fvar(14)),ifelse(p2statetype = L,-.5,-4.8*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 1
fall.recovertime = 39
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(60*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 250, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 9
attr = S, NA
animtype  = Hard
damage    = 62, 0
priority = 3
hitflag = MAFD
guardflag = HA
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type =Trip
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -2.2* fvar(14),-4.8*fvar(15)
guard.velocity = -10
air.velocity = ifelse(p2statetype = L,-9,-2.2*fvar(14)),ifelse(p2statetype = L,-.5,-4.8*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 1
fall.recovertime = 57
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower =ceil(100*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 250, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;立ち→強
[Statedef 260]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 260
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0


[State 100, 2]
type = Velset
trigger1 = AnimElem = 6
X = 7


[State 100, 2]
type = Velset
trigger1 = AnimElem = 12
X = 0

[State 260, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(200)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 260, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(199)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = random<= 500
value = 200,5+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 6
trigger2 = AnimElem = 12
value = 300,1

[State 100 , 0]
type = Explod
trigger1 = AnimElem = 11
anim = 6010
postype = p1
pos = -20,6
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.5,0.5
ID = 6010

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -56-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 100, 1]
type = Veladd
trigger1 = time = 10
x = 1.2

[State 100, 1]
type = Veladd
trigger1 = time = 15
x = -0.4

[State 260, ヒット定義１]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = ceil(40*fvar(6)), 0
priority = 3
guardflag = MA
hitflag = MAF
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -8* fvar(14)
guard.velocity = -7
air.velocity = -3.7* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 32
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .61
getpower = ceil(40*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 260, カウンター１] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = 47, 0
priority = 3
hitflag = MA
guardflag = MAF
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -8* fvar(14)
guard.velocity = -7
air.velocity = -3.7* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 45
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .61
getpower = ceil(40*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[State 260, ヒット定義２]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 13
attr = S, NA
animtype  = Hard
damage    = ceil(60*fvar(6)), 0
priority = 3
guardflag = L
hitflag = MAFD
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -8* fvar(14)
guard.velocity = -7
air.velocity = ifelse(p2statetype = L,-9,-4.1*fvar(14)),ifelse(p2statetype = L,-.5,-5.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-7.2*fvar(14))
fall.recover = 1
fall.recovertime = 36
fall.yvelocity = -1
fall.envshake.time = 9
fall = 0
yaccel = .61
getpower = ceil(40*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
ID = 199
persistent = 0

[State 260, カウンター２] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 13
attr = S, NA
animtype  = Light
damage    = 67, 0
priority = 3
guardflag = L
hitflag = MAFD
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -8* fvar(14)
guard.velocity = -7
air.velocity = ifelse(p2statetype = L,-9,-4.1*fvar(14)),ifelse(p2statetype = L,-.5,-5.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-7.2*fvar(14))
fall.recover = 1
fall.recovertime = 51
fall.yvelocity = -1
fall.envshake.time = 9
fall = 0
yaccel = .61
getpower = ceil(40*fvar(30)*fvar(6)), ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 199
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -56-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-45), -56-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -40-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(199)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-45), -40-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 260, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・ヒットストップ
[Statedef 261]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = 1
value = 550

[state a]
type = changeanim
triggerall = 1
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = HitShakeOver
value = 262

[State 1000, 0]
type = null;HitOverride
trigger1 = enemy,stateno != 291
attr = SCA,NA,SA,HA
slot = 0
stateno = 550
time = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・吹き飛び
[Statedef 262]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = -14
y = -7.3

[state a]
type = velset
trigger1 = time = 1
trigger1 = GetHitVar(chainid) = 1000
x = -14
y = -6.3

[state a]
type = veladd
trigger1 = 1
y = 0.4

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560


;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 263

[state a]
type = selfstate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[State 1000, 0]
type = null;HitOverride
trigger1 = 1;enemy,stateno != 291
attr = SCA,NA,SA,HA
stateno = 550
time = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁ヒット
[Statedef 263]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1


;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 551

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 562

;---------------------[速度]
[state a]
type = posadd
trigger1 = time = 0
y = -15

[state a]
type = velset
trigger1 = animelem = 2
x = 2.3
y = -6.5

[state a]
type = velset
trigger1 = animelem = 2
trigger1 = GetHitVar(chainid) = 1000
x = 1.2
y = -3.5

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.5

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = animtime = 0
value = 264


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・落下
[Statedef 264]
type    = A
movetype= H
physics = N
;velset = 0,0
sprpriority = 1

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 563

;---------------------[速度]
[state a]
type = veladd
trigger1 = 1
y = 0.5

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[state a] 
type = changeanim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 5051

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;---------------------------------------------------------------------------
;吹き飛ばし攻撃・発動
[Statedef 290]
type    = S
movetype= I
physics = N
juggle  = 0
ctrl = 0
anim = 290
poweradd = 0
sprpriority = 1

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 0
trigger1 = var(5) != 2
v = 5
value = 1

[state a]
type = varset
trigger1 = prevstateno = 3900
trigger1 = time = 0
trigger1 = var(5) = 2
v = 5
value = 1

[state a]
type = varset
trigger1 = time = 74
v = 5
value = 2

[state a]
type = varset
trigger1 = time = 0
v = 49
value = ifelse(command = "c",1,2)
;---------------------[移動]
[State 100, 1]
type = Velset
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98


[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0
;---------------------[演出]
[State a];
type = palfx
trigger1 = time = 74
time = 10
;add = 255,255,255
mul = 255,255,255
sinadd = 255,255,255,20
color = 255

;----------------------[ヘルパー]
[state a];溜めエフェクト
type = Helper
trigger1 = time >= 15
trigger1 = time%4 = 0
id = 6025
name = "tame"
pos = 0 , 0
postype = p1
stateno = 6025
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1


;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
triggerall = time >= 14
trigger1 = var(59)<=0
trigger1 = command != "holdS"&&var(49)=2
trigger1 = command != "holdZ"&&var(49)=2
trigger2 = var(59)<=0
trigger2 = command != "holdC"&&var(49)=1
value = 291

[State 200, 7]
type = ChangeState
triggerall = time >= 14
triggerall = var(59)||helper(30000),var(58)
triggerall=playerID(var(57)),statetype!=L
triggerall=var(58)!=-8
trigger1=playerID(var(57)),movetype=H
trigger1=playerID(var(57)),stateno!=[150,155]
trigger1=playerID(var(57)),pos y+(playerID(var(57)),vel y+playerID(var(57)),gethitvar(yaccel)*2.5)*5>-30
trigger2=playerID(var(57)),stateno=[150,155]
trigger2=helper(30010),var(0)<=10
trigger2=random<100||helper(30010),var(0)<=2
trigger2=var(59)<=10
trigger3=playerID(var(57)),movetype!=H
trigger3=var(59)<=10
trigger4=playerID(var(57)),movetype!=H
trigger4=var(59)>=11
trigger4=!playerID(var(57)),ctrl
value = 291


[State 200, 7]
type = ChangeState
triggerall=var(58)=-8
trigger1=!helper(30010),var(0)
trigger1=time>=90
trigger1=random<80
value = 291


[State 200, 7]
type = ChangeState
triggerall = time >= 17
trigger1 = var(49)=0
trigger1 = var(59)<=0
trigger2 = time > 124
value = 291

;---------------------------------------------------------------------------
;吹き飛ばし攻撃・攻撃
[Statedef 291]
type    = S
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 291
poweradd = 0
sprpriority = 1


;---------------------[効果音]
[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 4
value = 200,7+random%2
channel = 1
ignorehitpause = 1

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,1
ignorehitpause = 1

;---------------------[速度]
[State 100, 1]
type = Velset
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[state a]
type = velset
trigger1 = time = 0
trigger1 = prevstateno = 20
x = 0

;---------------------[攻撃]
[State 200, 1]
type = HitDef
trigger1 = animelem = 4
trigger1 = var(5) = 1
attr = S, NA
damage = ceil(68*fvar(6)), 0
getpower = 72,72
animtype = hard
guardflag = M
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(5) = 1,14,15), ifelse(var(5) = 1,14,15)
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 2
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = ifelse(var(5) = 1,17,20)
ground.hittime  = ifelse(var(5) = 1,17,20)
ground.velocity = -8,-6
air.type = high
air.velocity = -8,-6
air.hittime = ifelse(var(5) = 0,20,24)
fall = 1
fall.recover = 1
fall.recovertime = 35
yaccel = 0.5
ID = 291

[State 200, 1]
type = HitDef
trigger1 = animelem = 4
trigger1 = var(5) = 2
attr = S, NA
damage = ceil(60*fvar(6)), 0
getpower = 72,72
animtype = hard
guardflag = N
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(5) = 1,14,15), ifelse(var(5) = 1,14,15)
sparkno = s-1
sparkxy = 0, 0
hitsound = s400, 2
guard.sparkno = s-1
guardsound = s120, 1
ground.type = low
ground.slidetime = ifelse(var(5) = 1,17,20)
ground.hittime  = ifelse(var(5) = 1,17,20)
ground.velocity = -8,-6
air.type = high
air.velocity = -8,-6
air.hittime = ifelse(var(5) = 0,20,24)
fall = 1
fall.recover = 1
fall.recovertime = 39
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = 0.5
ID = 291

;---------------------[相手制御]
[state a]
type = targetstate
trigger1 = var(5) = 1
trigger1 = movehit
trigger1 = enemy,stateno != 550
trigger1 = enemy,prevstateno != [550,569]
value = 550
ignorehitpause = 1
persistent = 0


[state a]
type = targetstate
trigger1 = var(5) = 2
trigger1 = movehit
trigger1 = enemy,stateno != 550
trigger1 = enemy,prevstateno != [550,569]
value = 555
ignorehitpause = 1
persistent = 0

;---------------------[ヘルパー]
[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state 7000,]
type = varadd
trigger1 = movehit
fvar(30) = 0.02
persistent = 0

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-45), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[ステート移行]
[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\\
;---------------------------------------------------------------------------
;ブーストダッシュ
[Statedef 3900]
type    = S
movetype= I
physics = N
ctrl = 0
anim = 300
velset = ifelse(var(5)=1,9.5,12),0


[State 100, 1]
type = Velmul
trigger1 = var(5)=2
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.995

;---------------------[変数]
;---------------------[音]
[State 00]
type = PlaySnd
trigger1 = time = 0
value = 301, 0

[State 00]
type = PlaySnd
trigger1 = time%30 = 1
value = 50, 0

;---------------------[演出]
[State a];
type = palfx
trigger1 = time = 0
time = 10
;add = 255,255,255
mul = 255,255,255
sinadd = 255,255,255,20
color = 255

[State a]
type = AfterImage
trigger1 = 1
time = 24
trans = add1
timegap = 1
framegap = 3
length = 12
palbright = 0,0,0
palcontrast = 200,200,200
palpostbright = 0,0,0
paladd = 0,0,0
palmul = 0.7,0.7,0.7
persistent = 24
;---------------------[ヘルパー]
[state a];ブーストエフェクト
type = Helper
trigger1 = time = 0
id = 6030
name = "hit"
pos = 0 , -80
postype = p1
stateno = 6030
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

;---------------------[]
[State 00]
type = ChangeState
trigger1 = !var(59)
trigger1 = command = "holdup"
triggerall = time <= 2
triggerall = var(5)=1
value = 40
ctrl = 1


[State 00]
type = ChangeState
trigger1 = command = "holddown"
trigger1 = time = 30
value = 10
ctrl = 1

[State 00]
type = ChangeState
trigger1 = time = 30
value = 0
ctrl = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・ヒットストップ
[Statedef 550]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < 0
trigger1 = time = 0

[state a]
type = playerpush
trigger1 = 1
value = 0


[State 820, 1]
type = ChangeAnim2
Trigger1 = 1
value = 550

[state a]
type = changeanim
triggerall = 1
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = HitShakeOver
value = 551

[State 1000, 0]
type = null;HitOverride
trigger1 = enemy,stateno != 291
attr = SCA,NA,SA,HA
slot = 0
stateno = 550
time = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・吹き飛び
[Statedef 551]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = -10.5
y = -7.2

[state a]
type = velset
trigger1 = time = 1
trigger1 = GetHitVar(chainid) = 1000
x = -12
y = -6.0

[state a]
type = veladd
trigger1 = 1
y = 0.4

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 550

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560


;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
trigger3 = frontEdgeDist <= 10
value = 552

[state a]
type = selfstate
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100

[State 1000, 0]
type = null;HitOverride
trigger1 = 1;enemy,stateno != 291
attr = SCA,NA,SA,HA
stateno = 550
time = 1


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁ヒット
[Statedef 552]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1


;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 551

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 562

;---------------------[速度]
[state a]
type = posadd
trigger1 = time = 0
y = -15

[state a]
type = velset
trigger1 = animelem = 2
x = 1.2
y = -6.5

[state a]
type = velset
trigger1 = animelem = 2
trigger1 = GetHitVar(chainid) = 1000
x = 1.2
y = -3.5

[state a]
type = veladd
trigger1 = animelem = 2,>=0
y = 0.5

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = animtime = 0
value = 553


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・落下
[Statedef 553]
type    = A
movetype= H
physics = N
;velset = 0,0
sprpriority = 1

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 5050, 4] ;Recover near ground
type = SelfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = time > 3
triggerall = CanRecover
trigger1 = Command = "recover"
value = 5210 ;HITFALL_RECOVER

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 563

;---------------------[速度]
[state a]
type = veladd
trigger1 = 1
y = 0.5

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[state a] 
type = changeanim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 5051

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100


;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁張り付き・ヒットストップ
[Statedef 555]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1

[state a]
type = turn
trigger1 = p2dist x < -1
trigger1 = time = 0

[state a]
type = playerpush
trigger1 = 1
value = 0

[state a]
type = velset
trigger1 = pos y <= -10
y = 0.0

[State 820, 1]
type = ChangeAnim2
Trigger1 = 1
value = 550

[state a]
type = changeanim
triggerall = 1
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560

[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = changestate
trigger1 = HitShakeOver
value = 556

;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁張り付き・吹き飛び
[Statedef 556]
type    = A
movetype= H
physics = N
sprpriority = 1

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
x = -12.5

[state a]
type = velset
trigger1 = time = 0
trigger1 = GetHitVar(chainid) = 2000
y = 5.0

[state a]
type = velset
trigger1 = pos y <= -10
y = 0.0

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5012

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 560


;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[state a]
type = playerpush
trigger1 = 1
value = 0

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = BackEdgeDist <= 10
trigger2 = time = 200
value = 557

;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁張り付き・壁ヒット
[Statedef 557]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 1


;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 551

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 562

;---------------------[速度]
[state a]
type = velset
trigger1 = time = 0
y = 0

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

[State 1020, 4]
type = EnvShake
trigger1 = time = 0
time = 10
ampl = -4
freq = 95
phase = 95

;---------------------[ステート移行]
[state a]
type = changestate
trigger1 = animtime = 0
value = 558

;---------------------------------------------------------------------------
;(ENEMY)吹き飛ばし攻撃・壁張り付き・落下
[Statedef 558]
type    = A
movetype= H
physics = N
;velset = 0,0
sprpriority = 1

;---------------------[アニメーション]
[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = 5050

[State 5050, 4] ;Recover near ground
type = selfState
triggerall = Vel Y > 0
triggerall = alive
triggerall = time > 12
triggerall = CanRecover
trigger1 = Command = "recover"
value = 5210 ;HITFALL_RECOVER

[state a]
type = changeanim
triggerall = time = 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 563

;---------------------[速度]
[state a]
type = veladd
trigger1 = time >= 3
y = 0.5

;---------------------[演出]
[State 1];カメラ固定
type = screenbound
trigger1 = 1
value = 1
movecamera = 1

;---------------------[ステート移行]
[state a] 
type = changeanim
triggerall = Vel Y > 0
triggerall = Pos Y >= 0
trigger1 = (name = "REI" || name = "REI")&& authorname = "ahuron"
trigger2 = (name = "JAGI" || name = "JAGI")&& authorname = "ahuron"
trigger3 = (name = "JUDA" || name = "JUDA")&& authorname = "ahuron"
trigger4 = (name = "SHIN" || name = "SHIN")&& authorname = "ahuron"
trigger5 = (name = "THOUTHER" || name = "THOUTHER")&& authorname = "ahuron"
trigger6 = (name = "Mr.HEART" || name = "Mr.HEART")&& authorname = "ahuron"
trigger7 = (name = "Keiji" || name = "Keiji")&& authorname = "ahuron"
trigger8 = (name = "Date Masamune" || name = "Date Masamune")&& authorname = "Neat Unsou"
trigger9 = (name = "Mouri Motonari" || name = "Mouri Motonari")&& authorname = "Neat Unsou"
trigger10 = name = "Katakura kojuro"&& authorname = "Neat Unsou"
trigger11 = (name = "Sanada Yukimura" || name = "Sanada Yukimura")&& authorname = "syouga"
trigger12 = (name = "Maeda Keiji" || name = "Maeda Keiji")&& authorname = "syouga"
trigger13 = (name = "Toyotomi Hideyoshi" || name = "Toyotomi Hideyoshi")&& authorname = "kuri"
trigger14 = (name = "Uesugi Kensin" || name = "Uesugi Kensin")&& authorname = "syouga"
trigger15 = (name = "Chosokabe Motochika" || name = "Chosokabe Motochika")&& authorname = "Neat Unsou"
trigger16 = (name = "Nobunaga" || name = "Nobunaga")&& authorname = "Ahuron"
trigger17 = (name = "Oda Nobunaga" || name = "Oda Nobunaga")&& authorname = "五右衛門"
value = 5051

[State 821, 3] 
type = SelfState
triggerall = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100
ctrl = 0

;-------------------------------------------------------------------------
[Statedef 400]
type    = C
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 400
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 4
trigger1 = random<= 400
value = 200,random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 4
value = 300,0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -35-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 400, ヒット定義]
type = HitDef
trigger1 = animelem = 4
trigger1 = var(33) = 0
attr = S, NA
animtype  = Light
damage    = ceil(23*fvar(6)), 0
hitflag = MAFD
guardflag = L
pausetime = 8,8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 0
ground.type = low
ground.slidetime = 7+var(41)
ground.hittime  = 7+var(41)
ground.velocity = -5.37* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-4.1*fvar(14)),ifelse(p2statetype = L,-.5,-5.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-4.5*fvar(14))
fall.recover = 1
fall.recovertime = 21
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200

[State 400, カウンター]
type = HitDef
trigger1 = animelem = 4
trigger1 = var(33) >= 1
attr = S, NA
animtype  = Light
damage    = 28, 0
hitflag = MAFD
guardflag = L
pausetime = 8,16
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 4
guardsound = s120, 0
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = -5.37* fvar(14)
air.velocity = -4*fvar(14),-5.2*fvar(15)
down.velocity = -13.2,0
fall.recover = 1
fall.recovertime = ceil(34*fvar(6))
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
air.hittime  = 31
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -35-Ceil(P2BodyDist Y)
postype = p2
stateno = 7000
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7020
name = "hit"
pos = Ceil(P2Dist X/2-35), -35-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;しゃがみ中
[Statedef 410]
type    = C
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 410
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 8
trigger1 = random<= 400
value = 200,2+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 9
value = 300,1
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -35-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999


[State 410, ヒット定義] 
type = HitDef
trigger1 = animelem = 9
trigger1 = var(33) = 0
attr = S, NA
animtype  = medium
damage    = ceil(54*fvar(6)), 0
priority = 3
hitflag = MAFD
guardflag = M
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 0
guardsound = s120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -7.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-3.1*fvar(14)),ifelse(p2statetype = L,-.5,-4.5*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-5.5*fvar(14))
fall.recover = 1
fall.recovertime = 29
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(50*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200

[State 410, カウンター] 
type = HitDef
trigger1 = animelem = 9
trigger1 = var(33) >= 1
attr = S, NA
animtype  = medium
damage    = 62, 0
priority = 7
hitflag = MAFD
guardflag = M
pausetime = 13,26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 0
guardsound = s120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -7.1* fvar(14)
air.velocity = -3*fvar(14),-4.5*fvar(15)
down.velocity = -13.2,0
fall.recover = 1
fall.yvelocity = -1
fall.envshake.time = 9
fall.recovertime = 37
fall = 1
yaccel = .51
getpower = ceil(80*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-50), -45-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-50), -45-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 410, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
; しゃがみ強
[Statedef 420]
type    = C
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 420
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0


[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 100, 1]
type = Veladd
trigger1 = time = 10
x = 2

[State 100, 1]
type = Veladd
trigger1 = time = 15
x = -0.4

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = random<= 500
value = 200,5+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -10-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 420, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage    = ceil(60*fvar(6)), 0
priority = 3
hitflag = MAFD
guardflag = L
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = Trip
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -2.9* fvar(14),-5.8*fvar(15)
guard.velocity = -10
air.velocity = ifelse(p2statetype = L,-9,-2.9*fvar(14)),ifelse(p2statetype = L,-.5,-5.8*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.9*fvar(14))
fall.recover = 1
fall.recovertime = 39
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(70*fvar(30)*fvar(6)),ceil(25*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 420, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 6
attr = S, NA
animtype  = Hard
damage    = 67, 0
priority = 3
hitflag = MAFD
guardflag = L
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = Trip
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -2.8* fvar(14),-5.8*fvar(15)
guard.velocity = -10
air.velocity = -2.8* fvar(14),-5.8*fvar(15)
down.velocity = -13.2,0
fall.recover = 1
fall.recovertime = 58
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-35), -10-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-35), -10-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 420, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ弱
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 600
sprpriority = 2

[State 100, 1]
type = Veladd
trigger1 = prevstateno = 101
trigger1 = time = 0
X = -4
Persistent = 0
ignorehitpause = 1

[State 100, 1]
type = Velset
trigger1 = var(8)
Trigger1 = MoveHit
trigger1 = numtarget(200)
Y = -4.7
Persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = random<= 400
value = 200,random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -76-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 600, ヒット定義]
type = HitDef
trigger1 = animelem = 6
trigger1 = var(33) = 0
attr = A, NA
animtype  = Light
damage    = ceil(23*fvar(6)), 0
hitflag = MAFD
guardflag = HA
pausetime = ifelse(var(8),11,12),12
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 0
guardsound = s120, 1
ground.type = High
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = -4.5* fvar(14)
air.velocity = -3.1* fvar(14),-4.5*fvar(15)
down.velocity = -13.2,0
fall.recover = 1
fall.recovertime = 22
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200

[State 600, カウンター]
type = HitDef
trigger1 = animelem = 6
trigger1 = var(33) >= 1
attr = A, NA
animtype  = Light
damage    = 28, 0
hitflag = MAFD
guardflag = HA
pausetime = ifelse(var(8),11,12),24
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 0
guardsound = s120, 1
ground.type = High
ground.slidetime = 18+var(41)
ground.hittime  = 18+var(41)
ground.velocity = -4.5*fvar(14)
air.velocity = -3.1* fvar(14),-4.5*fvar(15)
down.velocity = -13.2,0
fall.recover = 1
fall.recovertime = 35
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-45), -75-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7020
name = "hit"
pos = Ceil(P2Dist X/2-45), -75-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 440, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ中
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 610
sprpriority = 2

[State 100, 1]
type = Veladd
trigger1 = prevstateno = 101
trigger1 = time = 0
X = -4
Persistent = 0
ignorehitpause = 1

[State 100, 1]
type = Velset
trigger1 = var(8)
Trigger1 = MoveHit
trigger1 = numtarget(200)
Y = -4.7
Persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 5
trigger1 = random<= 600
value = 200,4+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 4
value = 300,2
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -35-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 610, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 5
attr = A, NA
animtype  = medium
damage    = ceil(50*fvar(6)), 0
hitflag = MAF
guardflag = HA
pausetime = ifelse(var(8),11,13),13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 1
guardsound = s120, 2
ground.type = High
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -5.5* fvar(14)
air.velocity = -3.4* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 27
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(50*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 610, カウンター]
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 5
attr = A, NA
animtype  = medium
damage    = 56, 0
hitflag = MAF
guardflag = HA
pausetime = ifelse(var(8),11,13),26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 1
guardsound = s120, 2
ground.type = High
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3*fvar(14),-8.8*fvar(15)
air.velocity = -3.4* fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 41
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
air.fall = 1
yaccel = .51
getpower = ceil(60*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -27-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-25), -27-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 440, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;ジャンプ強
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 620
sprpriority = 2

[State 100, 1]
type = Veladd
trigger1 = prevstateno = 101
trigger1 = time = 0
X = -4
Persistent = 0
ignorehitpause = 1

[State 100, 1]
type = Velset
trigger1 = var(8)
Trigger1 = MoveHit
trigger1 = numtarget(200)
Y = -4.7
Persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
trigger1 = random <= 500
value = 200,5+random%2
channel = 1
lowpriority = 2

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 6
value = 300,1
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2), -26-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 620, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 7
attr = A, NA
animtype  = hard
damage    = ceil(70*fvar(6)), 0
hitflag = MAF
guardflag = HA
pausetime = ifelse(var(8),11,14),14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 17+var(41)
ground.hittime  = 17+var(41)
ground.velocity = -6.5* fvar(14)
air.velocity = -4.3* fvar(14),-4.7*fvar(15)
fall.recover = 1
fall.recovertime = 31
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(60*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 240, 6] ;カウンター
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 7
attr = A, NA
animtype  = hard
damage    = 74, 0
hitflag = MAF
guardflag = HA
pausetime = ifelse(var(8),11,14),24
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = low
ground.slidetime = 24+var(41)
ground.hittime  = 24+var(41)
ground.velocity = -6.5*fvar(14)
air.velocity = -4.3* fvar(14),-4.7*fvar(15)
fall.recover = 1
fall.recovertime = 41
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(100*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -30-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-25), -30-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 440, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; エリアルスパイク
[Statedef 650]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 650
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = var(8)
Trigger1 = MoveHit
trigger1 = numtarget(200)
Y = -5.2
Persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 6
trigger1 = random <= 400
value = 200,4+random%3
channel = 1
lowpriority = 2


[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 5
value = 300,3
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -30-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 650, ヒット定義] 
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = ceil(17*fvar(6)), 0
hitflag = MAF
guardflag = HA
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 17+var(41)
ground.hittime  = 17+var(41)
ground.velocity = -10.5* fvar(14)
air.velocity = -4.6* fvar(14),14.2*fvar(15)
fall.recover = 0
fall.recovertime = 34
fall.yvelocity = -5
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = 40, 20
ID = 200
persistent = 0

[State 650, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 6
attr = S, NA
animtype  = hard
damage    = 20, 0
hitflag = MAF
guardflag = HA
pausetime = 12,24
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 24+var(41)
ground.hittime  = 24+var(41)
ground.velocity = -10.5*fvar(14)
air.velocity = -4.6* fvar(14),14.2*fvar(15)
fall.recover = 0
fall.recovertime = 49
fall.yvelocity = -5
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = 40, 20
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -20-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state 7000,]
type = varadd
trigger1 = movehit
trigger1 = numtarget(200)
fvar(30) = 0.05
persistent = 0
ignorehitpause = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-25), -20-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 440, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
; グレイヴシュート
[Statedef 850]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 850
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98
[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 8
trigger1 = random <= 800
value = 200,4+random%3
channel = 1
lowpriority = 1

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 7
value = 300,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 850, ヒット定義] 
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 8
attr = S, NA
animtype  = Diagup
damage    = ceil(65*fvar(6)), 0
priority = 3
hitflag = MAFD
guardflag = M
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = hard
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = 0,-12.5*fvar(15)
guard.velocity = -7
air.velocity = ifelse(p2statetype = L,-9,0*fvar(14)),ifelse(p2statetype = L,-.5,-10*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,0)
fall.recover = 1
fall.recovertime = 38
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(90*fvar(30)*fvar(6)),ceil(60*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 850, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 8
attr = S, NA
animtype  = Diagup
damage    = 72, 0
priority = 3
hitflag = MAFD
guardflag = M
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = hard
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = 0,-12.5*fvar(15)
guard.velocity = -10
air.velocity = ifelse(p2statetype = L,-9,-0*fvar(14)),ifelse(p2statetype = L,-.5,-10*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,0)
fall.recover = 1
fall.recovertime = 51
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(210*fvar(30)*fvar(6)),ceil(60*fvar(30)*fvar(6))
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state 7000,]
type = varadd
trigger1 = movehit
fvar(30) = 0.02
persistent = 0

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State var]
Type = varset
Trigger1 = MoveHit
trigger1 = numtarget(200)
var(8) = 1
IgNoreHitPause = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1500 , 0]
type = ChangeState
TriggerAll = MoveHit
triggerAll = numtarget(200)
trigger1 = command = "holdup"
value = 40

[State 850, 7] ;終了
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; デッドアングルガーキャン
[Statedef 910]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 900
sprpriority = 2

[State 2030,1]
type = poweradd
trigger1 = time = 0
value = -1000

[State 900]
type = NotHitBy
trigger1 = time <= 14
value = SCA,NA,SA,HA,NP,SP,HP
time = 1

[State 191, Snd 1];GC
type = PlaySnd
trigger1 = time = 0
value = 299,1

[State --4]
type = palfx
trigger1 = time = 0
time = 10
mul = 255,255,255
sinadd = 255,255,255,13
color = 255

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98
[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 7
value = 300,1
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540 , 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 900, ヒット定義] 
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 8
attr = S, NA
animtype  = Hard
damage    = ceil(40*fvar(6)), 0
priority = 3
hitflag = MAF
guardflag = HA
pausetime = 15,15
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = Trip
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -2.2* fvar(14),-1.8*fvar(15)
guard.velocity = -10
air.velocity = -2.2* fvar(14),-1.8*fvar(15)
fall.recover = 1
fall.recovertime = 39
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = 40, 20
ID = 200
persistent = 0

[State 900, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 8
attr = S, NA
animtype  = Hard
damage    = 45, 0
priority = 3
hitflag = MAF
guardflag = HA
pausetime = 15,30
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 2
guardsound = s120, 1
ground.type = Trip
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -2.2* fvar(14),-1.8*fvar(15)
guard.velocity = -10
air.velocity = -2.2* fvar(14),-1.8*fvar(15)
fall.recover = 1
fall.recovertime = 58
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = 40, 20
palfx.time = 5
palfx.add = 205,-50,-50
envshake.time = 11
ID = 200
persistent = 0

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded
trigger1 = numtarget(200)
id = 7021
name = "hit"
pos = Ceil(P2Dist X/2-25), -66-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 900, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; 投げ
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 802
sprpriority = 2

[State 800]
type = HitDef
Trigger1 = Animelem = 5
attr = S, NT          ;攻撃属性: これは Standing, Normal Throw（立ち通常投げ）
hitflag = M-          ;相手がやられ状態ではない地上の時でしか掴む事が出来ません
priority = 1, Miss    ;投げなので優先度を低く、かつmissかdodgeの属性でなければなりません
sparkno = -1          ;-1にすればヒットスパークが表示しなくなります
sprpriority = 1       ;攻撃が当たった時に画像表示優先度を1に出来ます
p1facing = ifelse(command = "holdfwd", 1, -1) ;攻撃が当たった時の自分の向き
p2facing = 1 ;攻撃が当たった時の相手の向き
p1stateno = 810       ;自分のステート変更
p2stateno = 820       ;相手を制御するステートに行かせる
guard.dist = 0        ;相手がガード状態に移行出来る距離（現在は0なのでガード不可）
fall = 1              ;1にすれば相手がダウン状態になる


[State 810, 物理的なキャラの幅]
type = Width
trigger1 = AnimElemTime(2) >= 0 && AnimElemTime(12) < 0
edge = 200,0

[State 800, ステート変更]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 800
poweradd = ceil(70*fvar(30))
sprpriority = 7

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 1
value = 300,0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 3
value = 41,0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 12
value = 180, 0
channel = 0
lowpriority = 0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 22
value = 180, 1
volume = 255
channel = 0
lowpriority = 0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 18
value = 400,3

[State 810, Snd 1];ボイス
type = PlaySnd
trigger1 = random<= 500
trigger1 = AnimElem = 3
value = 151,1
channel = 1
lowpriority = 2

[State 810, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 12
value = 800,random%4
channel = 1
lowpriority = 2

[State 810, 掴んだ相手の位置１]
type = TargetBind
trigger1 = Time = 0
pos = 90, 0

[State 810, 掴んだ相手の位置１]
type = TargetBind
trigger1 = AnimElem = 2
pos = 85, 0

[State 810, 掴んだ相手の位置１]
type = posadd
trigger1 = 1
y = 0

[State 810, 物理的なキャラの幅]
type = Width
trigger1 = 1
edge = 100,0 ;前方の画面端を押す幅のみを変えています

[State 810, 掴んだ相手の体力ゲージの増減]
type = TargetLifeAdd
trigger1 = AnimElem = 18
value = -100
absolute = 1

[State 810, 掴んだ相手のステート変更]
type = TargetState
trigger1 = AnimElem = 18
value = 821

[State 810, 加速度]
type = VelSet
trigger1 = AnimElem = 3
x = 12.5
y = -.5

[State 810, 加速度]
type = VelSet
trigger1 = AnimElem = 4
x = 11
y = -6.5

[State 810, 加速度]
type = VelSet
trigger1 = AnimElem = 5
x = 0
y = -9.5

[State 810, 加速度]
type = VelSet
trigger1 = AnimElem = 12
x = 0
y = 8

[State 810, 加速度]
type = VelSet
trigger1 = AnimElem = 21
y = 0

[State 810, Helper]
type = Helper
trigger1 = AnimElem = 12
ID = 811
pos = 0, -115
stateno = 811
helpertype = normal
name = "hinowa2"
keyctrl = 0
ownpal = 0
size.xscale = 1
size.yscale = 1
ignorehitpause = 1

[State 191, 5]
type = Explod
trigger1 = AnimElem = 12
anim = 4010
postype = p1
pos = 0,-115
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4010

[State 191, 5]
type = Explod
trigger1 = AnimElem = 15
anim = 4010
postype = p1
pos = 0,-90
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4011

[State 191, 5]
type = Explod
trigger1 = AnimElem = 18
anim = 4010
postype = p1
pos = 0,-55
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4011

[State 191, 6]
type = Explod
trigger1 = AnimElem = 21
anim = 4020
postype = p1
pos = -10,-70
facing = 1
sprpriority = 8
bindtime = 1
ownpal = 1
scale = 0.9,0.9
ID = 4020

[state a];ヒットエフェクト
type = Helper
trigger1 = AnimElem = 18
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -20-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[state a];ヒットエフェクト
type = Helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-25), -20-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[State 810, ステート変更]
type = ChangeState
trigger1 = Animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 811]
type    = S
physics = S
anim = 4000
sprpriority = 8

[State 4000, 1]
type = VelSet
trigger1 = 1
y = 8

[State 4000, 2]
type = DestroySelf
trigger1 = rootdist Y < 109

;---------------------------------------------------------------------------
; 相手側の投げられモーション１

[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 820, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

[State 810, ステート変更]
type = ChangeState
trigger1 = AnimTime = 0
value = 821
ctrl = 0

;---------------------------------------------------------------------------
; 相手側の投げられモーション２

[Statedef 821]
type    = A
movetype= H
physics = N
velset = -3.1,-5.8
poweradd = 40

[State 821, 速度加算]
type = VelAdd
Trigger1 = 1
y = .5

[State 821, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 5050

[State 821, 制御した相手の色変更]
type = Palfx
Trigger1 = Time = 0
time = 35
add         = 130,0,-100
sinadd      = 110,110,110,10
invertall = 1
color     = 0
persistent = 0

[State 821, 制御解除して相手のステートに戻す]
type = SelfState
trigger1 = time >= 6
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 0
value = 5100 ;common1.cns参照

;---------------------------------------------------------------------------------------
;空中投げ
[Statedef 860]
type    = A
movetype= A
physics = N
juggle  = 0
ctrl = 0
anim = 861
sprpriority = 2

[State 850, 1] ;攻撃予約
type = HitDef
Trigger1 = animelem = 2
attr = A, NT						;空中通常投げ
hitflag = A						;空中の相手のみ
priority = 1, Miss					;優先度最低で相打ちになった場合攻撃は当たらない
sparkno = -1						;hitスパークを表示しない
sprpriority = 1 					;hitした場合自分を手前に表示
p1facing = ifelse (command = "holdback", -1, 1)	;hitし前キーが押されていた場合そのままの向きで
							;押されていない場合自分の向きを反転させる
p2facing = 1						;hitした場合相手を自分の向きと逆方向を必ず向くようにする
p1stateno = 861					;hitした場合自分をstate810へ
p2stateno = 870					;hitした場合相手を「自分」のstate820へ
guard.dist = 0					;相手がガードモーションにならないようにする
fall = 1						;相手をふっとび状態にする


[State 800, 2] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;投げが当たった場合（自分）
[Statedef 861]
type    = A
movetype= A
physics = N
velset = 0, 0
anim = 860
poweradd = 160

[State 810, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
channel = 1
value = 200,3


[State 810, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
channel = 1
value = 1200,0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 1
value = 400,0

[State 810, 効果音]
type = PlaySnd
trigger1 = AnimElem = 7
value = 400,3

[State 810, Bind 1] ;相手を自分から一定距離に固定
type = TargetBind
trigger1 = time = 0
pos = 70, -20

[State 810, Bind 1] 
type = TargetBind
trigger1 = AnimElem = 2
pos = 40, 40

[State 810, Width 2-11] ;画面端から押し返される幅を変更する
type = Width
trigger1 = 1
edge = 100, 0

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = AnimElem = 7
value = -89

[state a];ヒットエフェクト
type = Helper
trigger1 = AnimElemtime(1) = 1
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-50), -100-Ceil(P2BodyDist Y)
postype = p2
stateno = 7003
helpertype = normal
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[state a];ヒットエフェクト
type = Helper
trigger1 = AnimElem = 7
id = 7000
name = "hit"
pos = Ceil(P2Dist X/2-30), -5-Ceil(P2BodyDist Y)
postype = p2
stateno = 7002
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[State 810, Throw 11] ;相手のstateを変更（自分のstate）
type = TargetState
trigger1 = AnimElem = 9
value = 871

[State 810, State End] ;終了
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;投げられている相手（つかまれている状態）
[Statedef 870]
type    = A
movetype= H
physics = N
velset = 0,0

[State 820, 1] ;自分の設定したアニメに変更
type = ChangeAnim2
Trigger1 = Time = 0
value = 870

[State 810, State End] ;終了
type = ChangeState
trigger1 = Time = 500
value = 871

;---------------------------------------------------------------------------
;投げられている相手（空中へ投げられた状態）
[Statedef 871]
type    = A
movetype= H
physics = N
velset = 0,0


[State 821, 1] 
type = Velset
Trigger1 = time = 0
x = -6.5
y = 8

[State 821, 1] ;重力
type = VelAdd
Trigger1 = time >= 0
y = .51

[State 852 , 1]
type = ChangeAnim
trigger1 = 1
value = 5050

[State 821, 2] 
type = SelfState
trigger1 = time >= 1
trigger1 = Vel Y > 0
trigger1 = Pos Y >= -10
value = 5100 ;Hit ground

;---------------------------------------------------------------------------
;虎炎・壱
[Statedef 1000]
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1000
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[state a];溜めエフェクト
type = Helper
trigger1 = time >= 13
trigger1 = time%4 = 0
id = 6025
name = "tame"
pos = 10 , 0
postype = p1
stateno = 6025
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State 191, Snd 1];溜め
type = PlaySnd
trigger1 = time = 13
value = 1000,1
channel = 0

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 13
value = 800,2
channel = 1

[state 1000, 溜め炎]
type = explod
trigger1 = time = 10
anim = 1011
sprpriority = 3
postype = p1
pos = -15,-85
ownpal = 1
keyctrl = 0
bindtime = -1
removetime = -1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
removeongethit = 1
scale = 0.7,1
id = 1011

[State 1000, 溜め炎消す]
type = RemoveExplod
trigger1 = time > 10
trigger1 = command != "holdP"
trigger2 = time >= 76
id = 1011

[State 1000, 7] 
type = ChangeState
triggerall = time > 10
triggerall = time < 54
trigger1 = command != "holdP"
value = 1005

[State 1000, 7]
type = ChangeState
trigger1 = time >= 54
trigger1 = command != "holdP"
trigger2 = time >= 76
value = 1006

;---------------------------------------------------------------------------
;虎壱
[Statedef 1005]
type    = S
movetype = A
physics = N
juggle  = 0
anim = 1005
ctrl = 0
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-12,12)
persistent = 0
ignorehitpause = 1

[State 1005, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = 1000,0
channel = 1

[State 1005, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1000,2
channel = 0

[State 110, 1]
type = Veladd
trigger1 = Animelem = 1
x = 12

[State 110, 1]
type = Velset
trigger1 = Animelem = 6
x = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -47-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1005, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = ceil(60*fvar(6)), 7
priority = 4
guardflag = MA
hitflag = MAF
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 16+var(41)
ground.hittime  = 16+var(41)
ground.velocity = -7.5* fvar(14)
air.velocity = -4*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 34
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)), ceil(30*fvar(30)*fvar(6))
ID = 200

[State 1005, カウンター]
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = 67, 7
priority = 4
guardflag = MA
hitflag = MAF
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 22+var(41)
ground.hittime  = 22+var(41)
ground.velocity = -7.5* fvar(14)
air.velocity = -4*fvar(14),-5.2*fvar(15)
fall.recover = 1
fall.recovertime = 44
air.fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)), ceil(40*fvar(30)*fvar(6))
ID = 200

[state 1005, 虎炎]
type = explod
trigger1 = AnimElem = 1
anim = 4030
id = 4030
sprpriority = 7
postype = p1
pos = -15,-15
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1,1

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -55,-120
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -25,-155
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 45,-120
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 65,-55
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 30,-35
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1005, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -10,-15
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -40-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1005, 終了] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎壱・最大溜め
[Statedef 1006]
type    = S
movetype = A
physics = N
juggle  = 0
anim = 1005
ctrl = 0
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-12,12)
persistent = 0
ignorehitpause = 1

[State 1006, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
channel = 1
value = 1000,0

[State 1006, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
channel = 0
value = 1000,2

[State 110, 1]
type = Veladd
trigger1 = Animelem = 1
x = 20

[State 110, 1]
type = Velset
trigger1 = Animelem = 6
x = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -47-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1006, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = (80*fvar(6)), 9
priority = 4
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(5) = 1,14,15), ifelse(var(5) = 1,14,15)
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 16+var(41)
ground.hittime  = 16+var(41)
ground.velocity = -7.5* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-4*fvar(14)),ifelse(p2statetype = L,-.5,-5.2*fvar(15))
fall.recover = 1
fall.recovertime = 39
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
palfx.time = 100
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(70*fvar(30)*fvar(6)), ceil(40*fvar(30)*fvar(6))
ID = 200

[State 1006, カウンター]
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 5
attr = S, NA
animtype  = Hard
damage    = 90, 9
priority = 4
guardflag = MA
hitflag = MAF
priority = 5, Hit
pausetime = ifelse(var(5) = 1,14,15), ifelse(var(5) = 1,28,15)
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 22+var(41)
ground.hittime  = 22+var(41)
ground.velocity = -7.5* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-4*fvar(14)),ifelse(p2statetype = L,-.5,-5.2*fvar(15))
fall.recover = 1
fall.recovertime = 55
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
palfx.time = 100
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(70*fvar(30)*fvar(6)), ceil(40*fvar(30)*fvar(6))
ID = 200

;ブースト
[state a]
type = targetstate
triggerall = numtarget
triggerall = target,prevstateno = [550,551]
trigger1 = movehit=1
value = 550
ignorehitpause = 1

[state a]
type = targetstate
trigger1 = movehit
trigger1 = enemy,stateno != 550
trigger1 = enemy,prevstateno != [550,569]
value = 555
ignorehitpause = 1
persistent = 0

[state 1006, 虎炎]
type = explod
trigger1 = AnimElem = 1
anim = 4030
id = 4030
sprpriority = 7
postype = p1
pos = -30,-5
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1.5,1.5

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -55,-120
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -25,-155
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 45,-120
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 65,-55
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 30,-35
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1006, 火の粉]
type = explod
trigger1 = AnimElem = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -10,-15
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -40-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1000, 終了] 
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎炎・弐
[Statedef 1100]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1100
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 110, 1]
type = Veladd
trigger1 = Animelem = 5
x = 10

[State 110, 1]
type = Velset
trigger1 = Animelem = 8
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-15,15)
persistent = 0
ignorehitpause = 1

[State 1100, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
channel = 1
value = 1100,0

[State 1100, 効果音]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1100,1

[State -3, re];相殺
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -20-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1100, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = ceil(70*fvar(6)), 9
guardflag = L
hitflag = MAF
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -2.2* fvar(14),-6.6*fvar(15)
air.velocity = ifelse(p2statetype = L,-9,-2.2*fvar(14)),ifelse(p2statetype = L,-.5,-6.6*fvar(15))
p2stateno = 550
fall.recover = 1
fall.recovertime = 37
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
palfx.time = 70
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
yaccel = .51
ID = 200
persistent = 0

[State 1100, カウンター]
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = 79, 9
guardflag = L
hitflag = MAF
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -2.2* fvar(14),-6.6*fvar(15)
air.velocity = ifelse(p2statetype = L,-9,-2.2*fvar(14)),ifelse(p2statetype = L,-.5,-6.6*fvar(15))
p2stateno = 550
fall.recover = 0
fall.recovertime = 48
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
air.fall = 1
palfx.time = 70
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
yaccel = .51
ID = 200
persistent = 0

[state 1100, 虎炎]
type = explod
trigger1 = AnimElem = 7
anim = 4040
id = 4040
sprpriority = 7
postype = p1
pos = 20,-30
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1,1

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -150,-150
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 0.8,0.8

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 15,-100
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 0.8,0.8

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 65,-45
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 0.8,0.8

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 120,-10
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 0.8,0.8


[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -20-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -35-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1100] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎炎・弐派生版
[Statedef 1105]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1105
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 110, 1]
type = Veladd
trigger1 = Animelem = 5
x = 8

[State 110, 1]
type = Velset
trigger1 = Animelem = 8
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-15,15)
persistent = 0
ignorehitpause = 1

[State 1100, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 7
channel = 1
value = 1100,0

[State 1100, 効果音]
type = PlaySnd
trigger1 = AnimElem = 6
value = 1100,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -20-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1100, ヒット定義]
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = ceil(42*fvar(6)), 7
guardflag = L
hitflag = MAF
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -10* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-4.5*fvar(14)),ifelse(p2statetype = L,-.5,-4.8*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 1
fall.recovertime = 37
fall.yvelocity = -1
fall.envshake.time = 9
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
yaccel = .51
ID = 200
persistent = 0

[State 1100, カウンター]
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 7
attr = S, NA
animtype  = Hard
damage    = 50, 7
guardflag = L
hitflag = MAF
pausetime = 14,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2,-94
hitsound   = s400, 2
guardsound = s120, 1
ground.slidetime = 27+var(41)
ground.hittime  = 27+var(41)
ground.velocity = -10* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-4.5*fvar(14)),ifelse(p2statetype = L,-.5,-4.8*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 48
fall.yvelocity = -1
fall.envshake.time = 9
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
yaccel = .51
ID = 200
persistent = 0

[state 1100, 虎炎]
type = explod
trigger1 = AnimElem = 7
anim = 4040
id = 4040
sprpriority = 7
postype = p1
pos = 20,-30
ownpal = 1
keyctrl = 0
bindtime = -1
scale = 1,1

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -150,-150
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 1,1

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 15,-100
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 1,1

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 65,-45
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 1,1

[state 1100, 火の粉]
type = explod
trigger1 = AnimElem = 8
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 120,-10
ownpal = 1
keyctrl = 0
under = 0
bindtime = -1
scale = 1,1


[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), -20-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -35-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1100] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;虎炎・参
[Statedef 1200]
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1200
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[state a];溜めエフェクト
type = Helper
trigger1 = time >= 4
trigger1 = time%4 = 0
id = 6025
name = "tame"
pos = 10 , 0
postype = p1
stateno = 6025
helpertype = normal
pausemovetime = 0
keyctrl = 0 
ownpal = 1

[State 191, Snd 1];溜め
type = PlaySnd
trigger1 = time = 4
value = 1000,1
channel = 0

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 4
value = 800,2
channel = 1

[State 170, 1]
type = NotHitBy
trigger1 = time < 3
value = SCA
time = 1

[state 1200, 溜め炎]
type = explod
trigger1 = time = 4
anim = 1011
sprpriority = 3
postype = p1
pos = 0,-95
ownpal = 1
keyctrl = 0
bindtime = -1
removetime = -1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
removeongethit = 1
scale = 0.7,1
id = 1211

[State 1200, 溜め炎消す]
type = RemoveExplod
trigger1 = time > 2
trigger1 = command != "holdS"
trigger2 = time >= 81
id = 1211

[State 1200, 7] 
type = ChangeState
triggerall = time > 2
triggerall = time < 58
trigger1 = command != "holdS"
value = 1205

[State 1200, 7]
type = ChangeState
trigger1 = time >= 58
trigger1 = command != "holdS"
trigger2 = time >= 81
value = 1206

;---------------------------------------------------------------------------
;虎参
[Statedef 1205]
type    = A
movetype = A
physics = N
juggle  = 0
anim = 1205
ctrl = 0
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = time < 6
value = SCA
time = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 1205, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 1

[State 1205, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1200,1
channel = 0

[State 1205, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 1205, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 0
y = -12.1

[State 1205, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .56

[State 1205, Velocity]
type = Velset
trigger1 = AnimElemTime(5) = 12
x = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1205, ヒット定義] 
type = HitDef
triggerAll = var(33) = 0
trigger1 = animelem = 4
attr = S, SA
animtype  = medium
damage    = ceil(65*fvar(6)), 7
priority = 5
hitflag = MAFD
guardflag = M
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.5* fvar(14),-13.2*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-3.5*fvar(14)),ifelse(p2statetype = L,-.5,-13.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 1
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 1205, カウンター] 
type = HitDef
triggerAll = var(33) >= 1
trigger1 = animelem = 4
attr = S, SA
animtype  = up
damage    = 73, 7
priority = 5
hitflag = MAFD
guardflag = M
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.5* fvar(14),-13.2*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-3.5*fvar(14)),ifelse(p2statetype = L,-.5,-13.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-1.5*fvar(14))
fall.recover = 1
fall.recovertime = 54
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200
persistent = 0

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 1
anim = 4050
id = 4050
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 2
anim = 4051
id = 4051
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 3
anim = 4052
id = 4052
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 4
anim = 4053
id = 4053
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 5
anim = 4054
id = 4054
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 6
anim = 4055
id = 4055
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 7
anim = 4056
id = 4056
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 8
anim = 4057
id = 4057
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 9
anim = 4058
id = 4058
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,-60
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1205, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 0,-125
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1205, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,40
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1205, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 10,-25
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8


[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=54
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=54
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1205] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1205, 7] ;終了
type = ChangeState
trigger1 = time > 11
trigger1 = pos y >= 0
value = 1210
ctrl = 0

;---------------------------------------------------------------------------
;虎参・凄昇龍
[Statedef 1206]
type    = A
movetype = A
physics = N
juggle  = 0
anim = 1205
ctrl = 0
sprpriority = 2

[State 170, 1]
type = NotHitBy
trigger1 = time < 6
value = SCA
time = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 1206, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 1

[State 1206, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1200,1
channel = 0

[State 1206, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 15

[State 1206, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 0
y = -21.1

[State 1206, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .56

[State 1206, Velocity]
type = Velset
trigger1 = AnimElemTime(5) = 12
x = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1206, ヒット定義] 
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 4
attr = S, SA
animtype  = up
damage    = ceil(160*fvar(6)), 12
priority = 5
hitflag = MAFD
guardflag = M
pausetime = 28,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -12.5* fvar(14),-21.2*fvar(15)
guard.velocity = -12
air.velocity = ifelse(p2statetype = L,-9,-12.5*fvar(14)),ifelse(p2statetype = L,-.5,-20.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 52
fall.envshake.time = 9
fall.yvelocity = -1
fall = 1
yaccel = .51
palfx.time = 100
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 1206, カウンター] 
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 4
attr = S, SA
animtype  = up
damage    = 180, 12
priority = 5
hitflag = MAFD
guardflag = M
pausetime = 28,28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -12.5* fvar(14),-21.2*fvar(15)
guard.velocity = -12
air.velocity = ifelse(p2statetype = L,-9,-12.5*fvar(14)),ifelse(p2statetype = L,-.5,-20.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-1.5*fvar(14))
fall.recover = 0
fall.recovertime = 68
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 100
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
ID = 200
persistent = 0

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 1
anim = 4050
id = 4050
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 2
anim = 4051
id = 4051
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 3
anim = 4052
id = 4052
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 4
anim = 4053
id = 4053
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 5
anim = 4054
id = 4054
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 6
anim = 4055
id = 4055
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 7
anim = 4056
id = 4056
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 8
anim = 4057
id = 4057
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 9
anim = 4058
id = 4058
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1206, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,-60
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1206, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 0,-125
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1206, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,40
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1206, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 10,-25
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
trigger1 = numtarget(200)
trigger1 = enemynear,gethitvar(fall.recovertime)=68
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
trigger1 = numtarget(200)
trigger1 = enemynear,gethitvar(fall.recovertime)=68
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1206] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1206, 7] ;終了
type = ChangeState
trigger1 = time > 11
trigger1 = pos y >= 0
value = 1210
ctrl = 0

;---------------------------------------------------------------------------
;空中虎炎・参
[Statedef 1250]
type    = A
movetype = A
physics = N
juggle  = 0
anim = 1205
sprpriority = 2
ctrl = 0

[State 170, 1]
type = NotHitBy
trigger1 = time < 6
value = SCA
time = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 1250, snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 1
value = 1200,0
channel = 1

[State 1250, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1200,1
channel = 0

[State 1250, Velocity]
type = VelSet
trigger1 = AnimElem = 3
x = 5

[State 1250, Velocity]
type = VelSet
trigger1 = AnimElemTime(5) = 0
y = -12.1

[State 1250, Gravity]
type = Veladd
trigger1 = AnimElemTime(5) >= 0
y = .46

[State 1250, Velocity]
type = Velset
trigger1 = AnimElemTime(5) = 12
x = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -60-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1250, ヒット定義] 
type = HitDef
triggerall = var(33) = 0
trigger1 = animelem = 4
attr = S, SA
animtype  = medium
damage    = ceil(61*fvar(6)), 6
priority = 5
hitflag = MAFD
guardflag = MA
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -1.5* fvar(14),-15.2*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-1.5*fvar(14)),ifelse(p2statetype = L,-.5,-17.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 1
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200
persistent = 0

[State 1250, カウンター] 
type = HitDef
triggerall = var(33) >= 1
trigger1 = animelem = 4
attr = S, SA
animtype  = up
damage    = 68, 6
priority = 5
hitflag = MAFD
guardflag = MA
pausetime = 14,14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 2
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -1.5* fvar(14),-15.2*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-1.5*fvar(14)),ifelse(p2statetype = L,-.5,-17.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-1.5*fvar(14))
fall.recover = 1
fall.recovertime = 54
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200
persistent = 0

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 1
anim = 4050
id = 4050
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 2
anim = 4051
id = 4051
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 3
anim = 4052
id = 4052
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 4
anim = 4053
id = 4053
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 5
anim = 4054
id = 4054
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 6
anim = 4055
id = 4055
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 7
anim = 4056
id = 4056
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 8
anim = 4057
id = 4057
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1205, 虎炎]
type = explod
trigger1 = AnimElem = 9
anim = 4058
id = 4058
sprpriority = 7
postype = p1
pos = -35,-55
ownpal = 1
keyctrl = 0
bindtime = -1
IgNoreHitPause = 0
scale = 1,1

[state 1250, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,-60
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1250, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 0,-125
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1250, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 40,40
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1250, 火の粉]
type = explod
trigger1 = AnimElemTime(5) = 5
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 10,-25
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-15), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=54
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=54
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1250] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1250, 7] ;終了
type = ChangeState
trigger1 = time > 11
trigger1 = pos y >= 0
value = 1210
ctrl = 0

;---------------------------------------------------------------------------
;虎参着地
[Statedef 1210]
type    = S
physics = N
ctrl = 0
anim = 1210

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = posset
trigger1 = Time = 0
y = 0

[State 52, 2]
type = posadd
trigger1 = Time = 0
x = 20

;---------------------[効果音]
[State 191, Snd 1];着地
type = PlaySnd
trigger1 = time = 0
value = 47,0

;---------------------[ヘルパー]
[state a];着地エフェクト
type = Helper
trigger1 = time = 0
id = 6005
name = "land"
pos = 0 , 0
postype = p1
stateno = 6005
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0 
ownpal = 1

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;烈火
[Statedef 1300]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1300
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(200)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(199)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1


[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(198)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(197)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1


[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(196)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(195)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1


[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(194)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(193)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1


[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(192)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 1300, 効果音]
type = PlaySnd
trigger1 = AnimElem = 2
channel = 1
value = 1300,0

[State 1300, 効果音]
type = PlaySnd
trigger1 = AnimElemtime(3) = 1
channel = 0
value = 1300,1

[State 1300, 停止]
type = StopSnd
trigger1 = movehit
trigger2 = moveguarded = 1
channel = 0

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 4
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 200

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 4
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 5
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 199

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 5
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 199

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 198

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 198

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 7
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 197

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 7
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 197

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 8
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 196

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 8
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 196

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 9
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 195

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 9
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 195

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 10
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 194

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 10
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 194

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 11
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 4, 4
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 193

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 11
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 4, 8
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 193

[State 1300, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 12
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = ceil(10*fvar(6)), 3
pausetime = 13, 13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 26
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(20*fvar(30)*fvar(6)),ceil(10*fvar(30)*fvar(6))
ID = 192

[State 1300, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 12
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = MA
damage  = 10, 3
pausetime = 13, 26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 0
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -3.1* fvar(14)
guard.velocity = -3.1* fvar(14)
air.velocity = ifelse(p2statetype = L,-9,-2*fvar(14)),ifelse(p2statetype = L,-.5,-2.2*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 44
fall.yvelocity = -1
fall.envshake.time = 9
air.fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 192

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(198)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(197)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(196)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(195)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(194)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(193)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(192)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(199)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(198)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(197)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(196)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(195)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(194)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(193)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(192)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999


[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0


[State 1300] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;烈火・とどめ
[Statedef 1305]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1305
sprpriority = 2

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 3
value = 300,1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1305, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 3
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = ceil(38*fvar(6)), 3
pausetime = 14, 14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -5.5* fvar(14),-6.6*fvar(15)
guard.velocity = -7
air.velocity = -4.7* fvar(14),-6.1*fvar(15)
fall.recover = 0
fall.recovertime = 34
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(40*fvar(30)*fvar(6)),ceil(20*fvar(30)*fvar(6))
ID = 200

[State 1305, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = animelem = 3
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = 45, 3
pausetime = 14, 28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -5.5* fvar(14),-6.6*fvar(15)
guard.velocity = -7
air.velocity = -4.7* fvar(14),-6.1*fvar(15)
fall.recover = 0
fall.recovertime = 48
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(80*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200


[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1305] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;朱雀翔
[Statedef 1400]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1400
sprpriority = 2

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 180, 0
channel = 0
volume = 200

[State 191, Stop]
type = StopSnd
trigger1 = AnimElem = 15
channel = 0

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 1
value = 200, 9

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 16
channel = 1
value = 1400, 0

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 16
value = 300,1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X <= 3.1
x = 0

[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98

[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X <= 0.01
x = 0

[State 1400, 1]
type = Veladd
trigger1 = animelem = 2
x = 5.8
y = -5.5

[State 1400, 1]
type = Veladd
trigger1 = animelem = 7
x = 5.8
y = 10.5

[State 1400, 1]
type = Velset
trigger1 = animelem = 12
x = 0
y = 0

[State 100, 2]
type = StateTypeSet
trigger1 = AnimElem = 2
statetype = A

[State 100, 2]
type = StateTypeSet
trigger1 = AnimElem = 12
statetype = S

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), 5-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1400, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = animelem = 16
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = HA
damage  = ceil(50*fvar(6)), 6
pausetime = 14, 14
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -1.1* fvar(14),-10.6*fvar(15)
guard.velocity = -7
air.velocity = ifelse(p2statetype = L,-9,-1.1*fvar(14)),ifelse(p2statetype = L,-.5,-10.6*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 38
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200

[State 1400, カウンター]
type = HitDef
trigger1 = var(33) >=1
trigger1 = animelem = 16
attr = S, NA
animtype = Hard
hitflag = MAFD
guardflag = HA
damage  = 57, 6
pausetime = 14, 28
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 20+var(41)
ground.hittime  = 20+var(41)
ground.velocity = -1.1* fvar(14),-10.6*fvar(15)
guard.velocity = -7
air.velocity = ifelse(p2statetype = L,-9,-1.1*fvar(14)),ifelse(p2statetype = L,-.5,-10.6*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-2.2*fvar(14))
fall.recover = 0
fall.recovertime = 47
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
ID = 200

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), 5-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-10), -20-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1400] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;空中朱雀翔
[Statedef 1450]
type    = A
movetype= A
physics = A
juggle  = 0
poweradd= 0
ctrl = 0
anim = 1450
sprpriority = 2

[State 1400, 1]
type = Velset
trigger1 = animelem = 1
x = 3.5

[State 1400, 1]
type = Velset
trigger1 = animelem = 1
y = -4

[State 1400, 1]
type = Velset
trigger1 = animelem = 6
y = 0

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];振り
type = PlaySnd
trigger1 = AnimElem = 6
value = 300,1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = AnimElem = 6
channel = 1
value = 1400, 0

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = -45,5
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos =-20,25
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 5,45
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 105,5
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 80,25
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火の粉]
type = explod
trigger1 = AnimElem = 6
anim = 4060
id = 4060
sprpriority = 7
postype = p1
pos = 55,45
ownpal = 1
keyctrl = 0
under = 0
bindtime = 1
scale = 0.8,0.8

[state 1450, 火線]
type = explod
trigger1 = AnimElem = 6
anim = 4070
id = 4070
sprpriority = 6
postype = p1
pos = 10,25
ownpal = 1
keyctrl = 0
under = 0
removeongethit = 1
bindtime = -1
IgNoreHitPause = 0
scale = 0.5,0.5

[state 1450, 火線]
type = explod
trigger1 = AnimElem = 7
anim = 4071
id = 4071
sprpriority = 6
postype = p1
pos = 10,25
ownpal = 1
keyctrl = 0
under = 0
removeongethit = 1
bindtime = -1
IgNoreHitPause = 0
scale = 0.5,0.5

[state 1450, 火線]
type = explod
trigger1 = AnimElem = 8
anim = 4072
id = 4072
sprpriority = 6
postype = p1
pos = 10,25
ownpal = 1
keyctrl = 0
under = 0
removeongethit = 1
bindtime = -1
IgNoreHitPause = 0
scale = 0.5,0.5

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-35), 27-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 1450, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = var(8) = 0
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = ceil(50*fvar(6)), 5
pausetime = 13, 13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 15+var(41)
ground.hittime  = 15+var(41)
ground.velocity = -10.1* fvar(14),-6.3*fvar(15)
air.velocity = -10.1* fvar(14),-6.3*fvar(15)
guard.velocity = -7
airguard.velocity = -7
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 55
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 200

[State 1450, ヒット定義]
type = HitDef
trigger1 = var(33) = 0
trigger1 = var(8) >= 1
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = ceil(50*fvar(6)), 5
pausetime = 13, 13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 15+var(41)
ground.hittime  = 15+var(41)
ground.velocity = -10.5* fvar(14)
air.velocity = -4.6* fvar(14),14.2*fvar(15)
guard.velocity = -7
airguard.velocity = -7
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 40
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(60*fvar(30)*fvar(6)),ceil(30*fvar(30)*fvar(6))
ID = 199

[State 1450, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = var(8) = 0
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = 57, 5
pausetime = 13, 13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 22+var(41)
ground.hittime  = 22+var(41)
ground.velocity = -10.1* fvar(14),-6.3*fvar(15)
guard.velocity = -7
airguard.velocity = -7
air.velocity = -10.1* fvar(14),-6.3*fvar(15)
fall.recover = 0
fall.recovertime = 52
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 40
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
ID = 200

[State 1450, カウンター]
type = HitDef
trigger1 = var(33) >= 1
trigger1 = var(8) >= 1
trigger1 = animelem = 6
attr = S, NA
animtype = Hard
hitflag = MAF
guardflag = MA
damage  = 57, 5
pausetime = 13, 13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -96
hitsound = s400, 2
guardsound = S120, 1
ground.type = low
ground.slidetime = 22+var(41)
ground.hittime  = 22+var(41)
ground.velocity = -10.5* fvar(14)
air.velocity = -4.6* fvar(14),14.2*fvar(15)
guard.velocity = -7
airguard.velocity = -7
fall.recover = 0
fall.recovertime = 52
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 40
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
getpower = ceil(100*fvar(30)*fvar(6)),ceil(40*fvar(30)*fvar(6))
ID = 199

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-40), 20-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-15), -10-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-40), 10-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(199)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-15), 10-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State Help,1]
Type = Helper
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=52
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
trigger1 = movehit=1
trigger1 = enemynear,gethitvar(fall.recovertime)=52
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1206] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 1206, 7] ;終了
type = ChangeState
trigger1 = time > 11
trigger1 = pos y >= 0
value = 47
ctrl = 0


;---------------------------------------------------------------------------
;大華炎花火
[Statedef 3000]
type    = S
movetype= A
physics = N
juggle  = 0
anim = 3000
ctrl = 0
sprpriority = 2
poweradd = -1000


[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X = [-3.1,3.1]
x = 0
[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X != 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98
[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X = [-0.01,0.01]
x = 0

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = animelem = 4
value = 3000,random%2
channel = 1

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 9
value = 3000, 2
channel = 0

[State 191, Stop]
type = StopSnd
trigger1 = movehit
trigger2 = parent,movetype = H
channel = 0


[State 3000, 軸移動]
type = posadd
trigger1 = animelem = 20
x = 98

;---------------------[BASARA技]
[state a];BASARA技発動エフェクト
type = Helper
trigger1 = time =7
id = 6100
name = "BASARA"
pos = 0 , -62
postype = p1
stateno = 6100
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 3000, 2]
type = Pause
trigger1 = time =7
time = 36
movetime = 36
anim = -1

[State a]
type = NotHitBy
trigger1 = time <= 44
value = SCA
time = 1

[state 7000,]
type = varadd
trigger1 = movehit = 1
fvar(30) = 0.02
persistent = 0
ignorehitpause = 1

[state 3000, 炎の渦]
type = explod
trigger1 = AnimElem = 9
anim = 4080
id = 4080
sprpriority = 6
postype = p1
pos = 10,-62
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = -1
removeongethit = 1
scale = 1,1

[State 3000, 炎の渦消す]
type = RemoveExplod
trigger1 = animelem = 13
id =4080

[state 3000, 火球１]
type = explod
trigger1 = animelem = 16
anim = 4090
id =4090
sprpriority = 2
postype = p1
pos = 5,-93
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 0.5,0.5

[state 3000, 火球２]
type = explod
trigger1 = animelem = 19
anim = 4095
id =4095
sprpriority = 6
postype = p1
pos = 5,-93
ownpal = 1
keyctrl = 0
bindtime = -1
removeongethit = 1
scale = 0.5,0.5

[State 3000, 大華炎]
type = helper
trigger1 = animelem = 20
ID = 3010
name = "daikaen"
helpertype = normal
postype = p1
persistent = 0
pos = -55,-60
stateno = 3010
ownpal = 1
size.xscale = 1.2
size.yscale = 1.2
pausemovetime = 999999
supermovetime = 999999

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 0
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 46,-147
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 1
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 63,-100
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 2
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 72,-35
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 3
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 30,0
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 4
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = -20,-20
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 5
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = -40,-70
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 6
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = -28,-110
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 7
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 0,-155
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(9) = 8
anim = 4120
id = 4120
sprpriority = 7
postype = p1
pos = 0,-155
ownpal = 1
keyctrl = 0
removetime = -1
bindtime = 1
removeongethit = 1
scale = 1.3,1.3

[State 3000, 炎の渦消す]
type = RemoveExplod
trigger1 = animelemtime(13) = 6
id =4120

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 0
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 10,-85
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 2
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 45,-65
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 4
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 55,-110
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 6
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 90,-90
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 8
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 100,-135
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 10
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 135,-115
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 12
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 145,-160
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 14
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 180,-140
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 16
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 190,-185
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 18
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 220,-155
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 20
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 235,-215
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 火の粉]
type = explod
trigger1 = AnimElemtime(20) = 22
anim = 4120
id = 4130
sprpriority = 7
postype = p1
pos = 260,-185
ownpal = 1
keyctrl = 0
bindtime = 1
scale = 1.3,1.3

[state 3000, 花火]
type = explod
trigger1 = animelemtime(20) = 2
anim = 4110
id =4110
sprpriority = 7
postype = p1
pos = 65,-120
ownpal = 1
keyctrl = 0
bindtime = 1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
scale = 2.5,2.5

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(200)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(199)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(198)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
trigger1 = numtarget(197)
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State -3, re];相殺	
type = ReversalDef
TriggerAll = MoveContact = 0
Trigger1 = P2MoveType = A
attr = s,sa
NumHits = 0
reversal.attr = sca,na,sa,ha
pausetime = 16,16
hitsound = s200,10
sparkno = S-1
ID = 201
ignorehitpause = 0

[State 1540, 1];相殺エフェクト
type = helper
trigger1 = Numtarget(201) = 1
ID = 9930
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-25), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 9930
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999

[State 3000, ヒット定義] 
type = HitDef
triggerAll = var(33) = 0
trigger1 = animelem = 9
attr = S, HA
animtype  = up
damage    = ceil(45*fvar(6)), 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 200
persistent = 0

[State 3000, カウンター] 
type = HitDef
triggerAll = var(33) >= 1
trigger1 = animelem = 9
attr = S, HA
animtype  = up
damage    = 54, 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 200
persistent = 0

[State 3000, ヒット定義] 
type = HitDef
triggerAll = var(33) = 0
trigger1 = animelem = 10
attr = S, HA
animtype  = up
damage    = ceil(45*fvar(6)), 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 199
persistent = 0

[State 3000, カウンター] 
type = HitDef
triggerAll = var(33) >= 1
trigger1 = animelem = 10
attr = S, HA
animtype  = up
damage    = 54, 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 199
persistent = 0

[State 3000, ヒット定義] 
type = HitDef
triggerAll = var(33) = 0
trigger1 = animelem = 11
attr = S, HA
animtype  = up
damage    = ceil(45*fvar(6)), 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 198
persistent = 0

[State 3000, カウンター] 
type = HitDef
triggerAll = var(33) >= 1
trigger1 = animelem = 11
attr = S, HA
animtype  = up
damage    = 54, 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 12+var(41)
ground.hittime  = 12+var(41)
ground.velocity = 0,-5.7*fvar(15)
guard.velocity = -1.3
air.velocity = ifelse(p2statetype = L,-9,0),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 40
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 198
persistent = 0

[State 3000, ヒット定義] 
type = HitDef
triggerAll = var(33) = 0
trigger1 = animelem = 12
attr = S, HA
animtype  = up
damage    = ceil(45*fvar(6)), 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -1.9*fvar(14),-5.7*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-1.9*fvar(14)),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 45
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 197
persistent = 0

[State 3000, カウンター] 
type = HitDef
triggerAll = var(33) >= 1
trigger1 = animelem = 12
attr = S, HA
animtype  = up
damage    = 54, 3
hitflag = MAFD
guardflag = MA
pausetime = 13,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 1
ground.type = low
ground.slidetime = 14+var(41)
ground.hittime  = 14+var(41)
ground.velocity = -1.9*fvar(14),-5.7*fvar(15)
guard.velocity = -6
air.velocity = ifelse(p2statetype = L,-9,-1.9*fvar(14)),ifelse(p2statetype = L,-.5,-5.7*fvar(15))
ground.cornerpush.veloff = ifelse(p2statetype = L,-35,-3.5*fvar(14))
fall.recover = 0
fall.recovertime = 45
fall.yvelocity = -1
fall.envshake.time = 9
fall = 1
yaccel = .51
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 197
persistent = 0

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -50-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(199)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -72-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(198)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -85-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(197)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -98-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(199)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(198)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(197)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(200)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(199)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(198)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(198)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(197)
trigger1 = var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(197)
trigger1 = var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1000, 3]
type = VarSet
trigger1 = winko
v = 19
value = 1

[State 3000] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------------
;大華炎
[Statedef 3010]
type    = A
movetype= A
physics = N
anim = 4100
sprpriority = 6
juggle  = 0

[state a]
type = Trans
trigger1 = 1
trans = add

[State 3010, 消去]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3010, 1]
type = AngleSet
trigger1 = 1
value = 23

[state 3010, 2]
type = angledraw
trigger1 = 1

[State 3010, 3]
type = Velset
trigger1 = time = 0
x = 8.5
y = -3.5

[state 7000,]
type = varadd
trigger1 = movehit = 1
fvar(30) = 0.03
persistent = 0
ignorehitpause = 1

[State 200, 0];コンボ数加算
type = Varadd
trigger1 = movecontact
var(22) = ifelse(movehit,-10,10)
persistent = 0
ignorehitpause = 1

[State 3010, ヒット定義] 
type = HitDef
trigger1 = animelem = 1
trigger1 = root,var(33) = 0
attr = S, HP
animtype  = hard
damage    = ceil(105*parent,fvar(6)), 9
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 0,13
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 18+parent,var(41)
ground.hittime  = 18+parent,var(41)
ground.velocity = -6.7*parent,fvar(14),-5.8*parent,fvar(15)
air.velocity = -5.5*parent,fvar(14),-5.8*parent,fvar(15)
fall = 1
fall.recover = 0
fall.recovertime = 48
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
ID = 200
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0

[State 3010, カウンター] 
type = HitDef
trigger1 = animelem = 1
trigger1 = root,var(33) >= 1
attr = S, HP
animtype  = hard
damage    = 120, 9
priority = 7
hitflag = MAF
guardflag = MA
pausetime = 0,26
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 22+parent,var(41)
ground.hittime  = 22+parent,var(41)
ground.velocity = -6.2*parent,fvar(14),-5.2*parent,fvar(15)
air.velocity = -5.1*parent,fvar(14),-5.2*parent,fvar(15)
fall = 1
fall.recover = 0
fall.recovertime = 60
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
ID = 200
palfx.time = 40
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0


[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit
trigger1 = numtarget(200)
id = 7000
postype = p2
ignorehitpause = 1
persistent = 0
pos = Ceil(P2Dist X/2-45), -59-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
supermove = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(200)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -55-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999
size.xscale = 0.5
size.yscale = 0.5


[State Help,1]
Type = Helper
trigger1 = numtarget(200)
trigger1 = enemynear,gethitvar(fall.recovertime)=60
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State counter]
Type = playsnd
trigger1 = numtarget(200)
trigger1 = enemynear,gethitvar(fall.recovertime)=60
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[State 1000, 3]
type = VarSet
trigger1 = winko
v = 19
value = 1

[state a]
type = destroyself
trigger1 = time >= 300
ignorehitpause = 1

;---------------------------------------------------------------------------
;灼熱炎鳳覇
[Statedef 3100]
type    = S
movetype= A
physics = N
juggle  = 0
anim = 3100
ctrl = 0
sprpriority = 2
poweradd = -1000



[state -1]
type = ScreenBound
trigger1 = roundstate=1
value = 0

[State a]
type = NotHitBy
trigger1 = roundstate=1
value = SCA
time = 1


[State 100, 1]
type = Velset
trigger1 = !var(5)
trigger1 = time = 0
trigger1 = Vel X = [-3.1,3.1]
x = 0
[State 100, 1]
type = Velmul
trigger1 = !var(5)
trigger1 = time >= 0
trigger1 = Vel X != 0
x = 0.9

[State 100, 1]
type = Velmul
trigger1 = var(5)
trigger1 = time >= 0
trigger1 = Vel X > 0
x = 0.98
[State 100, 2]
type = Velset
trigger1 = time >= 1
trigger1 = Vel X = [-0.01,0.01]
x = 0

;---------------------[BASARA技]
[state a];BASARA技発動エフェクト
type = Helper
trigger1 = time =7
id = 6100
name = "BASARA"
pos = 0 , -62
postype = p1
stateno = 6100
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 3100, 2]
type = Pause
trigger1 = time = 10
trigger1 = roundstate!=1
time = 73
movetime = 73
anim = -1
[State 3100, 2]
type = Pause
trigger1 = time = 11||enemy,animelem=11
trigger1 = roundstate=1
time = 73
movetime = 73
anim = -1

[State a]
type = NotHitBy
trigger1 = time <= 71
value = SCA
time = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = animelem = 4
trigger1 = roundstate != 1
value = 3100,random%3
channel = 1
lowpriority = 1
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = animelem = 4
trigger1 = roundstate = 1
value = 3100,random%2*2
channel = 1
lowpriority = 1
persistent = 0
ignorehitpause = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = numhelper(2000)
trigger1 = helper(2000),stateno=[2050,2059]
value = 3100,4
channel = 1
lowpriority = 0
persistent = 0
ignorehitpause = 1

[state 3100, 火球]
type = explod
trigger1 = animelem = 9
anim = 4130
sprpriority = 7
postype = p1
pos = 35,-80
ownpal = 1
keyctrl = 0
bindtime = -1
supermove = 1
supermovetime = 99999999
pausemovetime = 99999999
removeongethit = 1
scale = 0.8,0.8

[State 191, Snd 1]
type = PlaySnd
trigger1 = animelemtime(16) = 1
trigger1 = numhelper(2053) = 0
value = 3100,3

[State 3100, 炎鳳]
type = helper
trigger1 = animelem = 16
trigger2 = roundstate=1
trigger2 = animelem = 15
ID = 3110
name = "enou"
helpertype = normal
postype = p1
persistent = 0
pos = 41,-100
stateno = 3110
ownpal = 1
size.xscale = 0.65
size.yscale = 0.65
pausemovetime = 999999
supermovetime = 999999

[State explod];背景エフェクト
type = Explod
trigger1 = animelemtime(16) = 1
trigger1 = numhelper(2053) = 0
anim = 4160
id = 4160
sprpriority = -50
postype = back
pos = -50,90
vel = 0,0
bindtime = -1
ignorehitpause = 1
removeongethit = 1
under = 0
ownpal = 1
scale = 1,1

[State explod];背景エフェクト
type = Explod
trigger1 = animelemtime(16) = 1
trigger1 = numhelper(2053) = 0
anim = 4160
id = 4160
sprpriority = -50
postype = back
pos = -50,90
vel = 0,0
bindtime = -1
ignorehitpause = 1
removeongethit = 1
under = 0
ownpal = 1
scale = 1,1

[State 1000, 3]
type = VarSet
trigger1 = 1
trigger1 = winko
v = 19
value = 1

[State 1000, 7] ;終了
type = ChangeState
trigger1 = AnimTime = 0
trigger1 = roundstate = 1
value = 10099

[State 3100] ;終了
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;----------------------------------------------------------------------------------------
;炎鳳
[Statedef 3110]
type    = A
movetype= A
physics = N
anim = 4140
sprpriority = 6
juggle  = 0

[state b]
type = Trans
trigger1 = 1
trans = add

[State 3110, 1]
type = velset
trigger1 = roundstate!=1
trigger2 = enemynear,animelemtime(14)>=2
trigger2 = roundstate=1
x = 6.8+(roundstate=1)*4

[State 200, 0];コンボ数加算
type = ParentVaradd
trigger1 = movecontact = 1
var(22) = ifelse(movehit,-10,10)
persistent = 1
ignorehitpause = 1

[state 7000,]
type = parentvaradd
trigger1 = movehit = 1
fvar(30) = 0.03
persistent = 0
ignorehitpause = 1

[State 3110, ヒット定義] 
type = HitDef
trigger1 = hitcount <=4
trigger1 = time%9 = 0
attr = S, HP
animtype  = hard
damage    = ceil(51*parent,fvar(6)), 3
priority = 3
hitflag = MAF
guardflag = MA
pausetime = 0,2
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
hitsound = s400, 3
guardsound = s120, 0
ground.type = low
ground.slidetime = 19+parent,var(41)
ground.hittime  = 19+parent,var(41)
ground.velocity = -10.5*parent,fvar(14)
guard.velocity = -3
air.velocity = -3.7*parent,fvar(14),-5.2*parent,fvar(15)
fall.recover = 0
fall = 1
fall.yvelocity = -1
fall.envshake.time = 9
yaccel = .51
ID = 1000
palfx.time = 35
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0

[State 1000, 3];必殺ヒットエフェクトマーク
type = helper
trigger1 = movehit=1
trigger1 = numtarget(1000)
trigger1 = hitcount <=5
id = 7000
postype = p2
ignorehitpause = 1
persistent = 5
pos = Ceil(P2Dist X/2-45), 20-Ceil(P2BodyDist Y)
priority = 2
stateno = 7005
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded=1
trigger1 = numtarget(1000)
id = 7022
pos = 9, 15-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 2
ignorehitpause = 1
keyctrl = 0
ownpal = 1
pausemovetime = 999999
supermovetime = 999999
size.xscale = 0.5
size.yscale = 0.5

[State Help,1]
Type = Helper
Trigger1 = MoveHit
trigger1 = numtarget(1000)
trigger1 = parent,var(33)
StateNo = 9920
Pos = 0,0
PosType = back
IgNoreHitPause = 1
Persistent = 0
Ownpal = 1

[State counter]
Type = playsnd
Trigger1 = MoveHit
trigger1 = numtarget(1000)
trigger1 = parent,var(33)
value = 9920,0
IgNoreHitPause = 1
Persistent = 0

[state a]
type = targetstate
trigger1 = movehit = 1
trigger1 = !Target,Ishelper
value = 555
ignorehitpause = 1
;persistent = 0

[state a]
type = varset
trigger1 = time=0
fvar(3)=20

[state a]
type = varadd
trigger1 = parent,animelemtime(16) <0
fvar(3)=-0.5

[State 1000, 3]
type = VarSet
trigger1 = 1
trigger1 = winko
v = 19
value = 1

[state t]
type = velset
trigger1 = roundstate = 1
trigger1 = ScreenPos X = [110,210]
x = 0

[state a]
type = destroyself
trigger1 = time >= 200
trigger2 = roundstate = 1
trigger2 = root,stateno != 3100
trigger3 = numhelper(2053) = 1
ignorehitpause = 1

;---------------------------------------------------------------------------
;熱血！大噴火
[Statedef 3500]
type    = S
movetype = A
physics = N
juggle  = 0
anim = 3500
ctrl = 0
sprpriority = 2
poweradd = -5000

[State a];
type = palfx
trigger1 = !time
time = 1
;add = 255,255,255
mul = 0,0,0
color = 255
ignorehitpause = 1

[State a]
type = NotHitBy
trigger1 = time <= 59
value = SCA
time = 1

;---------------------[BASARA技]
[state a];BASARA技発動エフェクト
type = Helper
trigger1 = time = 7
id = 6200
name = "BASARA"
pos = 0 , 0
postype = p1
stateno = 6200
helpertype = normal
pausemovetime = 999
keyctrl = 0 
ownpal = 1

[State 2000, 2]
type = Pause
trigger1 = time =7
time = 45
movetime = 45
anim = -1

[State 3500, 1]
type = VelSet
trigger1 = time = 0
x = 0

[State 3500, 2]
type = VelSet
trigger1 = animelem = 11
x = 10.8

[state a]
type = varset
trigger1 = time = 0
v = 24
value = 1

[State 3500, ランサーキック]
type = HitDef
attr = S, HA
trigger1 = 1
hitflag = MAF
animtype  = high
damage = 0
guardflag = MA
pausetime = 1,13
hitsound   = s400, 3
guardsound = s120, 2
priority = 7
sparkno = -1
sprpriority = 7
p2facing = 1
p2stateno = 3510
fall = 1
palfx.time = 127
palfx.add    = 130,0,-100
palfx.sinadd = 110,110,110,10
palfx.invertall = 1
palfx.color     = 0
ID = 1000
persistent = 0

[state 3500, ヘルパー]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal
id = 3504
pos = 20,-90
postype = p1
keyctrl = 0 
ownpal = 1
stateno = 3504
size.xscale = 0.5
size.yscale = 0.5

[state 3500, ヘルパー]
type = Helper
trigger1 = AnimElem = 11
helpertype = normal
id = 3505
pos = 0,0
postype = p1
keyctrl = 0 
ownpal = 1
stateno = 3505
size.xscale = 0.5
size.yscale = 0.5

[state a];ガードエフェクト
type = Helper
trigger1 = moveguarded = 1
trigger1 = numtarget(1000)
id = 7022
name = "hit"
pos = Ceil(P2Dist X/2-25), -70-Ceil(P2BodyDist Y)
postype = p2
stateno = 7020
helpertype = normal
pausemovetime = 0
persistent = 0
ignorehitpause = 1
keyctrl = 0
ownpal = 1
supermovetime = 999999
pausemovetime = 999999

[State 1000,0]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 1000,0]
type = PlayerPush
trigger1 = 1
value = 0

[State 191, Snd 1];音楽
type = PlaySnd
trigger1 = movehit
trigger1 = p2movetype = H
value = 6200,99
persistent = 0
ignorehitpause = 1
loop = 1

[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = Animelem = 1
value = 3500,random%3
channel = 1
lowpriority = 2

[State 191, Snd 1]
type = PlaySnd
trigger1 = AnimElem = 11
value = 1000,1
channel = 0
volume = 200

[State 191, Stop]
type = StopSnd
trigger1 = movehit
trigger1 = p2movetype = H
trigger2 = frontedgebodydist < 10
channel = 0

[State 191, Snd 1];音楽
type = PlaySnd
trigger1 = winko
value = 6200,99
persistent = 0
ignorehitpause = 1
loop = 1

[State 3500, 2] ;終了
type = ChangeState
trigger1 = movehit
trigger1 = p2movetype = H
value = 3501
ignorehitpause = 0

[State 3500, ステート変更]
type = ChangeState
triggerall = animelemtime(10) >= 0
trigger1 = Time >= 200
trigger2 = frontedgebodydist < 10
value = 3502
ctrl = 1

;---------------------------------------------------------------------------
;炎の脚
[Statedef 3504]
type    = S
physics = S
anim = 3504
sprpriority = 8

[State 3504, 1]
type = VelSet
trigger1 = 1
x = 10.8

[state a]
type = destroyself
trigger1 = root,movetype = H
trigger2 = parent,stateno = 3501
trigger3 = parent,movetype = H
trigger4 = frontedgebodydist < 10

;---------------------------------------------------------------------------
;火走
[Statedef 3505]
type    = S
physics = S
anim = 9998
sprpriority = 2

[state 3500, 火走]
type = explod
trigger1 = time < 16
anim = 3505
id = 3505
sprpriority = -999
postype = back
pos = -60,220
ownpal = 1
keyctrl = 0
under = 0
vel = 32,0
pausemovetime = 999
scale = 1+(time)*0.05,1+sin((time)*0.15)*1.5
persistent = 3
igonehitpose=1

[state 3500, 火走]
type = explod
trigger1 = time = [15,24]
anim = 3507
id = 3505
sprpriority = -999
postype = back
pos = -60,220
ownpal = 1
keyctrl = 0
under = 0
vel = 32,0
pausemovetime = 999
scale = 3,2
persistent = 3
igonehitpose=1

[state 3500, 火の粉]
type = explod
trigger1 = time = 2
anim = 3506
id = 3506
sprpriority = -999
postype = back
pos = 20,130
ownpal = 1
keyctrl = 0
under = 0
vel = 0,-3
pausemovetime = 999
scale = 2,2
persistent = 0

[state 3500, 火の粉]
type = explod
trigger1 = time = 4
anim = 3506
id = 3506
sprpriority = -999
postype = back
pos = 80,130
ownpal = 1
keyctrl = 0
under = 0
vel = 0,-3
pausemovetime = 999
scale = 2,2
persistent = 0

[state 3500, 火の粉]
type = explod
trigger1 = time = 6
anim = 3506
id = 3506
sprpriority = -999
postype = back
pos = 140,130
ownpal = 1
keyctrl = 0
under = 0
vel = 0,-3
pausemovetime = 999
scale = 2,2
persistent = 0

[state 3500, 火の粉]
type = explod
trigger1 = time = 8
anim = 3506
id = 3506
sprpriority = -999
postype = back
pos = 200,130
ownpal = 1
keyctrl = 0
under = 0
vel = 0,-3
pausemovetime = 999
scale = 2,2
persistent = 0

[state 3500, 火の粉]
type = explod
trigger1 = time = 10
anim = 3506
id = 3506
sprpriority = -999
postype = back
pos = 260,130
ownpal = 1
keyctrl = 0
under = 0
vel = 0,-3
pausemovetime = 999
scale = 2,2
persistent = 0

;---------------------------------------------------------------------------
;crosswise
[Statedef 3501]
type    = S
movetype= A
physics = N
anim = 3501
sprpriority = 7

[State 240, 6] ;攻撃予約
type = HitDef
trigger1 = animelem = 5
attr = S, HA
animtype  = hard
damage    = 0
priority = 999
hitflag = MAF
guardflag = MA
pausetime = 13,13
guardsound = s120, 2
sparkno = -1
guard.sparkno = S-1
sparkxy = -2, -94
getpower = 0,0
ID = 1000
hitonce = 1

[State a]
type = NotHitBy
trigger1 = time = 0
value = SCA
time = 1

[State 1000,0]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze

[State 3501, 消去]
type = AssertSpecial
trigger1 = 1
flag = noshadow
flag2 = nobardisplay
ignorehitpause = 1


[State 3501, 相手の位置]
type = TargetBind
trigger1 = Time = 0
pos = 55, 0

[state a]
type = varset
trigger1 = time = 0
v = 24
value = 1

[state a]
type = varset
trigger1 = 1
v = 13
value = 1
ignorehitpause = 1
loop = 1

[State 3501, 1]
type = VelSet
trigger1 = time = 0
x = 0

[state a]
type = assertspecial
trigger1 = time = 80
flag = noBG
flag2 = noFG

[State a];
type = bgpalfx
trigger1 = time = 80
time = 10
add = 255,255,255
;mul = 255,255,255
;sinadd = -255,-255,-255,16
color = 255

[State b]
type = AllPalFX
trigger1 = time = [127,137]
time = 10
add = 0+((time-11)*12),0+((time-11)*12),0+((time-11)*12)
color = 256

[state 3501, 全画面画像]
type = explod
trigger1 =  AnimElemTime(4) = 57
anim = 3513
id = 3513
pos = 0,0
postype = left
sprpriority = 10
ownpal = 1
keyctrl = 0
under = 1
bindtime = -1
supermovetime = 9999999
scale = 0.5,0.5

[state 3501, ☆]
type = explod
trigger1 =  AnimElemTime(4) = 131
anim = 3514
id = 3514
pos = 73,13
postype = left
sprpriority = 11
ownpal = 1
keyctrl = 0
under = 1
bindtime = -1
supermovetime = 9999999
scale = 1.3,1.3


[State 191, Snd 1]
type = PlaySnd
trigger1 =  AnimElemTime(4) = 131
value = 3501, 0
volume = 255

[State 3501, 相手のステート変更]
type = TargetState
trigger1 = AnimElem = 5
value = 3511

[State 3501]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;失敗
[Statedef 3502]
type    = S
movetype= A
physics = N
anim = 3502
sprpriority = 0

[State 1000, 7] ;終了
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1

;---------------------------------------------------------------------------
;相手制御
[Statedef 3510]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = 2

[State 3510, 制御した相手のアニメ変更]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3510

[State 3510, 消去]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 3510, ステート変更]
type = SelfState
trigger1 = AnimTime = 0
value = 0
ctrl = 0

;---------------------------------------------------------------------------
;相手を消す
[Statedef 3511]
type    = A
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 3511, 消去]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[state a]
type = lifeadd
trigger1 = 1
value = -9999

[State 3511]
type = posadd
Trigger1 = 1
y = 500

[State 3511]
type = changeState
Trigger1 = Animtime = 0
value = 5150

;--------------------------------------------------
;一撃BASARA発動準備
[Statedef 3499]
type = S
ctrl = 0
anim = 3499
velset = 0,0
movetype = I
physics = S
sprpriority = 2

;---------------------[変数]
[state a]
type = varset
trigger1 = time = 12
v = 24
value = (300+const(data.life))-(life/2)

;---------------------[効果音]
[State 191, Snd 1];ボイス
type = PlaySnd
trigger1 = time = 15
value = 3499,random%2
channel = 1
lowpriority = 0


[State 191, Snd 1]
type = PlaySnd
trigger1 = time = 15
value = 1000,5

;---------------------[ステート移動]
[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 900];大ジャンプ
type    = S
physics = S

[State 900, 1] 
type = varset
trigger1 = stateno = 900
trigger1 = var(2) = 0
;trigger1 = ctrl = 1
v = 2
value = 5

[State 54, 0]
type = VarSet
trigger1 = var(48) = 1
var(48) = 2

[State 900, 1] 
type = varset
trigger1 = command = "jump"
;trigger1 = ctrl = 1
trigger1 = statetype != A
v = 3
value = 1

[State 102, 7] 
type = ChangeState
Trigger1 = Var(3) = 1
trigger1 = var(2)
value = 40

[State 102, 7] 
type = ChangeState
Trigger1 = time > 1
value = 0
ctrl = 1

;-------------------------------------------------------------------------------------------------
[Statedef 101];空中ダッシュ
type    = A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 1,-2
anim = 110
sprpriority = 2

[State 00]
type = PlaySnd
trigger1 = time = 0
value = 41, 1

[State 101, 0]
type = ctrlset
trigger1 = time >= 0
value = 0

[State 101, 0];２段ジャンプ不可
type = Varset
trigger1 = time = 0
v = 2
value = 2

[State 101, 0]
type = Varset
trigger1 = time = 0
v = 4
value = 1

[State 101, 3]
type = Velset
Trigger1 = time >= 0
Trigger1 = time <= 18
x = 8
y = 0

[State 101, 4]
type = veladd
Trigger1 = time = 19
x = -4
y = 0

[State 102, 7] 
type = ChangeState
trigger1 = time = 19
value = 51
ctrl = 1

;-------------------------------------------------------------------------------
[Statedef 102];空中バックダッシュ
type    = A
physics = N
juggle  = 0
poweradd= 0
ctrl = 0
velset = 1,-2
anim = 115
sprpriority = 2

[State 00]
type = PlaySnd
trigger1 = time = 0
value = 41, 1

[State 101, 0];２段ジャンプ不可
type = Varset
trigger1 = time = 0
v = 2
value = 2

[State 101, 0]
type = Varset
trigger1 = time = 0
v = 4
value = 2

[State 101, 3]
type = Velset
Trigger1 = time >= 0
Trigger1 = time <= 13
x = -7
y = 0

[State 101, 4]
type = veladd
Trigger1 = time = 14
x = 4
y = 0

[State 102, 7] 
type = ChangeState
Trigger1 = time >= 18
value = 51
ctrl = 1
