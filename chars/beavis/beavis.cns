; Beavis's constants and state file.
; There are comments scattered through this file, so you may like to
; take a look if would like to learn more about the cns.

; これはKFMの定数と状態のファイルです。
; このファイルの中には注釈が散らされているので、CNSを習いたいお方は
; 読んでみたらいいです。

[Data]
;Amount of life to start with
;体力ゲージの初期値
life = 1000
;Amount of power stocks to have (divided by 1000). Defaults to 3000
power = 3000
;attack power (more is stronger)
;攻撃ダメージ
attack = 100
;defensive power (more is stronger)
;体力パワー
defence = 100
;Percentage to increase defense everytime player is knocked down
fall.defence_up = 50
;Time which player lies down for, before getting up
liedown.time = 16
;Number of points for juggling
airjuggle = 1 ; yes, that "many" juggle points
;Default hit spark number for HitDefs
sparkno = 2
;Default guard spark number
guard.sparkno = 40
;1 to enable echo on KO
KO.echo = 0
;Volume offset (negative for softer)
volume = 0
;Variables with this index and above will not have their values
;reset to 0 between rounds or matches. There are 60 int variables,
;indexed from 0 to 59, and 40 float variables, indexed from 0 to 39.
;If omitted, then it defaults to 60 and 40 for integer and float
;variables repectively, meaning that none are persistent, i.e. all
;are reset. If you want your variables to persist between matches,
;you need to override state 5900 from common1.cns.
IntPersistIndex = 58
FloatPersistIndex = 40

[Size]
xscale = .5           ;Horizontal scaling factor.
yscale = .5           ;Vertical scaling factor.
ground.back = 12     ;Player width (back, ground)
ground.front = 16    ;Player width (front, ground)
air.back = 14        ;Player width (back, air)
air.front = 14       ;Player width (front, air)
height = 60          ;Height of player (for opponent to jump over)
attack.dist = 160    ;Default attack distance
proj.attack.dist = 90 ;Default attack distance for projectiles
proj.doscale = 0     ;Set to 1 to scale projectiles too
head.pos = -5, -90   ;Approximate position of head
mid.pos = -5, -60    ;Approximate position of midsection
shadowoffset = 0     ;Number of pixels to vertically offset the shadow
draw.offset = 0,0    ;Player drawing offset in pixels (x, y)

[Velocity]
walk.fwd  = 3      ;Walk forward
walk.back = -3     ;Walk backward
run.fwd  = 6.9, 0    ;Run forward (x, y)
run.back = -5,-6.7 ;Hop backward (x, y)
jump.neu = 0,-13    ;Neutral jumping velocity (x, y)
jump.back = -3.3    ;Jump back Speed (x, y)
jump.fwd = 3.3       ;Jump forward Speed (x, y)
runjump.back = -2.55,-8.1 ;Running jump speeds (opt)
runjump.fwd = 4,-8.1      ;.
airjump.neu = 0,-13.13      ;.
airjump.back = -3.55      ;Air jump speeds (opt)
airjump.fwd = 3.5         ;.
air.gethit.groundrecover = -.15,-3.5  ;Velocity for ground recovery state (x, y) **MUGEN 1.0**
air.gethit.airrecover.mul = .5,.2     ;Multiplier for air recovery velocity (x, y) **MUGEN 1.0**
air.gethit.airrecover.add = 0,-4.5    ;Velocity offset for air recovery (x, y) **MUGEN 1.0**
air.gethit.airrecover.back = -1       ;Extra x-velocity for holding back during air recovery **MUGEN 1.0**
air.gethit.airrecover.fwd = 0         ;Extra x-velocity for holding forward during air recovery **MUGEN 1.0**
air.gethit.airrecover.up = -2         ;Extra y-velocity for holding up during air recovery **MUGEN 1.0**
air.gethit.airrecover.down = 1.5      ;Extra y-velocity for holding down during air recovery **MUGEN 1.0**

[Movement]
airjump.num = 1      ;Number of air jumps allowed (opt)
airjump.height = 35  ;Minimum distance from ground before you can air jump (opt)
yaccel = .84         ;POTS was right, elecbyte's default gravity was floaty as fuck so I've changed that here
stand.friction = .85  ;Friction coefficient when standing
crouch.friction = .82 ;Friction coefficient when crouching
stand.friction.threshold = 2          ;If player's speed drops below this threshold while standing, stop his movement **MUGEN 1.0**
crouch.friction.threshold = .05       ;If player's speed drops below this threshold while crouching, stop his movement **MUGEN 1.0**
air.gethit.groundlevel = 25           ;Y-position at which a falling player is considered to hit the ground **MUGEN 1.0**
air.gethit.groundrecover.ground.threshold = -20 ;Y-position below which falling player can use the recovery command **MUGEN 1.0**
air.gethit.groundrecover.groundlevel = 10   ;Y-position at which player in the ground recovery state touches the ground **MUGEN 1.0**
air.gethit.airrecover.threshold = -1  ;Y-velocity above which player may use the air recovery command **MUGEN 1.0**
air.gethit.airrecover.yaccel = .35    ;Vertical acceleration for player in the air recovery state **MUGEN 1.0**
air.gethit.trip.groundlevel = 15      ;Y-position at which player in the tripped state touches the ground **MUGEN 1.0**
down.bounce.offset = 0, 20            ;Offset for player bouncing off the ground (x, y) **MUGEN 1.0**
down.bounce.yaccel = .4               ;Vertical acceleration for player bouncing off the ground **MUGEN 1.0**
down.bounce.groundlevel = 12          ;Y-position at which player bouncing off the ground touches the ground again **MUGEN 1.0**
down.friction.threshold = .05         ;If the player's speed drops below this threshold while lying down, stop his movement **MUGEN 1.0**

;Default language victory quotes (optional).  **MUGEN 1.0**
;If this section is included, the default language victory quotes must be in English.
[Quotes]
; Up to 100 victory quotes can be specified per language (victory0 - victory99)
victory0 = "Droppin' plates on yo ass, bee-otch!"
victory1 = "Say one more bad thing about Metallica and I値l kick your ass some more!"
victory2 = "Damn I'm smooth."
victory3 = "Don't call me a butt-knocker, you SON OF A BITCH!"
victory4 = "Keep that up, and I'm gon' put the smackdown on yo ass, biatch!"
victory5 = "Shut up! Shut up! I'm gonna kill you! I swear to God, I'm gonna kill you!"
victory6 = "Dammit, what the hell is going on here? I'm trying to watch a porno, and you fartknockers keep interrupting me!"
victory7 = "Dammit, quit screwing around! Or else I'll take you out back and I'll kick your ass again!"
victory8 = "Um, um... YOU SUCK!"
victory9 = "Shut up! I was not crying!"
victory10 = ".....I'm gonna fix up my room just like this. It's gonna be cool."
victory11 = "The streets will flow with the blood of the non-believers!"
victory12 = "Once upon a time, I had a stiffy, and I lived happily ever after. And that's my tale from the hard side. Thank you, I'm Beavis. Good night."
victory13 = "Get outta the way! I wanna go to Butt Town!"
victory14 = "Ummm... I killed a bunch of people once."
victory15 = "Heh heh. Yeah. I usually win."


;---------------------------------------------------------------------------
; Variable usage:
; This is a record of the variables that KFM uses. Keeping a record of your
; variable usage helps you avoid careless mistakes later.
; var(2)  - Used in Kung Fu Throw (state 800) to remember if fwd was being
;           held (remembered from state 800 through state 810).
;           Also used in jump init state (state 40) for jump attack buffer
; var(6) - superpause check
; var(8) - throw limiter
; var(9)  - Used in kfm.cmd for combo condition (updated every tick)
; var(21) - (movehit = 1) time, checked by the e.g. wallbounces
; var(31) - countah
; vars 40-42 = NJS flags
; NJS's floor(exp(X*ln(2)) + 0.5) values (X for...)
; by the way, it may not be that reccomended to use more than 10 "flags" per var, once i tried a single-var NJS on Jango's Jones Entire moveset, things get a little screwy
; 40.0 - misc. attack
; 40.1 - S.LP
; 40.2 - S.HP
; 40.3 - S.LK
; 40.4 - S.HK
; 40.5 - C.LP
; 40.6 - C.HP
; 40.7 - C.LK
; 40.8 - C.HK
; 40.9 - J.LP
; 41.0 - J.HP
; 41.1 - J.LK
; 41.2 - J.HK
; 41.3 - Divekik
; 41.4 - F+LP
; 41.5 - F+LK
; 42.0 - Heel Hurter
; 42.1 - Chainsaw
; 42.2 - Kung Fu Upper
; 42.3 - Kung Fu Blow
; 42.4 - Kung Fu Kick from a Knee
; var(48) - did the AI use the taunt?
; var(49) - denotes if a 1.0/post1.0 mugen def file is used
; var(50) - used by the AI
; var(51) - used by the AI
; var(55) - AIlevel simpilfer
; var(56) - used by the XOR-ed commands method to detect recent custom states.
; var(57) - the GameTime variable, required by the helper and XOR methods.
; var(58) - the primary AI variable.
; var(12) - used by Vans's cornerpush system
; var(17) - used by the push
; fvar(5) - cornerpush?
; fvar(6) - cornerpush?
; fvar(13) - proration

;---------------------------------------------------------------------------
; KO Voice
[Statedef 179]
type = S
ctrl = 0
anim = 9741
velset = 0,0

;[State WHAM Timer]
;type = VarSet
;trigger1 = 1
;var(30) = parent,var(32)
;ignorehitpause = 1
;[State WHAM Timer]
;type = VarSet
;trigger1 = (parent,var(33)=0)
;v = 32
;value = 0
;ignorehitpause = 1
;[State WHAM Timer]
;type = VarAdd
;trigger1 = (parent,var(33)=1)
;v = 32
;value = 1
;ignorehitpause = 1
;[State WHAM]
;type = PlaySnd
;trigger1 = var(32) = 1
;value = S5,4
;freqmul = 1.0
;ignorehitpause = 1

[State Hyper Combo Finish]
type = Explod
triggerall = winko
triggerall = roundstate = 3
trigger1 = parent,stateno = [3000,3300]
trigger1 = parent,movehit
trigger2 = numhelper(3050)
trigger3 = numhelper(3100)
trigger3 = helper(3100),movehit
anim = 4110
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State Perfect Finish]
type = Explod
trigger1 = winko
trigger1 = roundstate = 3
trigger1 = parent,life = lifemax
anim = 4109
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State Low Life Bonus]
type = PowerAdd
trigger1 = roundstate = 2
trigger1 = parent,alive
trigger1 = parent,life <= (parent,lifemax * 0.25)
value = 500
ignorehitpause = 1
persistent = 0

[State Low Life Warning]
type = Explod
trigger1 = roundstate = 2
trigger1 = parent,alive
trigger1 = parent,life <= (parent,lifemax * 0.25)
anim = 4112
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State SOVIET DAMAGE]
type = Explod
trigger1 =(p2movetype != H && p2stateno != [5000,5110]) || roundstate = 4
trigger1 = p2life - var(13) <= -380
anim = 4107
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State remember p2 life]
type = VarSet
trigger1 = (p2movetype != H && p2stateno != [5000,5110]) || roundstate = 4
var(13) = p2life
ignorehitpause = 1

[State GFYS]
type = Explod
triggerall = loseko
triggerall = var(12) = parent,lifemax
trigger1 = numenemy
trigger1 = enemynear,movecontact
trigger2 = p2movetype = A
anim = 4108
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State remember p1 life]
type = VarSet
trigger1 = ((parent,movetype != H) && (parent,stateno != [5000,5110])) || roundstate = 4
var(12) = parent,life
ignorehitpause = 1

[State reset]
type = VarSet
trigger1 = parent,var(21) != 1
var(16) = -1
ignorehitpause = 1

[State reset]
type = VarSet
triggerall = parent,var(21) != 1
trigger1 = numenemy
trigger1 = enemynear,statetype = A
trigger1 = enemynear,movetype = H
trigger1 = enemynear,gethitvar(fall) = 1
trigger1 = enemynear,canrecover
var(16) = 1;(enemynear,canrecover)
ignorehitpause = 1

[State INVALID COMBO]
type = Explod
trigger1 = parent,var(21) = 1
trigger1 = var(16) = 1
anim = 4113
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1



; Stand
[Statedef 0]
type = S
physics = S
sprpriority = 0
velset = 0,0

[State 0, 1]
type = ChangeAnim
trigger1 = (Anim != [0,5])
trigger2 = Anim = 5 && AnimTime = 0 ;Turn anim over
value = 0

[State 0, 1]
type = ChangeAnim
trigger1 = (Anim = [0,3]) && (animtime = 0)
value = random%4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1
trigger1 = animelem = 2
value = S2,0
channel = 0
lowpriority = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 2
trigger1 = animelem = 2
value = S2,1
channel = 0
lowpriority = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3
trigger1 = animelem = 4
value = S2,4
channel = 0
lowpriority = 1

[State 0, 2]
type = VelSet
trigger1 = Time = 0
y = 0

[State 0, 3] ;Stop moving if low velocity or 4 ticks pass
type = VelSet
triggerall = fvar(6) = 0 ;Cornerpush is over. :)
trigger1 = abs(vel x) < 2
trigger2 = Time = 4
trigger3 = Time = 0
x = 0

[State 0, 4] ;Are you dead?
type = ChangeState
trigger1 = !alive
value = 5050 + 100*((Anim = 5120) || (Anim = 5150))

;---------------------------------------------------------------------------
; Jump Start
[Statedef 40]
type    = S
physics = S
anim = 40
ctrl = 0
sprpriority = 1
facep2 = 1

; Jump attack buffer
[State 40, 1]
type = VarSet
trigger1 = Time = 0
var(2) = 0
[State 40, 1]
type = VarSet
triggerall = command != "upper_what"
trigger1 = !var(55)
trigger1 = command = "x"
var(2) = 600
[State 40, 1]
type = VarSet
triggerall = command != "upper_what"
trigger1 = !var(55)
trigger1 = command = "y"
var(2) = 610
[State 40, 1]
type = VarSet
triggerall = command != "upper_what"
trigger1 = !var(55)
trigger1 = command = "a"
var(2) = 630
[State 40, 1]
type = VarSet
triggerall = command != "upper_what"
trigger1 = !var(55)
trigger1 = command = "b"
var(2) = 640

[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(1) = 0
[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(2) = 0
[State 40, 1]
type = VarSet
trigger1 = Time = 0
sysvar(3) = 0

[State 40, 2]
type = VarSet
trigger1 = command = "holdfwd"
trigger2 = var(55) && (var(52) = 41 || var(52) = 44)
sysvar(1) = 1

[State 40, 3]
type = VarSet
trigger1 = command = "holdback"
trigger2 = var(55) && (var(52) = 42 || var(52) = 45)
sysvar(1) = -1
[State 40, 1]
type = VarSet
trigger1 = command = "SupahJump"
trigger1 = command != "ChargedSupahJump"
trigger2 = var(55) && (var(52) = [43,45])
sysvar(2) = 1
[State 40, 3]
type = VarAdd
triggerall = time
trigger1 = command = "holdup"
trigger2 = var(52) = [41,43]
sysvar(3) = 1
[State 40, 3]
type = VarAdd
triggerall = time
triggerall = sysvar(3) > 0
trigger1 = command = "holddown"
trigger2 = var(52) = [47,49]
sysvar(3) = -1
[State 40, 2]
type = VarSet
trigger1 = (prevstateno = [210,419])
sysvar(4) = 1


[State 0, AfterImage]
type = AfterImage
trigger1 = sysvar(2)
trigger1 = animtime = 0
time = 42
length = 15
palcolor = 40
paladd = 10,10,10
palmul = .74,.74,.74
timegap = 1
framegap = 4
trans = add

[State 40, 4]
type = VelSet
trigger1 = AnimTime = 0
x = ifelse(sysvar(1)=0, const(velocity.jump.neu.x), ifelse(sysvar(1)=1, const(velocity.jump.fwd.x), const(velocity.jump.back.x))) * ifelse(sysvar(2),2.2,1)
y = const(velocity.jump.y) * ifelse(sysvar(3)<3,0.71,1) * ifelse(sysvar(2),1.05,1)

[State 40, 5]
type = VelSet
trigger1 = AnimTime = 0
trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) = 1
x = const(velocity.runjump.fwd.x)

[State 40, 5] ; LAUNCHER
type = VelSet
triggerall = command != "holdback"
triggerall = prevstateno >= 200
trigger1 = numtarget
trigger1 = AnimTime = 0
;trigger1 = prevstateno = 100 ;RUN_FWD
trigger1 = sysvar(1) != -1
trigger1 = sysvar(4) = 1
trigger1 = p2statetype = A
x = ifelse(abs(p2bodydist x / 10)>=3.5,ifelse(p2dist x>=0,3.5,-3.5),(p2bodydist x / 10))

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animtime = 0
value = S0,ifelse(sysvar(2),8,7)

[State 40, 1] ; Lol Buffer
type = Changestate
triggerall = command != "upper_what"
triggerall = animtime = 0
trigger1 = var(2) != 0
value = var(2)
ctrl = 0

[State 40, 6]
type = ChangeState
trigger1 = AnimTime = 0
value = 50
ctrl = 1


;---------------------------------------------------------------------------
; Jump Land
[Statedef 52]
type    = S
physics = S
ctrl = 0
anim = 47
facep2 = 1

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 2]
type = PosSet
trigger1 = Time = 0
y = 0

[State 52, 3]
type = CtrlSet
trigger1 = Time = 3
value = 1

[State 52, Trip Guard]
type= changestate
trigger1= inguarddist
trigger1= ctrl && command="holdback"
value= 120

[State 52, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Run forward
[Statedef 100]
type    = S
physics = S;N
anim = 100
sprpriority = 1
ctrl = 0

[State 100, 1]
type = VelSet
trigger1 = anim = 100
x = const(velocity.run.fwd.x)

[State 100, 2] ;Prevent run from canceling into walk
type = AssertSpecial
trigger1 = 1
flag = NoWalk

[State 100, 3] ;Prevent from turning
type = AssertSpecial
trigger1 = 1
flag = NoAutoTurn

[State 100, 4]
type = ChangeAnim
trigger1 = command != "holdfwd" && var(52) != 100
trigger1 = anim = 100
value = 101

;[State 0, VelSet]
;type = VelMul
;trigger1 = anim = 101
;x = 0.90

[State 100, 4]
type = ChangeState
trigger1 = anim = 101
trigger1 = abs(vel x) < 0.5
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Tripped get-hit (knocked away)
[Statedef 5071]
type    = A
movetype= H
physics = N

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
sysvar(0) = 0

[State 5071, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 5071, 2] ;Acceleration
type = VelAdd
trigger1 = 1
y = GetHitVar(yaccel)

[State 0, Turn]
type = Turn
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15;Const(movement.air.gethit.trip.groundlevel)
ignorehitpause = 1
persistent = 0

[State 5071, 3] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 15;Const(movement.air.gethit.trip.groundlevel)
type = ChangeState
value = 5110

; Collapse
[Statedef 5130]
type = U
movetype = H
physics = S
anim = 5130; + (2 * (selfanimexist(5132) && statetype = C))
ctrl = 0

[State haha]
type = DefenceMulSet
trigger1 = 1
value = 1
ignorehitpause = 1

[State haha]
type = ChangeState
trigger1 = anim = 5130 || anim = 5132
trigger1 = animtime = 0
value = 5131

; Collapse (lying Down)
[Statedef 5131]
type = L
movetype = H
physics = C
anim = anim + 1
ctrl = 0

;[State haha]
;type = PosAdd
;trigger1 = AnimElem = 1
;x = 30 ; measure this from the original animation.
;If your character does not have a posadd in their collapse anim, you may remove this controller.

[State haha]
type = Varset
trigger1 = AnimTime = 0
sysvar(0) = 1

[State haha]
type = ChangeState
trigger1 = time >= 60
value = 5110 + IfElse(Alive, 0, 40) ;;HIT_BOUNCE

;---------------------------------------------------------------------------
; Lose by Time Over
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 170]
type = S
ctrl = 0
anim = 170
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,340]
flag = roundnotover
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = !numhelper(3100)
trigger1 = time = 260
trigger1 = p2name != "Butt-Head"
helpertype = normal
name = "Butt-Head"
ID = 3100
stateno = 171
pos = -80 - backedgedist,0
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = numhelper(3100)
trigger1 = helper(3100),anim = 172
trigger1 = helper(3100),animelem = 3
value = 5012
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = numhelper(3100)
trigger1 = helper(3100),anim = 172
trigger1 = helper(3100),animelem = 6
value = 5002

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 2,57
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 5002 || anim = 5012
trigger1 = animelem = 2
value = 5000,random%7
channel = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5002
trigger1 = animtime = 0
value = 5007
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5012
trigger1 = animtime = 0
value = 5017

[State 0, Turn]
type = Turn
trigger1 = anim = [5000,5017]
ignorehitpause = 1
persistent = 0

[State 170, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[Statedef 171]
type = S
ctrl = 0
anim = 3150
velset = 0,0
sprpriority = -2

[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = 3150
trigger1 = abs(parentdist x) < 60
value = 172

[State 0, SprPriority]
type = SprPriority
triggerall = anim = 172
trigger1 = animelem = 3
value = 3

[State 0, SprPriority]
type = SprPriority
triggerall = anim = 172
trigger1 = animtime = 0
value = -2

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 172
trigger1 = animelem = 3
trigger2 = animelem = 6
value = 5,1
ignorehitpause = 1

[State 0, Explod]
type = Explod
triggerall = anim = 172
trigger1 = animelem = 3
trigger2 = animelem = 6
anim = F2
pos = ceil(129*const(size.xscale)),ceil(-138*const(size.yscale))
postype = p1  ;p2,front,back,left,right
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = 8
ontop = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3150
x = 2.9
[State 0, VelSet]
type = VelSet
trigger1 = anim != 3150
x = 0


;---------------------------------------------------------------------------
; Win state decider
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 180]
type = S

[State 180, 1]
type = ChangeState
trigger1 = Time = 0
value = ifelse(matchover&&random<250,189,181+random%5)

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 181]
type = S
ctrl = 0
anim = 1810+random%5
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = anim = 1810
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(46) < 0
trigger2 = anim = 1811
trigger2 = animelemtime(4) >= 0
trigger2 = animelemtime(54) < 0
trigger3 = anim = 1812
trigger3 = animelemtime(4) >= 0
trigger3 = animelemtime(37) < 0
trigger4 = anim = 1813
trigger4 = animelemtime(4) >= 0
trigger4 = animelemtime(56) < 0
trigger5 = anim = 1814
trigger5 = animelemtime(4) >= 0
flag = nomusic
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = anim = 1810
trigger1 = time = [0,460]
trigger2 = anim = 1811
trigger2 = time = [0,480]
trigger3 = anim = 1812
trigger3 = time = [0,400]
trigger4 = anim = 1813
trigger4 = time = [0,360]
trigger5 = anim = 1814
trigger5 = time = [0,200]
flag = roundnotover
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1810
trigger1 = animelem = 4
value = S181,0
channel = 0
abspan = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1811
trigger1 = animelem = 4
value = S181,1
channel = 0
abspan = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1812
trigger1 = animelem = 4
value = S181,2
channel = 0
abspan = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1813
trigger1 = animelem = 4
value = S181,3
channel = 0
abspan = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1814
trigger1 = animelem = 4
value = S181,4
channel = 0
abspan = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1810
trigger1 = animelem = 46
trigger2 = anim = 1811
trigger2 = animelem = 54
trigger3 = anim = 1812
trigger3 = animelem = 37
trigger4 = anim = 1813
trigger4 = animelem = 56
trigger5 = anim = 1814
trigger5 = animelem = 8
value = 2,2+random%3
channel = 0
abspan = 0
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 182]
type = S
ctrl = 0
anim = 182
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,400]
flag = roundnotover
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = animelemtime(3) >= 0
flag = nomusic
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S182,random%3
channel = 0
loop = 1
abspan = 0
ignorehitpause = 1
persistent = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 183]
type = S
ctrl = 0
anim = 183
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,400+ifelse(numhelper(3100),400,0)]
flag = roundnotover
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 183
trigger1 = time = 0
x = 20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 183
trigger1 = animelem = 2
x = 32 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 183
trigger1 = animelem = 3
x = 32 * const(size.xscale)
persistent = 0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S183,random%3
channel = 0
loop = 1
abspan = 0
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 183
trigger1 = numhelper(3100)
trigger1 = helper(3100),anim=3178
trigger1 = helper(3100),animelemtime(5) >= 0
value = 1830

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1830
trigger1 = animelem = 2
value = S2,5
ignorehitpause = 1
persistent = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 184]
type = S
ctrl = 0
anim = 184
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,240]
flag = roundnotover
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S184,random%4
channel = 0
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose 1 - Bow
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 185]
type = S
ctrl = 0
anim = 195
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,600]
flag = roundnotover
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S185,0
channel = 0
loop = 1
abspan = 0
ignorehitpause = 1
persistent = 0

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

;---------------------------------------------------------------------------
; Win pose - CRYYYYYYYYYYYYYYYYYYYYY
[Statedef 189]
type = S
ctrl = 0
anim = 189
velset = 0,0

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time >= 105
flag = noFG
flag2 = nobardisplay
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,787]
flag = roundnotover
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S2,10
channel = 0
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S189,0
channel = 0
abspan = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger2 = time > 397
trigger2 = var(0) > 256
var(0) = 256
[State 0, VarSet]
type = VarAdd
trigger1 = time = [200,396]
trigger1 = var(0) > 0
var(0) = -2
[State 0, VarSet]
type = VarAdd
trigger1 = time >= 397
trigger1 = var(0) < 256
var(0) = 10

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 103
value = S189,1
channel = 0
abspan = 0
[State 0, Explod]
type = Explod
trigger1 = time = 103
anim = 1890
ID = 1890
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = 64
ontop = 1
;ownpal = 1
removeongethit = 1
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 397
value = S189,2
channel = 0
abspan = 0
[State 0, Explod]
type = Explod
trigger1 = time = 397
anim = 1891
ID = 1891
pos = 160,120
postype = left
facing = 1
vfacing = 1
bindtime = -1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -1
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = 68
ontop = 1
;ownpal = 1
removeongethit = 1
ignorehitpause = 1
[State 0, AllPalFX]
type = AllPalFX
trigger1 = time >= 120
time = 2
mul = var(0),var(0),var(0)
ignorehitpause = 1

[State 181, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1


;---------------------------------------------------------------------------
; PREINTRO
[Statedef 190]
type = S
ctrl = 0
velset = 0,0

[State 190, 1]
type = ChangeAnim
trigger1 = SelfAnimExist(190)
value = 190

[State 190, 2] ;It has to be there
type = ChangeState
triggerall = Time = 0
trigger1 = enemy,name = "Butt-Head"
trigger1 = enemy,authorname = "The_None"
value = 1981

[State 190, 2] ;MICHAEL BOLTON
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "Dantel" || p4name = "Dantel"
trigger2 = p2name = "Michael Bolton" || p4name = "Michael Bolton"
trigger3 = p2name = "Michael Bolotin" || p4name = "Michael Bolotin"
value = 198

[State 190, 2] ; VANILLA ICE
type = ChangeState
triggerall = Time = 0
trigger1 = p2name = "Vanilla Ice" || p4name = "Vanilla Ice"
trigger2 = p2name = "VanillaIce" || p4name = "VanillaIce"
trigger3 = p2name = "V-Ice" || p4name = "V-Ice"
trigger4 = p2name = "Vice" || p4name = "Vice"
trigger5 = p2name = "Iced" || p4name = "Iced"
value = 197

[State 190, 2] ;Taunt Small Characters
type = ChangeState
trigger1 = Time = 0
trigger1 = numenemy
trigger1 = enemynear,const(size.head.pos.y) >= -50
value = 199

[State 190, 2] ; vs Beefy dudes
type = ChangeState
triggerall = Time = 0
trigger1 = enemy,selfanimexist(8055113)
trigger2 = enemy,selfanimexist(8055114)
trigger3 = p2name = "Juggernaut" || p4name = "Juggernaut"
trigger4 = p2name = "Juggernaut by Splode" || p4name = "Juggernaut by Splode"
trigger5 = p2name = "Zangief"
trigger6 = p2name = "Abubo"
trigger7 = p2name = "Hugo"
trigger8 = p2name = "Franco Bash"
trigger9 = p2name = "Colossus"
trigger10 = p2name = "Potemkin"
trigger11 = p2name = "Goro"
trigger12 = p2name = "Kintaro"
trigger13 = p2name = "Artie"
trigger14 = p2name = "Kenshiro"
trigger15 = p2name = "Hulk" || p2name = "The Hulk"
trigger16 = p2name = "Iron Tager"
trigger17 = p2name = "Nappa"
trigger18 = p2name = "Goku Z2"
trigger19 = p2name = "Vegeta Z2"
trigger20 = p2name = "Silber"
trigger21 = p2name = "Sanzou Kongomaru"
trigger22 = p2name = "Shigen"
trigger23 = p2name = "Thanos"
trigger24 = p2name = "T. Hawk"
trigger25 = p2name = "Wyler"
trigger26 = p2name = "Zeus"
trigger27 = p2name = "Souther"
trigger28 = p2name = "Big Bear"
value = 1980

[State 190, 2] ; WE'RE GONNA SCORE
type = ChangeState
triggerall = Time = 0
trigger1 = numenemy
trigger1 = enemynear,selfanimexist(8055002)
trigger1 = !enemynear,selfanimexist(8055060)
trigger2 = p2name = "CvsYoko" || p4name = "CvsYoko"
trigger3 = p2name = "A Pair Of Jiggling Tits" || p4name = "A Pair Of Jiggling Tits"
trigger4 = p2name = "Morrigan Aensland" || p4name = "Morrigan Aensland"
trigger5 = p2name = "Shermie" || p4name = "Shermie"
trigger6 = p2name = "Yoko" || p4name = "Yoko"
trigger7 = p2name = "Mature" || p4name = "Mature"
trigger8 = p2name = "Vice" || p4name = "Vice"
trigger9 = p2name = "cvsVice" || p4name = "cvsVice"
trigger10 = p2name = "Vanessa" || p4name = "Vanessa"
trigger11 = p2name = "Angel" || p4name = "Angel"
trigger12 = p2name = "May Lee" || p4name = "May Lee" || p2name = "MayLee" || p4name = "MayLee"
trigger13 = p2name = "Mai Shiraniu" || p4name = "Mai Shiranui"
trigger14 = p2name = "Elisabeth Branctorche" || p4name = "Elisabeth Branctorche" || p2name = "Elisabeth" || p4name = "Elisabeth"
trigger15 = p2name = "DVanessa" || p4name = "DVanessa"
trigger16 = p2name = "Leona Heidern" || p4name = "Leona Heidern" || p2name = "Leona" || p4name = "Leona"
trigger17 = p2name = "Natascha" || p4name = "Natascha" || p2name = "Angela Belti" || p4name = "Angela Belti" || p2name = "Angela" || p4name = "Angela"; He'd hit it
trigger18 = p2name = "Millia" || p4name = "Millia" || p2name = "Jam" || p4name = "Jam" || p2name = "I-NO" || p4name = "I-NO" || p2name = "Baiken" || p4name = "Baiken"
trigger19 = p2name = "Sarah_Bryant" || p4name = "Sarah_Bryant" || p2name = "Sarah Bryant" || p4name = "Sarah Bryant"
trigger20 = p2name = "Carmilla" || p4name = "Carmilla" || p2name = "Nina" || p4name = "Nina" || p2name = "Syllin" || p4name = "Syllin"
trigger21 = p2name = "Cassandra" || p4name = "Cassandra" || p2name = "Cassandra Murata" || p4name = "Cassandra Murata"
trigger22 = p2name = "Karla_Keller" || p4name = "Karla_Keller" || p2name = "Karla Keller" || p4name = "Karla Keller" || p2name = "Nancy Kerrigan" || p4name = "Nancy Kerrigan"
trigger23 = p2name = "Kitana" || p4name = "Kitana" || p2name = "Mileena" || p4name = "Mileena"
trigger24 = p2name = "Roomi" || p4name = "Roomi" || p2name = "Roomi v2.1 by Inverse" || p4name = "Roomi v2.1 by Inverse"
trigger25 = p2name = "Tyris Flare" || p4name = "Tyris Flare" || p2name = "Tyris" || p4name = "Tyris"
trigger26 = p2name = "Pupa" || p4name = "Pupa" || p2name = "Pupa Salgueiro" || p4name = "Pupa Salgueiro"
trigger27 = p2name = "Makoto" || p4name = "Makoto"
trigger28 = p2name = "Maki" || p4name = "Maki" || p2name = "cvsMaki" || p4name = "cvsMaki"
trigger29 = p2name = "Elena" || p4name = "Elena"
trigger30 = p2name = "Cammy" || p4name = "Cammy" || p2name = "Cammy White" || p2name = "cvsCammy"
trigger31 = p2name = "Rose" || p4name = "Rose" || p2name = "Lisa Lisa"
trigger32 = p2name = "Sonya" || p2name = "Sonia" || p2name = "Sonya Blade"
trigger33 = p2name = "A.B.A." || p4name = "A.B.A." || p2name = "A.B.A" || p4name = "A.B.A"
trigger34 = p2name = "Bonne Jenet" || p4name = "Bonne Jenet" || p2name = "BonneJenet" || p4name = "Bonne Jenet" || p2name = "B.Jennet" || p4name = "B.Jennet"
trigger35 = p2name = "Psylocke" || p4name = "Psylocke"
trigger36 = p2name = "Rosemary" || p4name = "Rosemary"
trigger37 = p2name = "Footee" || p4name = "Footee"
trigger38 = p2name = "Rogue" || p4name = "Rogue" || p2name = "Rogue by Splode" || p4name = "Rogue by Splode"
trigger39 = p2name = "Q-Bee" || p4name = "Q-Bee" || p2name = "QBee" || p4name = "Q-Bee"
trigger40 = p2name = "Blue Mary" || p4name = "Blue Mary"
trigger41 = p2name = "Tiazinha" || p4name = "Tiazinha"
trigger42 = p2name = "B.ORCHID BY AHRIMANES" || p4name = "B.ORCHID BY AHRIMANES"
trigger43 = p2name = "Blair Dame" || p4name = "Blair Dame"
trigger44 = p2name = "Red Snake" || p4name = "Red Snake"
trigger45 = p2name = "Millia Rage" || p4name = "Millia Rage"
trigger46 = p2name = "Midler" || p4name = "Midler"
trigger47 = p2name = "Mariah" || p4name = "Mariah"
trigger48 = p2name = "Foxy" || p4name = "Foxy"
trigger49 = p2name = "Whip" || p4name = "Whip"
trigger50 = p2name = "Hsien-Ko" || p4name = "Hsien-Ko"
trigger51 = p2name = "Felicia" || p4name = "Felicia" ; done dude to club Beavis from behind for this to come for the next update
trigger52 = p2name = "Kamui" || p4name = "Kamui"
trigger53 = p2name = "Maori" || p4name = "Maori"
trigger54 = p2name = "Mei-Fang" || p4name = "Mei-Fang" || p2name = "Ming-Vase"
trigger55 = p2name = "Petra Johanna Lagerkvist" || p4name = "Petra Johanna Lagerkvist" || p2name = "Petra" || p2name = "Pettora"
trigger56 = p2name = "Elsa La Conti" || p4name = "Elsa La Conti" || p2name = "Elsa"
trigger57 = p2name = "Clarice Di Lanza" || p4name = "Clarice Di Lanza" || p2name = "Clarice" || p2name = "Bridget"
trigger58 = p2name = "Scharlachrot" || p4name = "Scharlachrot"
trigger59 = p2name = "Kanae" || p4name = "Kanae"
trigger60 = p2name = "Marylin Sue" || p4name = "Marylin Sue"
trigger61 = p2name = "Maxine" || p4name = "Maxine"
trigger62 = p2name = "Viuda Negra" || p4name = "Viuda Negra" || p2name = "Ananzi" || p4name = "Ananzi"
value = 196

[State 190, 2] ; Female Char Intro Again, thanks YU-TOHARU for the huge list
type = ChangeState
triggerall = Time = 0
trigger1=P2name="Sakura Kasugano"||P2name="Sakura SxP"||P2name="Sakura cc"||P2name="Sakura"||P2name="SakuraPlus"||P2name="Setsuna Sakurazaki"||P2name="SAKURA SHINGOUJI"||P2name="Sango"||P2name="Arale"||P2name="Poison MvC"||P2name="Reminya"||P2name="eko"
trigger2=P2name="Satsuki Yumiduka"||P2name="Satsuki_Yumiduka"||P2name="Yumiduka_Satsuki"||P2name="Yumiduka Satsuki"||P2name="MegaMari_sukima"||P2name="Saya Otonashi"||P2name="Fubuki Sakuragasaki"||P2name="Lien Neville"||P2name="Renaluigi"||P2name="Mima"
trigger3=P2name="goenikoD4"||P2name="Sakura Haruno"||P2name="Kagome-sama by VinceJ"||P2name="Lady_Kikyo"||P2name="Ukyo Kuonji"||P2name="Kuno Kodachi"||P2name="X-Shampoo"||P2name="Hana"||P2name="Rera_zero_by_ibukah"||P2name="FEMINOPHOBIA"||P2name="Seiren"
trigger4=P2name="Akane Tendo"||P2name="Mariko Konjou"||P2name="SIZUKA"||P2name="Nausicaa"||P2name="Wapiko"||P2name="Onpu Segawa"||P2name="moon"||P2name="Super Sailor Moon"||P2name="Kanaria-D"||P2name="K-ko"||P2name="A_Mizuki"||P2name="draculina"
trigger5=P2name="Sailor Moon"||P2name="Eternal SailorMoon"||P2name="Sailor Venus"||P2name="Sailor Mercury"||P2name="Sailor Mars"||P2name="Sailor Jupiter"||P2name="Sailor Venus KFM"||P2name="Succubus"||P2name="KungFuGirl UZUKI"||P2name="G-akiha"
trigger6=P2name="Super Sailor Chibi Moon"||P2name="Sailor Pluto"||P2name="Sailor Saturn"||P2name="Precure"||P2name="Sakura Kinomoto"||P2name="CUTIE HONEY"||P2name="BATTLE MAHORO"||P2name="YajyuImouto"||P2name="SpFIV Yuki"||P2name="Yu Asuka"
trigger7=P2name="Mahoro"||P2name="Minawa Andou"||P2name="Sachiko Ogasawara"||P2name="Yumi Fukuzawa"||P2name="Yoshino Shimazu"||P2name="Shimako Todo"||P2name="Chiyo Mihama"||P2name="Morilen"||P2name="Reisen_Ground_Type"||P2name="Remilia_M"||P2name="Shana"
trigger8=P2name="touko"||P2name="Kagura"||P2name="Ayumu Kasuga"||P2name="Sakaki"||P2name="Tomo Takino"||P2name="Haruhi Suzumiya"||P2name="Mikuru Asahina"||P2name="asahina mikuru"||P2name="YokoWP"||(P2name="monk"&&enemynear,authorname="kishio")
trigger9=P2name="asakura ryouko"||P2name="Ryoko Asakura"||P2name="tsuruya-san"||P2name="Konata Izumi"||P2name="konata"||P2name="kagamin"||P2name="tsukasa"||P2name="Absolute_White_Len"||(P2name="Kyuketsuki"&&enemynear,authorname="eminanaya")
trigger10=P2name="kotonoha katsura"||P2name="Saionzi Sekai"||P2name="Vanilla H(beta)"||P2name="Vanilla H"||P2name="Di Gi Charat"||P2name="Usada Hikaru"||P2name="rena_lv5"||P2name="ryugu"||P2name="Sinclair"||P2name="Yu-Lan"||P2name="Layla & Albert"
trigger11=P2name="furude_rika"||P2name="ryuuguu rena"||P2name="sonozaki mion"||P2name="hunter-A"||P2name="Hojo Satoko"||P2name="cvsyoko"||P2name="HARUKA"||P2name="Eiko Magami"||P2name="Weiss-Arcana3"||P2name="Misaka Mikoto"||P2name="Mysterious Power"
trigger12=P2name="Biko Daitokuji"||P2name="chise"||P2name="Chiseex"||P2name="kino"||P2name="Nanoha"||P2name="Nanoha_Takamachi"||P2name="fate"||P2name="BMG"||P2name="Nami"||P2name="Tsubasa"||P2name="HighwayStar"||P2name="Kiyoko Mitarai"||P2name="YAKF Fan"
trigger13=P2name="Tashigi"||P2name="MARIAH"||P2name="MIDLER"||P2name="hu-ko"||P2name="Tio&Megumi"||P2name="Paty&Ururu"||P2name="Juuhachigou"||P2name="Androide 18 by _Vision"||P2name="RYUKO2nd"||P2name="yakumo_ran"||P2name="Reisen Deadpool Inaba"
trigger14=P2name="Android 18"||P2name="Pan Dragonball GT por Ssonic"||P2name="Sion_Eltnam_Atlasia"||P2name="Sion Eltnam Atlasia"||P2name="Sion TATARI"||P2name="Sion Eltnam Atlasia [Vampire]"||P2name="Roza"||P2name="Pneophen's Sexy Doll"||P2name="B-Sion"
trigger15=P2name="Sion_TATARI"||P2name="V-sion-D"||P2name="seifuku_akiha"||P2name="Youmu_Konpaku"||P2name="Akiha_Tohno"||P2name="Akiha"||P2name="Aya Syameimaru"||P2name="Akiha_Vermilion"||(P2name="Ranma Saotome"&&enemynear,authorname="Nyan?Kiryu")
trigger16=P2name="Hisui"||P2name="Hisui&Kohaku"||P2name="Kohaku"||P2name="Kohaku By Toshi"||P2name="Mr.Chin"||P2name="White_Len(CPU)"||P2name="White_Len"||P2name="White Len"||P2name="S-Marisa"||P2name="nue7"||P2name="Fray 2009"||P2name="Fray 2010"
trigger17=P2name="Miyako Arima"||P2name="Arima_Miyako"||P2name="Miyako Rock=style"||P2name="Miyako Arima HM"||P2name="2toshin Alice"||P2name="8TOUSHIN MARISA"||P2name="STGmarisa"||P2name="Fortuna_Suwako"||P2name="Magnuadioes_Utsuho"||P2name="S.Sinclair"
trigger18=P2name="AbaReimu"||P2name="ccreimu"||P2name="hakureimu"||P2name="MegaMari"||P2name="Alice Margatroid"||P2name="Alice_Margatroid"||P2name="Shanghai_Alice"||P2name="Ride-R"||P2name="SAKURA-LEN"||P2name="Margaretha_Solin"||P2name="Reisen_A"
trigger19=P2name="tosaka rin-mini"||P2name="Taiga&Buruma"||P2name="Millia_Rage"||P2name="Millia Rage Mix"||P2name="millia"||P2name="I-NO"||P2name="Ai"||P2name="JAM KURADOBERI"||P2name="Glaugan_Koa"||P2name="Barbatos Komachi"||P2name="Rachel"
trigger20=P2name="jam"||P2name="Baiken"||P2name="baiken_GGX"||P2name="May"||P2name="Dizzy"||P2name="Super Dizzy"||P2name="Athletic-Chun Li"||P2name="Chun Li"||P2name="Chun-Li"||P2name="[Rumiko]'s Angel"||P2name="[Rugal]'s Psylocke"||P2name="Nyamo"
trigger21=P2name="Chun Li by WhiteMagic2002"||P2name="ChunLi"||P2name="cvsmai"||P2name="Genryusai Maki"||P2name="cvsathena"||P2name="cvscammy"||P2name="cvschunli"||P2name="cvsfelicia"||P2name="ROBO-LEN"||P2name="ROBO-JAM"||P2name="Commode Serika"
trigger22=P2name="Hibiki Takane"||P2name="Yami_miko"||P2name="cvsjill"||P2name="cvsjuni"||P2name="cvskarin"||P2name="kasumi"||(P2name="Genkai"&&enemynear,authorname="X-Calibre Blade")||P2name="Paty&Ururu"||P2name="aselia of eternal"||P2name="r-mai"
trigger23=P2name="Tabasa"||(P2name="ukyo"&&enemynear,authorname="nyo")||P2name="Reas"||(P2name="Hikaru"&&enemynear,authorname="Elecbyte")||P2name="Lucy Fernandez"||P2name="NGBC Kisarah Westfield"||(P2name="Haku"&&enemynear,authorname="Ryun")
trigger24=P2name="Moe"||(P2name="Len"&&enemynear,authorname="?")||P2name="cvslilith"||P2name="nakoruru"||P2name="cvssakura"||P2name="cvsyuri"||P2name="svcathena"||P2name="Dark Chun Li"||P2name="Gokudou Pupeteer"||P2name="Hidoumajo"||P2name="A-ko"
trigger25=P2name="Athletic-Chun Li"||P2name="MasterChunLi"||P2name="Aya_Syameimaru"||P2name="Dark Sakura by BlackJack"||P2name="Dark Sakura"||P2name="Rosemary"||P2name="Rainbow Mika By TAMAGO"||P2name="takocham"||P2name="takolen"||P2name="takorimu"
trigger26=P2name="darkkarin"||P2name="J_Karin"||P2name="Karin Kanzuki"||P2name="Neo Karin"||P2name="Karina"||P2name="Sakura&Karin"||P2name="Karin"||P2name="Cammy"||P2name="Juli"||P2name="mion"||P2name="J_Flan"||P2name="J_yukari"||P2name="miki sayaka"
trigger27=P2name="cammy_nxc"||P2name="CammySFM"||P2name="Juni"||P2name="Kisarah Westfield"||P2name="Ibuki"||P2name="SF3 Ibuki"||P2name="Makoto"||P2name="Makoto Sawatari"||P2name="Syameimaru_Akari"||P2name="HiohKaede"||P2name="Mariabell Armitage"
trigger28=P2name="SF3 Elena"||P2name="Anonym"||P2name="Chie_Rumiko"||P2name="Blair Dame"||P2name="New Nakoruru"||P2name="nakoruruss0"||P2name="felicia"||P2name="Pocket Felicia"||P2name="Noel = Vermillion"||P2name="Vesper"||P2name="7L|]{(L2!"
trigger29=P2name="Felicia MvC2 Style by MGBenz"||P2name="Bulleta SXP"||P2name="Baby Bonnie Hood"||P2name="Muranako"||P2name="rimururu"||P2name="mina majikina"||P2name="ANITA by CAMRAT"||P2name="Marika M Peachitree"||P2name="Tin's Linn_Kurosawa"
trigger30=P2name="Lilith"||P2name="Mi_Lilith"||P2name="Jill Valentine"||P2name="Roll"||P2name="Tron Bonne SxP"||P2name="Tron Bonne"||P2name="Ruby Heart"||P2name="Ruby Heart SXP"||P2name="assiette"||P2name="Dies"||P2name="sanae_X"||P2name="satuzinki_S"
trigger31=P2name="Hinata Wakaba"||P2name="Mina"||P2name="IROHA"||P2name="Rogue"||P2name="Rogue by Splode"||P2name="Rera"||P2name="cham cham"||P2name="Mai Kawasumi from Sougetu"||P2name="Dr.Minerva"||P2name="Irriana"||P2name="Jurane"||P2name="hu-ama"
trigger32=P2name="mai_Pocket"||P2name="Rerakusa Siro Dokisada"||P2name="Tessa"||P2name="BDI_Pocket_Chun-li"||P2name="xi_yuri"||P2name="Aner"||P2name="chizuru"||P2name="Chizuru Kagura"||P2name="karla_Keller"||P2name="RajaaMech-Hisui"||P2name="HABARA"
trigger33=P2name="Mai Shiranui"||P2name="Mai Kawasumi"||P2name="mai_rb"||P2name="Mai_K"||P2name="Maid Serio"||P2name="R.B Mai"||P2name="BDI_CvS2Mai"||P2name="94 Yuri Sakazaki"||P2name="February"||P2name="November"||P2name="TOU-NYAN-LEN"||P2name="Aimi"
trigger34=P2name="MN"||P2name="LUNA"||P2name="Blue Mary"||P2name="Yuri Sakazaki"||P2name="god yuri"||P2name="Yuri"||P2name="wind"||P2name="kasumi todo"||P2name="Momoko"||P2name="Cometto-san"||P2name="Doremi Harukaze"||P2name="Sorami_Shizaki"
trigger35=P2name="Athena Asamiya"||P2name="Athena TYPE-M"||P2name="athena-rkn"||P2name="Mystic Athena"||P2name="Sandy"||P2name="Another Leona"||P2name="Leona By Ssonic"||P2name="whip"||P2name="Pneophen's pissed off Sakura"||P2name="Kurisu_Siratori"
trigger36=P2name="Yuki_a"||P2name="Kula"||P2name="senna kyoudou"||P2name="kula_new"||P2name="robo-kula"||P2name="Yuki By Third"||P2name="Miu Kurosaki"||P2name="Zero Hotaru"||P2name="Tenshi_X"||P2name="Udonge_A"||P2name="Kochiya-Sanae"||P2name="aoi"
trigger37=P2name="Malin"||P2name="Hotaru Futaba"||P2name="Maria Shinzaki"||P2name="fliz"||P2name="angel"||P2name="Rin"||P2name="Alty"||P2name="Shijyo Hinako"||P2name="Hinako"||P2name="Anonym-guard"||P2name="SF4 Juri"||P2name="SaikyoCirno"||P2name="Kei"
trigger38=P2name="Tin's Shiki"||P2name="J_Mary"||P2name="kukuru"||P2name="Akari Ichijo by M@PPY"||P2name="Akari Kamigisi"||P2name="NewAkari"||P2name="Li Xiang Fei"||P2name="Tin's May Lee"||P2name="Fiorenza2"||P2name="Fiorenza"||P2name="M-PrincessJade"
trigger39=P2name="isabeau"||P2name="hiel"||P2name="Sula"||P2name="Elisabeth Branctorche"||P2name="Shermie"||P2name="Bonne Jenet"||P2name="PokeAthena! Wai!"||P2name="Osage Akari"||P2name="Turanga Leela"||P2name="Emma Frost"||P2name="Mystique"
trigger40=P2name="Super Akarin"||P2name="Hibiki_Takane"||P2name="alice"||P2name="Pupa Salgueiro"||P2name="Annie Murakami"||P2name="Lynn Baker"||P2name="Lynn"||P2name="Kurara Hanakouji"||P2name="Marrow"||P2name="Sonson"||P2name="Spiral"||P2name="Mulan"
trigger41=P2name="Youmu Double Blade"||P2name="Sissy"||P2name="clara"||P2name="MVCremi by ryokucha"||P2name="popura"||P2name="Roomi v2.1 by Inverse"||P2name="roomi"||P2name="arina"||P2name="Cooking Mama"||P2name="HanreiYoumu"||P2name="mokorugal"
trigger42=P2name="Tesse"||P2name="Tia"||P2name="Izumo Ryoko"||P2name="k_carol"||P2name="yukihime"||P2name="kurenai"||P2name="Reika"||P2name="Chen Mao"||P2name="Riu Yung Mie"||(P2name="MAOH"&&enemynear,authorname="shikkoku")||P2name="sayaking"
trigger43=P2name="tsugumi"||P2name="Marian"||P2name="li hua"||P2name="Marisa Kirisame"||P2name="kinu"||P2name="Tsunade"||P2name="Yagumo by Mattasaur!"||P2name="Momokoi Aoyama"||P2name="Alice_6kinoko"||P2name="Marisa Cos Tenshi"||P2name="6kinoko_reimu"
trigger44=P2name="Ryuho"||P2name="chibiko"||P2name="B_Raiya"||P2name="Raiya Mikazuchi"||P2name="kiriko"||P2name="Shaia"||P2name="honda asuka"||P2name="Jun Kubota by Luchini"||P2name="kurumi"||P2name="Neige_Pebble"||P2name="ZeroHibiki"||P2name="Bibin"
trigger45=P2name="Asuka"||(P2name="tao"&&enemynear,authorname="NHK")||(P2name="UNKNOWN"&&(enemynear,authorname="kuri"||enemynear,authorname="hanma"||enemynear,authorname="586"||enemynear,authorname="gu"))||P2name="nana"||P2name="STG Fran"
trigger46=P2name="Shinobu"||(P2name="Kurokishi"&&enemynear,authorname="ihoo1836")||P2name="torami"||P2name="kumi"||P2name="megumi"||P2name="Reimi"||P2name="Kaori Yanase"||P2name="Mio"||P2name="ZeroHighwayStar"||P2name="ZeroKing"||P2name="TELETTE"
trigger47=P2name="Erina by Luchini"||P2name="Ayako by Luchini"||P2name="Masuda Chiho"||P2name="Tamao Mitsurugi"||P2name="Tamao V.G-MAX"||P2name="Yuka Takeuchi"||P2name="Satomi Yajima"||P2name="Hibiki-SAN"||(P2name="len"&&enemynear,authorname="Kn")
trigger48=P2name="satomi"||P2name="Manami Kusunoki"||P2name="Kirisima Kyoko"||P2name="HIRO"||P2name="ROZE"||P2name="Fuziwara Yuki"||P2name="Yueng Soi Leng"||P2name="ai momoyama"||P2name="Shiki_Ryougi"||P2name="Senna_Kyoudou"||P2name="SFCMeirin"
trigger49=P2name="Mimi by Luchini"||P2name="Natumi takasimada"||P2name="Aska by BEK"||P2name="Nanashi Kimura"||P2name="Hikari Reiko"||P2name="Benten"||P2name="Fiona"||P2name="Kamui"||P2name="Original_Flandre"||P2name="H_31Rin"||P2name="Another_Mai_K"
trigger50=P2name="Saki"||P2name="Saki_Tsuzura"||P2name="Tsuzura_Saki"||P2name="Konoha"||P2name="kira"||P2name="Lieselotte"||P2name="Maori"||P2name="Lilica"||P2name="Heart_Aino"||P2name="Stealer"||P2name="CureHappy"||P2name="Arabianmoon"||P2name="Pale"
trigger51=P2name="petora"||P2name="SENNA"||P2name="kendo nakanishi&kyudo nakanishi"||P2name="kunagi tenrou"||P2name="Kaori Misaka"||P2name="Kaori Misaka & Shiori Misaka"||P2name="Nayuki Minase"||(P2name="Mimic"&&enemynear,authorname="Tukimoon")
trigger52=P2name="Ayu Tukimiya"||P2name="Mishio"||P2name="Shiori"||P2name="Sayuri Kurata"||P2name="Sayurin"||P2name="Misuzu"||P2name="Misuzu_K"||P2name="kanna"||P2name="EXnanase"||P2name="Valentina"||P2name="haruchan"||P2name="Shiori Misaka"
trigger53=P2name="Ikumi Amasawa By Toshi"||P2name="Ikumi_Amasawa"||P2name="Minagi Tohno"||P2name="Minagi Tohno By Toshi"||P2name="Mizuka Nagamori"||P2name="Mayu Shiina"||P2name="Minis Mahn"||P2name="Gudea-Suika"||P2name="Yatogi Akane"||P2name="Yukarin"
trigger54=P2name="Kano Kirishima"||P2name="michiru"||P2name="Rumi Nanase"||P2name="Misaki Kawana"||P2name="Shiiko Yuzuki"||P2name="Akane Satomura"||P2name="serika"||P2name="c_serika"||P2name="gregariously"||P2name="LADY BRACKPEARL"||P2name="caster-mini"
trigger55=P2name="Serio"||P2name="HMX-12-2 M-custom"||P2name="Made Multi"||P2name="HMX-12"||P2name="Asahi_Sakurai By Toshi"||P2name="Minami_Makimura"||P2name="Yue Imasaka"||P2name="rina"||P2name="Mary Agent"||P2name="Orochi-Yuyuko"||P2name="Yakumo_Ran"
trigger56=P2name="tomoko"||P2name="Kotone_Himekawa"||P2name="Rapied Ayaka"||P2name="Kanako"||P2name="Kaede Kasiwagi"||P2name="mizuki"||P2name="ruriko"||P2name="Huryou_Hatune"||P2name="Mukai_Chiko"||P2name="Flandre-Bernstein"||P2name="Broadway"
trigger57=P2name="azusa"||P2name="Azusa Hinomori"||P2name="corin"||P2name="Yu Inokawa"||P2name="Chi-chan"||P2name="kasiwagi_chiduru"||P2name="Bousou Oni-CHIDURU"||P2name="Syuren_Kano"||P2name="Marvel vs Capcom - Eternity of Heroes: Chun-Li"
trigger58=P2name="Zenon"||P2name="Erika_Sendou"||P2name="Masako Houjyouin"||P2name="Yumiko Watanuki"||P2name="Kaori Yanase"||P2name="seriko"||P2name="Mary_Deiyon"||P2name="hatune"||P2name="Narukana"||P2name="I_LILICA"||P2name="Pheus_Mor"||P2name="Poison"
trigger59=P2name="aya hasebe"||P2name="c_mizuki"||P2name="Ecoco"||P2name="mel"||P2name="Princess Comet"||P2name="Hoshi Monako"||P2name="Monako Ogura"||P2name="Reika Murasame"||P2name="Princess Meteo"||P2name="Potpourri"||P2name="nbc_aoko"||P2name="Jill"
trigger60=P2name="hory marlu"||P2name="Etoile Chrono Tokiko"||P2name="RYUKO"||P2name="Eimi Ohba"||P2name="eimi"||P2name="kaga reiko"||P2name="irori"||P2name="material"||P2name="Felicia_LG"||P2name="Dembo"||P2name="miku"||P2name="Material-S"
trigger61=P2name="Kana Orikura"||P2name="Izen"||P2name="Asami Yamazawa"||P2name="Kikuko Nogi"||P2name="Meer Campbel"||P2name="Marle 2"||P2name="Lucca"||P2name="Aeris Gainsborough"||P2name="Nico"||P2name="Shinki"||P2name="oboren"||P2name="shiratama20"
trigger62=P2name="ARURU"||P2name="Amity"||P2name="valkyrie"||P2name="Wonder Momo"||P2name="Tiria Roset"||P2name="Hikari"||P2name="Yadamon"||P2name="Game Master"||P2name="renna"||P2name="Yukari_hsts"||P2name="December"||P2name="hakurou"||P2name="Laurent"
trigger63=P2name="Tifa Lockheart"||P2name="Tifa Lockhart"||P2name="Rugal Bee"||P2name="Yoma Komatsu"||P2name="fujisaki"||P2name="HATSUNE_MIKU"||P2name="HATSUNE MIKU"||P2name="mutumi"||(enemynear,authorname="KFC?"&&(P2name="shogun"||P2name="swordman"))
trigger64=P2name="Eruru"||P2name="Sylphie"||P2name="Toron"||P2name="Walkyrie"||P2name="RIMLE"||P2name="Yo-Jo"||P2name="lyris"||P2name="Lyris Aileron"||P2name="Farah Oersted"||P2name="Stealer"||P2name="Honda Asuka PB"||P2name="Chen_Tiger"||P2name="18go"
trigger65=P2name="Chelsea Tone"||P2name="Collet Brunel"||P2name="Suzu Fujibayashi"||P2name="Arcana Presea"||P2name="Presea Combatir"||P2name="fron"||P2name="DQ5-daughter"||P2name="PAULA"||P2name="Asutorea"||P2name="Shigure_Sakuya"||P2name="Lei Lei"
trigger66=P2name="Princess Daisy"||P2name="EvilPeach"||P2name="Peach"||P2name="Kung Fu Mako"||P2name="KASUMI'"||P2name="Eri Kamei"||P2name="Reina Tanaka"||P2name="Miki Fujimoto"||P2name="MONO FREAKS"||P2name="Aoko_M"||P2name="Yoriko_Yasuzumi"
trigger67=P2name="Ai Takahashi"||P2name="Yumi Yoshimura"||P2name="Ami Ohnuki"||P2name="Hyuuga A Akiko By CAP"||P2name="mana"||P2name="Kung Fu girl"||P2name="Myuu"||P2name="Uino"||P2name="LOWREN"||P2name="RI-NE"||P2name="Tichiel-Juspian"||P2name="Nazrin"
trigger68=P2name="Pneophen's Kotono from Dead Dance"||P2name="ranoh"||P2name="waha-"||P2name="Yuki Kotonomiya"||P2name="Manamana"||P2name="komepo"||P2name="wagahai"||P2name="LESTY"||P2name="Marvel Frozen"||P2name="Racheal"||P2name="Sakuya_Izayoi_A"
trigger69=P2name="rusty"||(enemynear,authorname="woman"&&(P2name="2"||P2name="95"||P2name="98"||P2name="98SE"||P2name="2k"||P2name="me"||P2name="XP(pro)"||P2name="r'"))||P2name="Scarlet Devil"||P2name="saigyouji yuyuko"||P2name="mai_kof94hi"
trigger70=P2name="mayko"||P2name="medoi"||P2name="Madoi San"||P2name="modoi"||P2name="Yakui San"||P2name="Ozoi san"||P2name="itai"||P2name="Yamiyuki"||P2name="Karen na Hito"||P2name="Tenko_L"||P2name="DHSakuya"||P2name="jam BAND"||P2name="cassandra"
trigger71=P2name="ikisan"||P2name="Mako"||P2name="Rinfa"||P2name="gurocure"||P2name="neyufeulle"||P2name="ryuuou"||P2name="Shinocchi"||P2name="nyaonyao"||P2name="huninki"||P2name="Virgilia"||P2name="Lambdadelta"||P2name="Inaba Tewi"||P2name="Lavia"
trigger72=P2name="s_crea-f"||P2name="s_sayia-f"||(P2name="j"&&enemynear,authorname="DEAD ATOM")||P2name="nukunuku"||P2name="Sakuya_Izayoi"||P2name="Sakuya Izayoi"||P2name="Hong_Meirin"||P2name="Curly_Brace"||P2name="Kunoichi_NWA"||P2name="CordeliaSF2"
trigger73=P2name="Hong Meirin"||P2name="MegaMari_chuugoku"||P2name="Chu-goku"||P2name="Patchouli"||P2name="Patchouli_Knowledge"||P2name="Reimu_Hakurei"||P2name="89006"||P2name="udon"||P2name="Misaka-Kaori"||P2name="Peace of Len"||P2name="YAKF Star"
trigger74=P2name="MegaMari_sukima"||P2name="Youmu_Konpaku"||P2name="Toyota Karina Cerenas Version NEO"||P2name="Kyogoku Majikina Mioh"||P2name="Toyota Karina Cerenas Version Original"||P2name="RKR"||P2name="MAJI_IROHA"||P2name="Nyarlathotep"
trigger75=P2name="Toyota Karina Cerenas Version Clone"||P2name="Honda Asuka Cerenas Version"||P2name="Ookubo Kumi Cerenas Version"||P2name="Suzuki Megumi Cerenas Version"||P2name="Owada Nana Cerenas Version"||P2name="Ms.UnKnown"||P2name="Aya_S_Guile"
trigger76=P2name="MasterMaiLing"||(P2name="uesugi kensin"&&enemynear,authorname="minoo")||P2name="Reisen Udongein Inaba"||P2name="Iku_Nagae"||P2name="Sonozaki_Shion"||P2name="Tenrou_Kunagi"||P2name="elastigirl"||P2name="[Vanessa]'s Vanessa"
trigger77=P2name="ranmaru"||P2name="Kotori Shirakawa"||P2name="Nemu Asakura"||P2name="rumia"||P2name="cirno"||P2name="Tamiflu Miko"||P2name="Sakuya OS"||P2name="Hisouten_Patchouli"||(P2name="Magic_Knight"&&enemynear,authorname="kagetsu yuki")
trigger78=P2name="Izuna"||P2name="RajaaCammy"||P2name="RajaaLilith"||P2name="RajaaMaki"||P2name="RajaaYuri"||P2name="Komachi Onoduka"||P2name="cvsmika"||P2name="Akira Honjoji"||P2name="Reisen_ABS"||P2name="Tenshi_A"||P2name="Homura_m"||P2name="Seasell"
trigger79=P2name="Jubilation Lee"||P2name="launa"||P2name="LENALEE-MVC"||P2name="NANASE-MVC"||P2name="Misuzu Kamio"||P2name="AYAKA-MVC"||P2name="mai_kof9495"||P2name="yako_katsuragi"||P2name="Tannhauser"||P2name="lily_white"||P2name="lily_Black"
trigger80=P2name="YoumuSS"||(P2name="Ren"&&enemynear,authorname="Akimoto")||P2name="kyouko"||P2name="Shino Kamui Rimuhime"||P2name="akira_kogami"||P2name="Super Jupiter"||P2name="Sailor Neptune"||(P2name="Jun"&&enemynear,authorname="Kunshomo")
trigger81=P2name="Super Sailor Venus"||P2name="Super Sailor Mars"||P2name="SuperNovice"||P2name="Sailor Uranus"||P2name="KRukia"||P2name="Nao Yuuki"||P2name="Frey"||P2name="Yumel"||P2name="HiHuMi"||P2name="Parsee"||P2name="Kongara_Another_Style"
trigger82=P2name="Yomi"||P2name="MasterHibiki"||P2name="Duna"||P2name="Cecilia"||P2name="tiki"||P2name="Walkure"||P2name="kanna-mvc"||P2name="SAKI-MVC"||P2name="Asha"||P2name="Tatsuki Arisawa"||P2name="Linda"||P2name="Yuka Kazami"||P2name="D-Sayaka"
trigger83=P2name="Rosa"||P2name="Arima_Meirin"||P2name="ONI-MIKO-REIMU"||P2name="RajaaMechHisui"||P2name="Sanae Kotiya"||P2name="Mishio Amano"||P2name="TronBonne"||P2name="Chunli_Sf3_Marvel"||(P2name="youhei"&&enemynear,authorname="Pre-to")
trigger84=P2name="kogasa"||P2name="Yumeka Ohajiki"||P2name="Hong_Meiling_Brawl_Remix"||P2name="MvC2 Tron Bonne"||P2name="mokou"||P2name="mystia"||P2name="Kureha Hayate"||P2name="hibiki"||P2name="peco"||P2name="sunny"||P2name="Rydia"||P2name="MOMO-LEN"
trigger85=P2name="Rei Ayanami"||P2name="Feng Xiaoyen"||P2name="STGreimu"||P2name="STGsakuya"||(P2name="yue"&&enemynear,authorname="Ryu")||P2name="kn2kurusu"||P2name="kimexemaru"||P2name="Miyako_Arima"||P2name="Arima Miyako"||P2name="Yuuko(kari)"
trigger86=P2name="Omni-Psych Jam"||P2name="Sakuya_SWR"||P2name="Patchouli_SWR"||P2name="Scylla"||P2name="Tyris Flare"||(P2name="Jun"&&enemynear,authorname="kain the supreme")||P2name="Mai"||P2name="SAYO CHAN"||P2name="Suika_pon"||P2name="MVC3_Sanae"
trigger87=P2name="Mizuki Takase"||P2name="Monami Ogura"||P2name="Petit Charat"||P2name="Athena"||P2name="Sakura' Por Drugen"||P2name="rbsmai"||P2name="Hinako Shijo"||P2name="Kotono"||P2name="viola"||P2name="Iria Silvestoli"||P2name="Elsa La Conti"
trigger88=P2name="RajaaChunli"||P2name="RajaaHibiki"||P2name="KulaXI"||P2name="Subaru"||P2name="Kujo Meirin"||P2name="Marona"||P2name="Asagiri_Asagi"||P2name="DISRUPTER"||P2name="MF_Flan"||P2name="H-Flan"||P2name="Flaso_violet"||P2name="alissa"
trigger89=P2name="KYOUDOU SENNA"||P2name="Hong Meiling"||P2name="elen"||P2name="Reak"||P2name="Yuri_cvs"||P2name="Ferir"||P2name="Shartel"||P2name="ffsp_mai"||P2name="H Kanna"||P2name="Yagudo Shameimaru"||P2name="RajaaSatsuki"||P2name="F_HEAT_ver3"
trigger90=P2name="Psycho Weapon MB-00"||(P2name="Hikaru"&&enemynear,authorname="Nyankoro")||P2name="Athena_Asamiya"||P2name="Kanna_Kouryu"||P2name="D-Athena"||P2name="Johanna Capcom Style"||P2name="94_Flandre"||P2name="Rosemary Applefield"
trigger91=P2name="darkathena"||P2name="Dark Athena 2nd B"||P2name="Dark Athena 2nd"||P2name="Kyoko Kusanagi"||P2name="Bunny Girl, Mika Edit"||P2name="Blaze Fielding"||P2name="Kill Bill v.1 Gogo"||P2name="yuiran"||P2name="MVCjuni"||P2name="Yuki Kameoka"
trigger92=P2name="G Mizuka"||P2name="Project_Sakura"||(P2name="Reon"&&enemynear,authorname="NRF")||P2name="AegisLilith"||P2name="Ayu Tukumiya"||P2name="Medicine Melancholy"||P2name="reimu"||P2name="F_HEAT"||P2name="L_SAKI"||P2name="LEICA"
trigger93=P2name="Reimu_Scarlet"||P2name="Meilyne Cujo"||P2name="RajaaMiyako"||P2name="pandora"||P2name="STG0235"||P2name="Hong Meilin"||P2name="EFZaya"||P2name="Sonozaki_Mion"||P2name="Hatate_Himekaidou"||P2name="Erim"||P2name="Elina Gold Smith"
trigger94=P2name="Li Xiangfei"||P2name="????"||P2name="???"||P2name="Reisen U Inaba"||P2name="KasumiWP"||P2name="???"||P2name="ellen"||P2name="alieta"||P2name="ffblaze"||P2name="miyako"||P2name="Arche Clain"||P2name="Himegami Aisa"
trigger95=P2name="carrot"||P2name="guraid"||P2name="mail"||P2name="mariel"||P2name="raira"||P2name="sharum"||P2name="valkily"||P2name="windy"||P2name="Ayu&Misuzu&Mizuka"||P2name="airi"||P2name="GODZILLEN"||P2name="biollente"||P2name="Bibin MC"
trigger96=P2name="Kaori&Shiori"||P2name="Mishio&Makoto"||P2name="????"||P2name="hu-ko"||P2name="LANG"||P2name="cvssakura_ex"||P2name="cvssakura_normal"||P2name="Deedrit"||(P2name="Bubbles"&&enemynear,authorname="Daigoro")||P2name="momomeno_tt"
trigger97=P2name="Nei"||P2name="Saku"||P2name="Mildred_Avallon"||P2name="Hakufu Sonsaku"||P2name="yorihime"||P2name="Anita EOH"||P2name="yagumo"||P2name="Nicole Neil"||P2name="Valis_Yuko"||P2name="fflucia"||P2name="Cueca"||P2name="Blossom"
trigger98=P2name="SAKURA-SvsC"||(P2name="Miku"&&enemynear,authorname="P415")||P2name="KONOHA-SS"||P2name="ibuki_mx"||P2name="S.Clara"||P2name="RajaaSion"||P2name="Chizuru&Maki"||P2name="Erika Sendou"||P2name="Mai_Tsurugino"||P2name="GROOVY_ARCHE"
trigger99=P2name="Rimururu-Rufuhi Kamui"||P2name="kofsakura"||P2name="yuri_S"||P2name="EFZiku"||P2name="SilverChariot_Youmu"||P2name="makoto_mx"||P2name="Kendo&Kyudo"||P2name="Tamaki"||P2name="Kaenbyou Rin"||P2name="Ultimate Sadistic Creature"
trigger100=P2name="nitori"||P2name="Freedom nitori"||P2name="Margaret Garside"||(P2name="Ren"&&enemynear,authorname="Lycoris")||P2name="AliceDolls"||(P2name="UME"&&enemynear,authorname="??")||P2name="koiboshi"||P2name="Princess_Athena"
trigger101=P2name="juri"||P2name="Youmu_K"||P2name="Kunagi_Tenrou"||P2name="250% Project Devil Bird Sad-ist"||P2name="250% Project Honda Asuka"||P2name="250% Project Ookubo Kumi"||P2name="Heidi"||P2name="Mituki Takada"||P2name="ATY"||P2name="AngelaSD"
trigger102=P2name="250% Project Forione II"||P2name="250% Project Mitarai Kiyoko"||P2name="250% Project Cathy Wild"||P2name="250% Project Suzuki Megumi"||P2name="250% Project Yamazaki Ryuko"||P2name="B_ZENIA"||P2name="Angela"||P2name="Homura & Friends"
trigger103=P2name="250% Project Houjyou Torami"||P2name="250% Project Shindou Tamaki"||P2name="250% Project Hurutachi Ichiko"||P2name="250% Project Kawasaki Sinobu"||P2name="250% Project Ogigaya Tetsuko"||P2name="Tsubaki"||P2name="kump00(St)"
trigger104=P2name="250% Project Toyota Karina"||P2name="Evil Q"||P2name="HAKUREI"||P2name="KOTOHIME"||P2name="Komachi_Smash_Remix"||(P2name="Smoke"&&enemynear,authorname="Smoke")||P2name="Lihua"||P2name="Tomoe_Mami"||P2name="Yuka_Kazami"
trigger105=P2name="Smoke & Claudia"||P2name="CHENSHIROU"||P2name="rider-fsd"||P2name="Churuya_san"||P2name="yumemi okazaki"||P2name="Leona"||P2name="Hinanoko"||P2name="koakuma"||P2name="Mami Tomoe"||P2name="Mami_Tomoe"||P2name="Tomoe Mami"||P2name="ZWEI"
trigger106=P2name="Tayuya"||P2name="Temari"||P2name="Tenten"||P2name="Elizabeth Branctorche"||P2name="Miss Marvel"||P2name="Elisabeth"||P2name="Aura"||P2name="akashi_kaoru"||P2name="Solis"||P2name="EINS"||P2name="EX_keine"||P2name="Meira"||P2name="nue"
trigger107=P2name="shampoo"||P2name="SakuyaEX"||P2name="Nanase(+D)&Mayu"||P2name="Mysty"||P2name="Soul_Iku"||P2name="Lilica_Felchenerow"||P2name="Mildred_Avallone"||P2name="Meiling_K"||P2name="Honoka"||P2name="Cafelier"||P2name="Satori_Komeiji"
trigger108=P2name="ryoko"||P2name="Flamme"||P2name="Aiko Senoo"||P2name="Pyocola Analogue Third"||P2name="BarningCirno"||P2name="Neyuki"||P2name="G-Sakuya"||P2name="IF_Brando"||P2name="Platinum The Trinity"||P2name="Platinum"||P2name="Litchi=Faye=Ling"
trigger109=P2name="The?World_Sakuya"||P2name="STGinu398"||(P2name="kagami"&&enemynear,authorname="Yogoreneko")||P2name="Kelly Blender(Elektra) by AHRIMANES"||P2name="B.ORCHID BY AHRIMANES"||P2name="HOMUTOKI"||P2name="KYOUTHER"||P2name="Yui_Kutuna"
trigger110=P2name="KYOKO_typeA"||P2name="KYOKO_typeK"||P2name="The?World_Sakuya"||P2name="Tin's Anny"||P2name="Chen"||P2name="Riesz"||P2name="ikumi_amazawa"||P2name="Ranma-chan"||P2name="Litchi-Faye-Ling"||P2name="Litchi Faye Ling"||P2name="Litchi"
trigger111=P2name="Ami Onuki"||P2name="Ami Ohnuki Bikini Fashion"||P2name="BloodRayne"||P2name="Goeniko"||P2name="InuSakuya"||P2name="Julie Hinikawa"||P2name="MK vs SF Chun-Li"||P2name="Platinum_The_Trinity"||P2name="Litchi_Faye_Ling"||P2name="DMTenko"
trigger112=P2name="Ninja Yumi Yoshimura"||P2name="Ranko"||P2name="Hong_Meiling_Smash_Remix"||P2name="Hakurei Reimu"||P2name="Super Kurara"||P2name="UchIbuki"||P2name="Yumi Yoshimura BF"||P2name="SS6_youmu"||P2name="Platinum-The-Trinity"||P2name="Relly"
trigger113=P2name="ZeroJuli"||P2name="ZeroJuni"||P2name="ZeroYuri"||P2name="C-18"||P2name="Super Kurara"||P2name="Street Fighter Marisa"||P2name="J_marisa"||P2name="Kagura2"||P2name="SS6_senna"||P2name="SS6_komachi"||P2name="Platinum=The=Trinity"
trigger114=P2name="Orochi Leona"||P2name="ikusan"||P2name="Toki Hakurei"||P2name="nogami_aoi"||P2name="Aya_K"||P2name="Hei Meiling"||P2name="Hotaru"||P2name="Hotaru_Futaba"||P2name="Kazami Yuka"||P2name="Yuyuko_Saigyouzi"||P2name="CharlotteSD"
trigger115=P2name="AyaneWP"||P2name="Patchouli Knowledge"||P2name="Reimu Hakurei"||P2name="Wind-SE"||P2name="Tamara"||P2name="xiangfei"||P2name="May Lee"||P2name="Kendou_Nakanishi"||P2name="king"||P2name="ChargeMan_LEN"||P2name="Lemius"||P2name="TAKI"
trigger116=P2name="Petra_Johanna_Lagerkvist"||P2name="Kamui_Tokinomiya"||P2name="Aika Toacreat"||P2name="Kei Nanasawa"||P2name="Kimberly Browning"||P2name="Megumi Shinigami"||P2name="Mika Uraki"||P2name="Chloe"||P2name="ADO"||P2name="Charlotte"
trigger117=P2name="mery.white"||P2name="oichi"||P2name="YORIKO-MVC"||P2name="JagiMeirin"||P2name="Mei"||P2name="MishioSS"||P2name="J_cirno"||P2name="Hoshi Kage"||P2name="Rucheca"||P2name="astranalent"||P2name="Kinako_Tukuyomi"||P2name="someru_877"
trigger118=P2name="tenshi"||P2name="tenshi_rei"||P2name="ikusan_juda"||P2name="reisen"||P2name="lehyu"||P2name="Kaori"||P2name="Akane Inuwaka"||P2name="You Takamiyagi"||P2name="Kusabi Shimesigi"||P2name="Quartz"||P2name="SAWANATU KOTONE"||P2name="Chloe "
trigger119=P2name="Hikaru Shidou"||P2name="sanaesan"||P2name="Kotiya_Sanae"||P2name="Anna Kyoyama"||P2name="Saojin"||P2name="Elie Unarmed"||P2name="Shiena Bee"||P2name="momizi"||P2name="spinel"||P2name="Marisa_Kirisame"||P2name="Marin_Aoki"
trigger120=P2name="makoto kikuchi"||P2name="BurningCirno"||P2name="tina"||P2name="Sakuya_K"||P2name="Hong_krizalid"||P2name="sannomiya_shiho"||P2name="Kassha"||P2name="c-wind"||P2name="xi_yurika"||P2name="Suika_hsts"||P2name="Eri_Hasumi"||P2name="GR-Mk2"
trigger121=P2name="c-wind2"||P2name="ninjaVal2009"||P2name="Elza Kanagusuku"||P2name="Kirisame-Marisa"||P2name="marisa"||P2name="Hime Kawano"||P2name="Witch"||P2name="Walkure-n3"||P2name="????"||P2name="Maria_Christel"||P2name="keine"||P2name="amu"
trigger122=P2name="Shaia Cerenas Version"||P2name="ShinSamusupi Rimururu Cerenas Version"||(P2name="yagami"&&enemynear,authorname="Yogoreneko")||P2name="shizuha"||P2name="Acirno"||P2name="Zenia_Valov"||P2name="Harmir"||P2name="Elf Jinniy"
trigger123=P2name="Princess Peach Toadstool"||P2name="Hirasaka Hatsune"||P2name="Momoko Aoyama"||P2name="Athena_WPr"||P2name="Reisen Udongein Inaba blazer"||P2name="Macheta"||P2name="Arena"||(P2name="Magic_Knight"&&enemynear,authorname="yuki")
trigger124=P2name="Mashiro Mito"||P2name="BSREIMU"||P2name="Schlussel"||P2name="atsuko Tomohara"||P2name="Kohaku_K"||P2name="Nunuko"||P2name="footee"||P2name="Sheryl"||P2name="madoka3"||P2name="Priecia"||P2name="kump03(pizz)"||P2name="GedouMiko_V2"
trigger125=P2name="Black Iku"||P2name="ss-iku"||P2name="Beal_Zephyr"||P2name="C_Patchouli"||P2name="??"||P2name="iriya"||P2name="yuka"||P2name="Silvy"||P2name="Kanae"||P2name="Natsumi Andou"||P2name="Sefu-Sefu-Len"||P2name="CharlotteSS4"||P2name="Annu"
trigger126=P2name="Mist"||P2name="Inverno"||P2name="xianfeng"||P2name="xianfeng-KFM"||P2name="Syameimaru Aya"||P2name="hiziri"||P2name="amber"||(P2name="Kai"&&enemynear,authorname="Dru")||P2name="Sicilianrouge"||P2name="Seena-IF"||P2name="A-Shi"
trigger127=P2name="Chirno"||P2name="Yukari_Yakumo_RP"||P2name="Pokita"||P2name="Tessa (Tabasa)"||P2name="Marisa_K"||P2name="??=??"||P2name="Akira px"||P2name="Rem"||P2name="Xehrnyth.Exale.Elleiyah"||P2name="F_HEAT_2nd"||P2name="ASUKA HONDA"
trigger128=P2name="Yohko"||P2name="DnF_Ranger_F"||P2name="WitchCraft"||P2name="School Girl Lilith"||P2name="KONATA&KAGAMI"||P2name="Beauty"||P2name="Megumi Togawa"||P2name="Grizela"||P2name="trish una"||P2name="T_MAORI"||P2name="GedouMiko"
trigger129=P2name="Angelia Avallone"||P2name="Lynia"||P2name="Satsuki Shindou"||P2name="Serena"||P2name="Yukina"||P2name="Yuuka Kazami"||P2name="Remi Jingu"||P2name="Shin_Athena97"||P2name="ZeroMika"||P2name="ZeroReika"||P2name="ZeroBlaze"
trigger130=P2name="Louise Francoise le Blanc de la Valliere"||P2name="Youmu Konpaku"||P2name="TEOC REISEN"||P2name="CirnoBrando"||P2name="kump01(Tea)"||P2name="Komachi_RP"||P2name="blackraiya"||P2name="Milky Estrella Asteer Stern and Etoile etc"
trigger131=P2name="Towa Yuuhazaki"||P2name="MOTOKO_AOYAMA_by_kinbo"||P2name="MOTOKO_AOYAMA"||P2name="Raiya_Mikazuchi"||P2name="Wu-Ling"||P2name="Tsukushi_Mio"||P2name="Shiori_Misaka"||P2name="SHIZUPA"||P2name="Rindou"||P2name="Chisa Tsukamoto"
trigger132=P2name="Aleti"||(P2name="Tenma"&&enemynear,authorname="Aotsuki")||(P2name="9"&&enemynear,authorname="Elecbyte")||P2name="STGkoakuma"||P2name="meirin"||P2name="kaminarisama"||P2name="Tewi_Inaba"||P2name="Another_Scarlet"||P2name="Luka"
trigger133=P2name="KOMAOH"||P2name="M-Reimu"||P2name="Physalis"||P2name="Sarashina"||P2name="Reisen.E.Inaba"||P2name="Final_Sakuya"||P2name="Shiki_Sakuya"||P2name="Fevrier"||P2name="Citizens-Female"||P2name="S_AQN"||P2name="chunli_mx"||P2name="PATERIKO"
trigger134=P2name="yuna"||P2name="Orochi Marisa"||P2name="Noembelu"||P2name="Lyndis"||P2name="Komelu"||P2name="Orin"||P2name="Sanae-Type-M"||P2name="Sanae_K"||P2name="Bulleta"||(P2name="Zangief Steel"&&enemynear,authorname="aokmaniac13")
trigger135=P2name="Tubaki"||P2name="Nozomi Nagamine"||P2name="Satuki Ikaruga"||P2name="Naya Tatca Nanafe"||P2name="Euphoria The Everlasting"||P2name="MAYURA-IF"||P2name="MAYURA"||(P2name="Shinra"&&enemynear,authorname="Hanayakuro")||P2name="Meld"
trigger136=P2name="Ryuuguu_Rena"||P2name="kump02(sha)"||P2name="Fullmoon_Iku"||P2name="Clone-Angel"||P2name="Kano Ryoko"||P2name="ninja-val"||P2name="CvSval"||P2name="ninjaVal2007"||P2name="Eirin_Yagokoro"||P2name="siki_eiki"||P2name="Wind-Aya"
trigger137=P2name="nn-Val"||(P2name="val"&&enemynear,authorname="Navetsea")||P2name="Fujibayashi Suzu"||P2name="Ikumi Amasawa"||P2name="spinyoumu"||P2name="Meiling_RP"||P2name="Mai-Ling (Tao)"||P2name="Renfield"||P2name="FLen_d"||P2name="ZeroMaki"
trigger138=P2name="Mizuka_Nagamori"||P2name="Oota Kanako"||P2name="Usagi Shirakaba"||P2name="Youmu Zero"||P2name="Machi Ayaya"||P2name="Fallen Alice"||P2name="miyuki"||P2name="dc_reimu"||P2name="Rio Hinayama"||P2name="ZeroMarrow"||P2name="G_akiha"
trigger139=P2name="Kotiya Sanae"||P2name="Saki Mitonoya"||P2name="anne"||P2name="Sanae_RP"||P2name="cvshotaru"||P2name="Celesty"||P2name="kyonko"||P2name="CATHERINE-MVC"||P2name="rian_high_do_run"||P2name="PhycoCiel"||P2name="Giant Akiha Nightmare"
trigger140=P2name="Dark Karin"||P2name="Leona Heidern"||P2name="Nanaly Fletch"||P2name="Shinobu Kawasaki"||P2name="Mint"||P2name="Suzu"||P2name="Elsa_La_Conti"||P2name="Nazuna_Inuwaka"||P2name="Akari Ichijo"||P2name="UMVC_Suika"||P2name="Mai Maino"
trigger141=P2name="Marie"||P2name="Lina"||P2name="Lyzer"||P2name="Hime_Len"||P2name="Tohno Akiha"||P2name="Ayane Ikuse"||P2name="Athena XI"||P2name="Athena 2002"||P2name="Maria"||P2name="Arcueid_Brunestud"||P2name="Dazzler"||P2name="Psylocke"
trigger142=P2name="Athena 2003"||P2name="Luna Himeki"||P2name="Jenet"||P2name="momomeno"||P2name="noriko"||P2name="Cirno_AT"||P2name="Nadja Applefield"||P2name="Riesbyfe_Stridberg"||P2name="kitana"||P2name="Aihara Mizuho"||P2name="sheeva"||P2name="Pupa"
trigger143=P2name="Riesbyfe"||P2name="nair"||P2name="Minoriko"||P2name="Chabo Youmu"||P2name="wriggle"||P2name="miko"||P2name="Project F"||P2name="Tei"||P2name="Kotiya-Sanae"||P2name="mamizou"||P2name="Kosanjou"||P2name="Mini_Ikamusume"||P2name="GNHKN"
trigger144=P2name="Komachi_Onoduka"||P2name="lety"||P2name="zeroko"||P2name="Kyugohanin"||P2name="dc_Irene"||P2name="lilith_tod"||P2name="strider lilith"||P2name="satsuki EX"||P2name="Miku_TT"||P2name="Neva"||P2name="Sugoi Cirno"||P2name="K_Cirno"
trigger145=P2name="Monako Ogura 2007"||P2name="suzu_fujibayashi"||P2name="Yorihime Watatsuki"||P2name="Izuko Chrysoberyl"||P2name="Youmu"||P2name="cureblossom"||P2name="Chaborin"||P2name="yagumo_EX"||P2name="Saikyo-Cirno"||P2name="Faintear=Esperanto"
trigger146=P2name="Unyuho"||(P2name="Fureimu"&&enemynear,authorname="GAB")||(P2name="Reon"&&enemynear,authorname="NRF")||P2name="MaoWP"||P2name="nako_1st"||P2name="Hanshi Sakura"||P2name="kyko"||P2name="LargeFencer_Mysty"||P2name="kinu_EX"
trigger147=P2name="Haruka_Amami"||P2name="raiya"||P2name="Seisai"||P2name="ZeroLeona"||P2name="fujisaki shiori"||P2name="Tao Taido Miku"||P2name="miki"||P2name="Blue Eyes White Karin"||P2name="Kazane Humuro"||P2name="Chloe Valens"||P2name="Dual Koa"
trigger148=P2name="Mishio_K"||P2name="Marguerite"||P2name="Mysty_MonkStyle"||P2name="Mokou_RP"||P2name="Xiayu"||P2name="Kirigamine Kiriko"||P2name="Konoha_MVC"||P2name="Milan Flare"||P2name="Shoujo Genkai"||P2name="PsychoCiel"||P2name="oyashirorika"
trigger149=P2name="Takane Hibiki"||P2name="J_tenko"||P2name="no.8"||P2name="Izayoi Zero"||P2name="Master Sakura"||P2name="Fio_MST"||P2name="Thalia"||P2name="Remi"||P2name="Deliza"||P2name="Angela Belti"||P2name="A_Minagi"||P2name="akane"||P2name="kaname"
trigger150=P2name="MapleStory - MvC2 Leila Theif/Magician"||(P2name="MadoGakusha"&&enemynear,authorname="BluishCat")||P2name="MvC Antherica (MapleStory)"||P2name="Marvel vs Capcom - Eternity of Heroes: Sakura"||P2name="Dr.SLUMP ARALEchan"
trigger151=P2name="Luise Meyrink"||P2name="Aiwhen"||P2name="Komeiji_Koishi"||P2name="Marilyn"||P2name="possibility of Chizuru"||P2name="Tokiko"||P2name="lion_gunta"||P2name="Annie"||P2name="caviar-IF"||P2name="BlueMary"||P2name="Sailor Chibi Moon"
trigger152=P2name="Mary_A"||P2name="Mary_V"||P2name="Leona XIII"||(P2name="ice"&&enemynear,authorname="BLACK")||P2name="Rin Rin"||P2name="Rin_Kaenbyou"||P2name="Hiedano Akyu"||P2name="Ryouko_Kiori"||P2name="Scarlet Sakebi"||P2name="Konan"
trigger153=P2name="Mokou_K"||P2name="Reimu Hakurei a la B-kun"||P2name="Mugetu"||P2name="Sakuya_FF"||P2name="Hururu"||P2name="asellus"||P2name="Rutee_Kartret"||P2name="Milan"||P2name="KyaroF"||P2name="ZeroTashigi"||P2name="ZeroCassandra"||P2name="Nu-13"
trigger154=P2name="Rubette"||P2name="Asamiya Athena"||P2name="Athena Asamiya XI"||P2name="S-Len"||(P2name="hikaru"&&enemynear,authorname="Tokage")||P2name="Inaba Tei"||P2name="Alt"||P2name="Celsius"||P2name="ZeroMarilyn"||P2name="Larxene"
trigger155=P2name="Marvel vs. Capcom - Eternity of Heroes: Roll"||P2name="Megaman - Robot Master Mayhem: Roll"||P2name="Mamoru Bicycle"||P2name="KaLen"||P2name="yuki"||P2name="Sanaeclair"||P2name="Shizuka_Minakami"||P2name="Chun-Li (sftm)"
trigger156=P2name="gengetu"||P2name="ar-chan"||P2name="Lenja"||P2name="Daiyousei"||P2name="No.9"||P2name="Lilia"||P2name="Hina_RP"||P2name="Iku_hsts"||P2name="yagami-hayate"||P2name="Princess Fine"||P2name="Kasumin"||P2name="Princess Meteo+"
trigger157=P2name="MC_Youmu"||P2name="madotsuki"||P2name="HAKU=LEN"||P2name="Marilyn Sue"||P2name="Satsujin=ki="||P2name="P_Raira"||P2name="Noel"||P2name="MOKOU FUJIWARA"||P2name="Bulldog CF3"||P2name="Cobra CF"||P2name="EvaBeatrice"||P2name="rumine"
trigger158=P2name="wanda"||P2name="maho"||(P2name="shiki_tohno"&&(enemynear,authorname="???"||enemynear,authorname="???&&??"))||P2name="Kim Wu"||P2name="Boa_Hancock"||P2name="Ayako"||P2name="ZeroBlair"||P2name="CammyHD"||P2name="nayuta"
trigger159=P2name="Jamm"||P2name="elena_mx"||P2name="Tachibana Kanade"||P2name="Double-A"||P2name="y_mizuki"||P2name="33_reika"||P2name="N-Len"||P2name="chibi Kuroko"||P2name="Angelica"||P2name="Bibin"||P2name="Panda CF3"||P2name="Pantera CF"
trigger160=P2name="Priere"||P2name="Emerada"||P2name="Constantinus"||P2name="Terumi kannazuki"||P2name="Yungmie_XN"||P2name="karin_mx"||(P2name="On"&&enemynear,authorname="Rien")||P2name="Akaneko"||P2name="Kurokishineko"||P2name="Necorsair"
trigger161=P2name="P_Alietta"||P2name="P_Windy"||P2name="Lucifer"||P2name="Hybrid"||P2name="Arche Klaine"||P2name="Reala"||P2name="Nariyuki"||P2name="mika_mx"||P2name="imouto"||P2name="Hinata"||P2name="Karin_NZC"||P2name="Powered Ciel"||P2name="Nekomo"
trigger162=P2name="Ryoko_Amasaki"||P2name="SIROHIME"||P2name="KOF_Meirin"||P2name="Athena Asamiya 2002"||P2name="Okanemoti Len"||P2name="USHIROMIYA ANGE"||P2name="RACHEL ALUCARD"||P2name="Hamusu"||P2name="Crescent"||P2name="Sherisernes Zarbach"
trigger163=P2name="Sanae-MBAA"||P2name="Tyssa"||P2name="Another Kung Fu girl"||(P2name="saya"&&(enemynear,authorname="kayui uma"||enemynear,authorname="seapon"))||P2name="Hirasawa_Yui "||P2name="AOBA"||P2name="ZeroAthena"||P2name="Meu_IF"
trigger164=P2name="Hirasawa_Yui"||P2name="WLen_K"||P2name="Suilen"||P2name="Geisya"||P2name="Reiko Mikami"||P2name="Shiratama"||P2name="botan"||P2name="Hong-Meirin"||P2name="ALENA"||(P2name="BlackHeart"&&enemynear,authorname="HM")||P2name="P3 Heroine"
trigger165=P2name="satori"||P2name="Project F"||P2name="NAGID4"||P2name="NAGI"||P2name="Matou Sakura"||P2name="Rinrin"||P2name="Masaki Anzu"||P2name="Necoco_Midarezaki"||P2name="Amalilith"||P2name="mjn_Alice"||P2name="ssmjn_Alice"||P2name="Heart Aino"
trigger166=P2name="Komachi_SN"||P2name="Ryunmei Ranka"||P2name="?????"||P2name="Crowe_sail_v2"||P2name="C_B_A_S"||P2name="negazero"||P2name="coolseven"||P2name="Lian"||P2name="Labrys"||P2name="Akasaka Juri"||P2name="Shinobu Kirigakure"
trigger167=P2name="RajaaLen"||P2name="Okanemoti Len"||P2name="SpeLenker"||P2name="LUU"||P2name="KouyaLen"||P2name="HakoLen-SBS"||P2name="Wlen_force"||P2name="Hong Meilong"||P2name="yoh"||(P2name="Kenshin Uesugi"&&enemynear,authorname="Shiroto")
trigger168=P2name="B.Jenet"||P2name="Black Rock Shooter"||P2name="maplenagi"||P2name="Chiester410_S"||P2name="HawkeyeSD"||P2name="Hikari_Tsurugino"||P2name="Ruputna"||P2name="Chiko"||P2name="Kung_Fu_Mithra"||P2name="Heart-PW"||P2name="sfcs_chunli"
trigger169=P2name="AssasinCross"||P2name="Cecil_Damon"||P2name="Yuuri Kureo"||P2name="unzan&ichirin"||P2name="Lucia"||P2name="RajaaRiesbyfe"||P2name="sonia"||P2name="kuroko_s"||P2name="Feli"||P2name="HelionBlackspirit"||P2name="Crane"||P2name="Cloudis"
trigger170=P2name="Suzushina Yuriko"||P2name="Tain-ren"||P2name="Yuki kushinada"||(P2name="Kurisu"&&enemynear,authorname="mass")||P2name="Rouge"||P2name="Weiss"||P2name="Sauri"||P2name="Bo_ZENIA"||P2name="K_Lieselotte"||P2name="D-Miyako"
trigger171=P2name="RieszSD"||P2name="Oni-Minoriko"||P2name="Kazami Yuuka"||P2name="hina-k"||P2name="akkarin"||P2name="Ayatsuji_Tsukasa"||P2name="M Tenko"||P2name="Cloudis"||P2name="Spiral by Luchini"||P2name="Miu_Kurosaki"||P2name="kaguya_houraisan"
trigger172=P2name="Lilibel"||P2name="maraiah"||P2name="Sorami"||P2name="Reimi Jahana"||P2name="Kubota Jun"||P2name="Erina Gold Smith"||P2name="murasa"||P2name="Kotoe Kashima"||P2name="Satsuki Yumizuka"||P2name="lilly_kane"||P2name="EXmjn_Alice"
trigger173=P2name="beryl_toh"||(P2name="Fighter"&&enemynear,authorname="Felicity")||P2name="Sinanai"||P2name="ryujin"||P2name="Aya Kamuka"||P2name="youko"||P2name="tsukuyo"||P2name="nina"||P2name="Invisible Woman"||P2name="Earth-Suika"||P2name="maid"
trigger174=P2name="Kirara"||P2name="D_MINORIKO"||P2name="carmilla"||P2name="syllin"||P2name="madiesha"||P2name="sakura_mx"||P2name="Doppel-Nanase"||P2name="Supergirl"||P2name="Bubbles D"||P2name="Yumi Yoshimura Bikini Fashion"||P2name="Blossom D"
trigger175=P2name="Elsa"||P2name="HARMAN"||P2name="Petra"||P2name="Ageha Hayate"||P2name="J_Rose"||P2name="Hong-Meirin"||P2name="Fujiwara_no_Mokou"||P2name="Yamame Kurotani"||P2name="solitaire"||P2name="krasnaya"||P2name="moriya_yae"||P2name="alisa"
trigger176=P2name="itoko"||P2name="Gloria"||P2name="China Kohaku"||P2name="Zenia"||P2name="Eve_D.C"||P2name="VAkiha_K"||(P2name="Kat"&&enemynear,authorname="Daigoro")||P2name="V-Madoka"||P2name="Miyako Yoshika"||P2name="Heartless-Meiling"
trigger177=P2name="Michael-Reforexister"||(P2name="Ana"&&enemynear,authorname="Daigoro")||P2name="Louise F.B. Valliere"||P2name="Black Magician Girl"||P2name="Lip"||P2name="Yumina"||P2name="yuyu"||P2name="cvsingrid"||P2name="cvsking"||P2name="hina"
trigger178=P2name="Madoka Kaname"||P2name="MyonGitsune"||P2name="Miacis"||P2name="SAYAKA.M.KISCHINE"||P2name="maino"||P2name="Rozaly"||P2name="Katima"||P2name="Sabnock_Youmu"||P2name="corona"||P2name="miyabi"||P2name="Meta Jade"||P2name="KOSMOS"
trigger179=P2name="BRS by HyperNeko"||P2name="Sisters"||P2name="cvsnakoruru"||P2name="Ren Mizusaka"||P2name="Mia Touma"||P2name="Yun Kanzaki"||P2name="Yuka Kanzaki"||P2name="L_SAKI_2ND"||P2name="Yuki Nagato"||P2name="nagato"||P2name="Shinku-D"
trigger180=P2name="Windows 2K-Tan"||P2name="Windows XP-Tan"||P2name="Windows 95-Tan"||P2name="Windows ME-Tan"||P2name="Hotaru Futaba XIII"||P2name="saten"||P2name="MikuMMD_L"||P2name="Q-Bee by M@PPY"||P2name="Q-Bee"||P2name="[Shinta]'s Storm"
trigger181=P2name="rei-kugo"||P2name="NATUMI"||P2name="Scharlachrot"||P2name="wakimiko"||(P2name="EVE"&&enemynear,authorname="Sankiti")||P2name="MARISA,K"||P2name="7TH HEAVEN CIEL"||P2name="Souseiseki"||P2name="Hinaichigo-D"||P2name="Suisei-D"
trigger182=P2name="Ciel"||P2name="CIEL(ELEICIA)"||P2name="CHIEL"||P2name="Full Armor Ciel"||P2name="Akiko Minase"||P2name="Red_Arcueid"||P2name="Red Arcueid"||P2name="Arcueid Brunestud"||P2name="Wonder Woman"||P2name="Janne Dulk"||P2name="Janne"
trigger183=P2name="Dark Arcueid"||P2name="Dark Arcueid mk2"||P2name="Akaitsuki"||P2name="Willow Rosemberg"||P2name="Suigintou-D"||P2name="SuigintouF-D"||P2name="Sakuya Shadow Brando"||P2name="Storm"||P2name="Wonder Woman Reloaded"||P2name="Nagato Yuki"
trigger184=P2name="Barasy-D"||P2name="Queen Beryl"||P2name="Yuyuko_Saigyouji"||P2name="Yuyuko Saigyouji"||P2name="remilia"||P2name="Remilia_Scarlet"||P2name="Megumi The Queen Of Blades"||P2name="Neo Rose"||P2name="ingrid"||P2name="Ingrid SXP"
trigger185=P2name="Yakumo Yukari"||P2name="Yukari_Yakumo"||P2name="Yukari Yakumo"||P2name="Mech-HISUI"||P2name="Mech Hisui"||P2name="mechhisuiex"||P2name="Giant_Mech-HISUI"||P2name="Ingrid_MB"||P2name="Hsien-ko"||P2name="Lei-Lei"||P2name="signum"
trigger186=P2name="suigintou"||P2name="Morrigan Aensland"||P2name="Morrigan"||P2name="Shadow Lady"||P2name="kula & eddie"||P2name="Takano_Miyo"||P2name="Arrange_Yukari"||P2name="Ishtar"||P2name="SF3SHADOWLADY"||P2name="SF3 Chun Li"||P2name="Etna"
trigger187=P2name="Flandre_Scarlet"||P2name="chain combo yuyuko"||(enemynear,authorname="suika_no_otto"&&(P2name="ore_no_ane"||P2name="ore_no_yome"||P2name="ore_no_moto_yome"||P2name="ore_no_aijin"))||P2name="Yawara_Yamabuki"||P2name="Shaomu"
trigger188=P2name="Barbarccia"||P2name="Crowe_sail"||P2name="Igniz_Scarlet"||P2name="remilia_h"||P2name="Remilia Scarlet"||P2name="Remilia_K"||P2name="Gemilia"||P2name="G-REMILIA"||P2name="Sousei-D"||P2name="vita"||P2name="kos-mos"||P2name="k_carol"
trigger189=P2name="Remilia-Brando"||P2name="S_Remilia"||P2name="S_Remilia-old"||P2name="Yuyuko_RP"||P2name="Kisume"||P2name="LOMRIA"||P2name="toramaru syou"||P2name="toramaru"||P2name="KAGUYA HOURAISAN"||P2name="Izayoi Sakuya Brando"||P2name="eirin"
trigger190=P2name="RajaaArcueid"||P2name="AnotherIgniz Scarlet_P"||P2name="Elraine_Yukari"||P2name="Tohma_Suika"||P2name="Ibuki_Suika"||P2name="MP-Suika"||P2name="Aoko Aozaki 7thMoonStyle"||P2name="Erin Yagokoro"||P2name="Eirin Yagokoro"||P2name="eiki"
trigger191=P2name="Suika_Ibuki"||P2name="Suika Ibuki"||P2name="Fullmoon_Suika"||P2name="Youki-so-Suika"||P2name="Chibi Suika"||P2name="Alex_suika"||P2name="Aoko_nm"||P2name="Aoko Aozaki"||P2name="Kanako Yasaka"||P2name="Kanako Yasaka2"||P2name="lunasa"
trigger192=P2name="Aozaki_Aoko(CPU)"||P2name="InferisAOKO"||P2name="RajaaAoko"||P2name="Aoko_Aozaki"||P2name="Aozaki Aoko"||P2name="Aozaki_Aoko"||P2name="MATURE"||P2name="[Vice]'s Mature"||P2name="Yagokoro eirin"||P2name="keine"||P2name="Stefanie"
trigger193=P2name="Ruquia"||(P2name="dragon"&&enemynear,authorname="kayui uma")||P2name="Meifang"||P2name="Mei-Fang"||P2name="Meifan"||P2name="Ming-Vase"||P2name="Mei fang"||P2name="Vice"||P2name="Sikieiki_Yamaxanadu"||P2name="Hiziri_Byakuren"
trigger194=P2name="Vice Cerenas Version"||P2name="cvsvice"||P2name="Thunder-Iku"||P2name="C-Izayoi Zero"||P2name="O-Izayoi Zero"||(P2name="Ponta"&&enemynear,authorname="ahuron")||P2name="Vanessa"||(P2name="yugi"&&enemynear,authorname="minoo")
trigger195=P2name="Isabella Valentine"||P2name="ViceXIII"||P2name="Nico Robin"||P2name="Nico_Robin"||P2name="Yagokoro eirin"||P2name="cattleya"||P2name="cattleya 1.0 by grafo_maxi"||P2name="Suwako Moriya"||P2name="Suwako_Moriya"||P2name="suwako"
trigger196=P2name="another blood"||P2name="another_blood"||P2name="Nitro Ignis"||P2name="anna"||P2name="Ein"||P2name="mora"||P2name="henri"||P2name="Kaigen Ishima"||P2name="ange"||P2name="Reiuzi Utsuho"||P2name="Utsuho_K"||P2name="Reiuzi_Utsuho"
trigger197=P2name="AL AZIF"||P2name="Fate_Copy"||P2name="bernkastel"||P2name="ushiromiya_ange"||P2name="ange ushiromiya"||P2name="ange_ushiromiya"||P2name="shannon"||P2name="shanon"||P2name="Tenshi_K"||P2name="tenshi"||P2name="tenshi_rei"||P2name="hanyu"
trigger198=P2name="Tohno_Akiha"||P2name="eva beatrice"||P2name="eva_beatrice"||P2name="eva-beatrice"||P2name="chiester410"||P2name="chiester 410"||P2name="chiester_410"||P2name="beatrice"||P2name="M Tenko"||P2name="Hinanai_Tenshi"||P2name="G-Tenshi"
trigger199=P2name="chiester-410"||P2name="ushiromiya Jessica"||P2name="ushiromiya_Jessica"||P2name="Jessica ushiromiya"||P2name="Jessica_ushiromiya"||P2name="Jessica"||P2name="ushiromiya Rosa"||P2name="J_tenko"||P2name="melty_magic_tenko"||P2name="EXHF"
trigger200=P2name="ushiromiya_Rosa"||P2name="Rosa ushiromiya"||P2name="Rosa_ushiromiya"||P2name="Furudo_Erika"||P2name="Furudo Erika"||P2name="Erika_Furudo"||P2name="Erika Furudo"||P2name="Meiling Hong"||P2name="Tenshi Hinanai"||P2name="Ryougi_Shiki"
trigger201=P2name="Dlanor A.Knox"||P2name="Dlanor_A.Knox"||P2name="Dlanor-A.Knox"||P2name="Dlanor A Knox"||P2name="Dlanor_A_Knox"||P2name="Dlanor-A-Knox"||P2name="Dlanor.A.Knox"||(P2name="Saber"&&enemynear,authorname="Juke Kisaragi")||P2name="Tenko"
trigger202=P2name="Dlanor"||P2name="AIHARA NATSUMI"||P2name="Nayu"||P2name="Akemi-Homura"||P2name="Akemi_Homura"||P2name="Akemi Homura"||P2name="Madoka_Kaname"||P2name="Kaname Madoka"||(P2name="saber"&&enemynear,authorname="kuri")||P2name="Bibin+"
trigger203=P2name="Kaname_Madoka"||P2name="Ika musume"||P2name="Shiranui Mai"||P2name="Kula Diamond"||P2name="MAMIYA"||P2name="Arena_DQ4"||P2name="Nobuko"||P2name="MYCALE"||P2name="Ryogi_Shiki"||P2name="Ryogi Shiki"||P2name="ryougishiki"||P2name="Pan"
trigger204=P2name="DOROTHY ALBRIGHT"||P2name="Clarice_Di_Lanza"||P2name="Clarice Di Lanza"||(P2name="obachan"&&enemynear,authorname="barai")||P2name="korogareimu"||P2name="Yanpeko"||P2name="D4?mizuki?"||P2name="koakuma_AC"||P2name="Mouri Alice"
trigger205=P2name="m_canon"||P2name="Barasuisyou"||P2name="P-ciel"||P2name="Regina"||P2name="Ryougi_K"||P2name="FAKE_OKAMI"||P2name="Kikyo_EX"||P2name="ZeroKula"||P2name="Elisabeth Blanctorche XIII"||P2name="Clone Weiss"||P2name="Heart Aino XIII"
trigger206=P2name="Kaede_Hioh"||P2name="Mami"||P2name="P_Tabasa"||P2name="Agony"||P2name="Agrias_Oaks"||P2name="HQ-meifang"||P2name="HTB-nancy"||P2name="QOD-chizuru"||P2name="QOD-emily"||P2name="QOD-kiriko"||P2name="VAL-byakko"||P2name="VAL-moe"
trigger207=P2name="VAL-nomu"||P2name="VAL-sari"||P2name="VAL-yumiko"||P2name="Tukuyo"||P2name="KONEKO"||P2name="Ryougi Shiki"||P2name="ARCHETYPE:EARTH"||P2name="CURE BLACK"||P2name="Mito_Mashiro"||P2name="Tamamo-no-mae"||P2name="Kairu"||P2name="Rufuu"
trigger208=P2name="Elsa_GG"||P2name="LaunaMod"||P2name="Kurokawa kirara ss"||P2name="Marcia Utterback"||P2name="Storm COTA"||P2name="Phoenix (Jean Grey)"||P2name="Scream"||P2name="Shadowcat"||P2name="Taki Beta 2.1"||P2name="A.B.A"||P2name="Yuhazaki Towa"
trigger209=P2name="Melusine"||P2name="Agrias"||P2name="Polon"||P2name="g64Saki"||P2name="Lieselotte_Achenbach"||P2name="androide 18"||P2name="Videl by MRP?"||P2name="QOD-reika"||P2name="anasutasia"||P2name="A_Nayu"||P2name="Mai_Tokiha"||P2name="Shanoa"
trigger210=P2name="sukunyan"||P2name="Volcana"||P2name="Taki Demo 4"||P2name="Neptune"||P2name="cvsaprile"||P2name="cvsDecapre"||P2name="cvsEnero"||P2name="cvsFevrier"||P2name="cvsJuli"||P2name="cvsMarz"||P2name="cvsNoembelu"||P2name="MapleStory Mage"
trigger211=P2name="cvsSantum"||P2name="cvsSatuki"||P2name="cvsXiayu"||P2name="cvsYanyu"||P2name="Charlotte Aulin"||P2name="Labyrinth"||P2name="Maria Renard Young"||P2name="Arcade Gamer Fubuki"||P2name="Iari"||P2name="Hinanai Tenshi"||P2name="XI-clala"
trigger212=P2name="PERFECTI"||P2name="binran"||P2name="sara_CAT"||P2name="Kung Fu Rabbit"||P2name="nyakko"||P2name="Kyouko Sakura"||P2name="Kinako_Tukiyomi"||P2name="Natsume_Rin"||P2name="Tokido_Saya"||P2name="Klarissa Moonflower"||P2name="Cyberdoll May"
trigger213=P2name="MaouPriere"||P2name="Okuu"||P2name="pailwing"||P2name="Nuclear Cirno(Boss)"||P2name="Nuclear Cirno"||P2name="kasen"||P2name="Gehorsam"||P2name="Agni"||P2name="Captain_Heart"||P2name="Felicueid"||P2name="G_Fiona"||P2name="Hawk_Mina"
trigger214=P2name="Iron_Miyako"||P2name="Mechrisui"||P2name="Ayu Tsukimiya"||P2name="Hijiri Byakuren"||P2name="Void"||P2name="Flandre Scarlet"||P2name="Hanyuu"||P2name="Nitori Kawashiro"||P2name="Seravy"||P2name="Chesspiece_royaloid"||P2name="B-sakuya"
trigger215=P2name="Poltergeist"||(enemynear,authorname="Seravy"&&(P2name="Silver"||P2name="UNKNOWN"))||P2name="Wriggle_Nightbug"||P2name="conpaku_golem"||P2name="Tenko_hsts"||P2name="Tewi_hsts"||P2name="Juli & Juni"||P2name="King_95"||P2name="NeoKing"
trigger216=P2name="Athena WP"||P2name="Papillonnage Matchouli"||P2name="MissMarvel"||P2name="A Pair Of Jiggling Tits"||P2name="Lara Croft"||P2name="MomaSusta"||(P2name="98"&&enemynear,authorname="DarkMasao2")||P2name="Saint of Cecilia"||P2name="Foz"
trigger217=P2name="yu-ka"||P2name="Kanaka"||P2name="Maximum_Cute_Hisui"||P2name="Kurenai Misuzu"||P2name="chijo"||P2name="nudemai"||P2name="Princess Daisy "||P2name="Samus Aran"||P2name="Esclava"||P2name="Sucubo"||P2name="Tendril"||P2name="Chun-Li Chung"
trigger218=P2name="Athena A. SNK"||P2name="Bra"||P2name="Rana"||P2name="Bra USSJ"||P2name="Claudia"||P2name="Delilah"||P2name="Dizzy By Third"||P2name="Elektra"||P2name="Erina"||P2name="Fallen Angel"||P2name="Hinako Shijou"||P2name="Rasyouzin Miduki"
trigger219=P2name="Ranma Saotome Female"||P2name="Ice"||P2name="Jean Grey"||P2name="Maki"||P2name="Rainbow Mika"||P2name="Mimi"||P2name="Mugena"||P2name="Nako_xvi"||P2name="Cammy White"||P2name="Lorna Dane"||P2name="Psyanide"||P2name="Momoko rapeable"
trigger220=P2name="ROSE"||P2name="Orochi Shermie"||P2name="Red Snake"||P2name="Dark Bolt"||P2name="Sofia"||P2name="Sonya Blade"||P2name="Tiazinha"||P2name="Viuda Negra"||P2name="DVanessa"||(P2name="Kai"&&enemynear,authorname="Dru")||P2name="Starfire"
trigger221=P2name="kula_new_xmas"||P2name="Psylocke By WhiteMagic2002"||P2name="KARINA TOYOTA"||P2name="Medusa"||P2name="F_Weiss"||P2name="Mercurially"||P2name="Shimo"||P2name="Jhoana Ivonne"||P2name="Chun-Li, but a robot or something"||P2name="Argento"
trigger222=P2name="AgriasOaks"||P2name="Elf Jinny"||P2name="Katana Jinguuji"||P2name="Miyuki Matsuda"||P2name="Silvy (Basic)"||P2name="Boa Hancock"||P2name="Black Widow"||P2name="RajaaSupergirl"||P2name="Miyazato Erika"||P2name="Tsukiyomi Kinako"
trigger223=P2name="Athena-Goddess"||P2name="Tanya"||P2name="SSF2X??"||P2name="SSF2X ??"||P2name="HQ-christina"||P2name="HQ-miao"||P2name="Alsa"||(P2name="Blood"&&enemynear,authorname="nyankiryu")||P2name="YUKA DIMERK"||P2name="Stone-Len"
trigger224=P2name="ZeroHotaruXIII"||P2name="ZeroVanessaXIII"||P2name="ZeroRyuko"||P2name="Luciel"||P2name="Sha Len"||P2name="Yami_No_Tiko"||P2name="UMVC_Youmu"||P2name="Akane "||P2name="Ayla"||(P2name="Ukyo"&&enemynear,authorname="Namaguideran")
trigger225=P2name="Pocket Yuri Sakazaki"||P2name="Militsa_Patchouli"||P2name="Akari Kamigishi"||P2name="Peach Mizuki"||P2name="katuowatan"||P2name="Maori_H"||P2name="NakoruruS"||P2name="someru_877_hkw"||P2name="Y_yuyuko"||P2name="Koko Tsukishima"
trigger226=P2name="Nanaka Shirakawa"||P2name="Patchouli_K"||P2name="Black Cat"||P2name="Cham SS6"||P2name="Jade"||P2name="Enmko"||P2name="Fara Phoenix"||P2name="Foxy Roxy"||P2name="Hot Sakura"||P2name="Leona by Edo Impact"||P2name="BIYO_Reiuzi_Utsuho"
trigger227=P2name="Lilith aX"||P2name="X SHIRANUI MAI"||P2name="Maji Iroha"||P2name="Petra Johanna Lagerkvist"||P2name="Maxine"||P2name="Michael"||P2name="Mika"||P2name="Naked Emma Frost"||P2name="Naked Red Snake"||P2name="Naked Rose"||P2name="nudecammy"
trigger228=P2name="Nude Chun Li"||P2name="nudejuli"||P2name="nudejuni"||P2name="PornoDiano"||P2name="Nude Psylocke"||P2name="QbeeCV"||P2name="H-Reimi"||P2name="Ella 2.5"||P2name="Ella"||P2name="Sexy_Juli"||P2name="Princess Sissy"||P2name="Kula new Xmas"
trigger229=P2name="Tiff"||P2name="MakiXI"||P2name="NM_Hayate"||P2name="NM_Kanae"||P2name="NM_Seina"||P2name="ATHENA_XIII"||P2name="YURI_XIII"||P2name="sindel"||P2name="Suika_N"||P2name="Mizore Shirayuki"||P2name="Naomi Kokoro"||P2name="INDEX(MaidVer)"
trigger230=P2name="Yukino"||P2name="Amoumi"||P2name="Alou_AKOF"||P2name="Another-Alou_AKOF"||P2name="Anothr-Alou"||P2name="C-Xion_AKOF"||P2name="Forte_AKOF"||P2name="Reika_AKOF"||P2name="Selen_AKOF"||P2name="Snow_Knight"||P2name="Xion"||P2name="Geslenst"
trigger231=P2name="Xion_AKOF"||P2name="NG-len"||P2name="Hattori Hanzo Ayuka"||P2name="Yuri C-Type"||P2name="Ming-Ming"||P2name="mei long vampaia"||P2name="TrapSatoko"||P2name="Lili"||P2name="Patye"||P2name="Levin"||P2name="Sophitia"||P2name="Dominatrix"
trigger232=P2name="Natalia"||(P2name="Hanzo"&&enemynear,authorname="Antagonist")||P2name="DEKINAIKO"||P2name="INDEX"||P2name="MOMO-LEN-SANTA"||P2name="Emily Barnet"||P2name="Filea"||P2name="Irene"||P2name="Magician_dkpn"||P2name="KAWASHIMA MIZUKI"
trigger233=P2name="Ryoko Kano"||P2name="lt_raechel"||P2name="xi_Chunli"||P2name="Dora"||P2name="Makoto "||P2name="Makoto Nanaya"||P2name="XMVCMuX"||P2name="MU 12"||P2name="Fio"||P2name="Ryoko_Kano"||P2name="Reichel_TP"||P2name="Einsatz (YR-style)"
trigger234=P2name="nouka"||(P2name="Hong"&&enemynear,authorname="GS")||P2name="Miranda"||P2name="Kurenai by Inverse v1.0"||P2name="Silvermoon"||P2name="caster_Extra"||P2name="Ringo-C"||P2name="Reayonis"||P2name="Elf-00 Ula"||P2name="Yukari_IWBTG"
trigger235=P2name="KOF 2002 Diana"||P2name="ThurisaZ"||P2name="Tenko ao"||P2name="Akiha_MA"||P2name="Konoha_MA"||P2name="Miyako_MA"||P2name="Ryougi Shiki_MA"||P2name="Weis_MA"||P2name="OST"||P2name="Aspectus"||P2name="B-Flan"||P2name="Sengoku 3 OKUNI"
trigger236=P2name="DekaLen_with_wonderful_slaves"||P2name="Kill Bill v.1 O-Ren_Ishii"||P2name="Kill Bill v.1 Uma Thurman"||P2name="Leela"||P2name="OKUNI"||P2name="Mary"||P2name="Scharlachrot_MA"||P2name="Sailor Mini Moon"||P2name="layla"||P2name="Lina2"
trigger237=P2name="rebecca"||P2name="Moe Yumezora"||P2name="Alice-AS"||P2name="anzu_futaba"||P2name="Utsuho_IAMP"||P2name="eharu"||P2name="Arcueid_MA"||P2name="White Len_MA"||P2name="Tesya"||P2name="Foxy"||P2name="Saki_GG"||P2name="Hattori Hanzo Uruka"
trigger238=P2name="KH-myao"||P2name="APEFUCHI"||P2name="P4U_mai"||P2name="Carol"||P2name="Riesbyfe Stridberg"||P2name="UMVC_Aya"||P2name="ZeroChunXIII"||P2name="Batgirl"||P2name="Wasp"||(P2name="Shiki"&&enemynear,authorname="ohgaki")||P2name="Ehecatl"
trigger239=P2name="MikuMMD_T"||P2name="Daiyousei_hsts"||P2name="kyoko_typeP"||P2name="Kasumi Todoh"||P2name="Agrias_BB"||P2name="Nayuki"||(P2name="lin"&&enemynear,authorname="hetyo")||P2name="Olga"||P2name="Kureha Kazaoka"||P2name="Dana Dee Shotoman"
trigger240=P2name="sogne"||P2name="Hei_F"||P2name="Physalis_F"||P2name="August"||P2name="Megalith"||P2name="Orochi Tenko"||(P2name="Uroboros"&&enemynear,authorname="Nachel")||P2name="Zatracenie"||P2name="Ramia-J"||P2name="Ramia-P"||P2name="strayed"
trigger241=P2name="Rukia Shikai"||(P2name="18"&&enemynear,authorname="GohanSSM2")||P2name="Scarlet"||P2name="Sakuya_Amakawa"||P2name="Tokimi Kurahashi"||P2name="Akiha Tohno"||(P2name="kenshi"&&enemynear,authorname="Pre-to")||P2name="Mery White"
trigger242=P2name="Jessica Ushiromiya_S"||(P2name="Yugi"&&enemynear,authorname="shin")||P2name="Daisy"||P2name="Birdy"||P2name="Ayaka"||P2name="C_Zenia"||P2name="Megu Asuhara"||P2name="ULNoel"||P2name="Beherrscher"||P2name="ss3komachi"||P2name="woman"
trigger243=P2name="Catwoman"||P2name="Scarlet Witch"||P2name="LieMeiling_RP"||P2name="Elfin Berkley"||P2name="UMVC_AsgardYoumu"||P2name="Neko&Mech"||P2name="Eko_MA"||P2name="HQ-aisur"||P2name="HQ-francesca"||P2name="HQ-reika"||P2name="Hikari Kujou"
trigger244=P2name="KH-silva"||P2name="Elweyne"||P2name="Neige_Obsidian"||(P2name="remy"&&enemynear,authorname="??")||(P2name="Ranma Saotome"&&(enemynear,authorname="chibasin"||enemynear,authorname="Doctor M"))||P2name="Aidoryu_Master"
trigger245=P2name="Luste Teuber"||(P2name="Fighter"&&enemynear,authorname="Antagonist")||(P2name="Tsu"&&enemynear,authorname="chibasin")||(P2name="Ukyo"&&enemynear,authorname="unknown")||(P2name="Eve"&&enemynear,authorname="AKIMICHI")
trigger246=P2name="Paprika"||(P2name="Eva"&&authorname="Animaraz")||P2name="Maron Namikaze"||P2name="gatiko"||P2name="AOFking by kain the supreme"||P2name="miku_hatsune"||P2name="jentai"||P2name="spider girl"||P2name="Princess Jasmine"||P2name="Elya"
trigger247=P2name="Ramaya"||P2name="Noa"||P2name="Xeona"||P2name="kjharuka"||P2name="LadyKFM"||P2name="reena"||P2name="Lina Inverse"||P2name="Cherry"||P2name="Martha"||P2name="emily"||P2name="Annie Polley"||P2name="Anoa"||P2name="Goddes Saber Revision-1"
trigger248=P2name="Amanda - Strip Fighter II"||P2name="Arshes Nei"||P2name="Gabriel"||P2name="Kai Harn"||P2name="Sean Harri"||P2name="XMVCRachelX"||P2name="XMVCPlaX"||P2name="XMVCNuX"||P2name="Lambda"||P2name="Kaede Kasiwagi Rsmix"||P2name="Falco Knight"
trigger249=P2name="Nollie"||P2name="Aoi Matsubara"||P2name="Comode_sericha"||P2name="multi"||P2name="Ikumi Tatikawa"||P2name="Lemmy Miyauchi"||P2name="Sakashita Yoshie"||P2name="Saorin"||P2name="Shiho Nagaoka"||P2name="Tiria Flay"||P2name="morikawa yuki"
trigger250=P2name="Agrius_by_kinbo"||P2name="Areuhat"||P2name="Ayame"||P2name="Celes"||P2name="Mumor"||P2name="onekonin"||P2name="rikku"||P2name="Summoner Rydia"||P2name="Shantotto's Doll"||P2name="ZeroTifa"||P2name="DSaber"||P2name="The Queen of Hearts"
trigger251=P2name="Amelia"||P2name="Lady Lyndis"||P2name="Ranma-Chan Remix (Ranma 1/2 Hard Battle)"||P2name="Rouge (Ranma 1/2)"||P2name="ukyo2"||P2name="shadowec"||P2name="Chiho Masuda"||P2name="Tamao"||P2name="?? ??"||P2name="lilin"||P2name="April"
trigger252=P2name="Tin's chunli"||P2name="Chotto-Ko Yuka"||P2name="cvsmorrigan"||P2name="LeiLei"||P2name="DS_Morrigan 2"||P2name="Tin's Charakon Morrigan"||P2name="Qbee"||P2name="Aska"||P2name="aqua"||P2name="ariel"||P2name="laxerine"||P2name="Diao Chan"
trigger253=P2name="Malefica"||P2name="Namine"||P2name="G_namine"||P2name="xion #14"||P2name="Kuchiki Rukia"||P2name="Yoruichi JUS"||P2name="Amane Misa"||P2name="LenaLee by talic"||P2name="JssHsakura"||P2name="future sakura"||P2name="Classic Sonya Blade"
trigger254=P2name="NicoRobin by talic"||P2name="Andead.Archer"||P2name="TamikoRen-Disgaea2_Mage"||P2name="Sophia_Xiaoyu"||P2name="Ms.archer"||P2name="Flonne"||P2name="Roxy The Succubus"||P2name="Momo"||P2name="NBC_Ai"||P2name="NBC_Hotaru"||P2name="Vixen"
trigger255=P2name="Mui"||P2name="NBC_Kisarah"||P2name="NBC_Mai"||P2name="mileena"||P2name="Annie Hamilton"||P2name="PI_ANNIE"||P2name="PI_GirlOUME"||P2name="Inner Nanaka"||P2name="Violent Kotori"||P2name="Princess Shroob"||P2name="Zelda"||P2name="Miduki"
trigger256=P2name="liza"||P2name="Lipsyncher"||P2name="Kimberly Hart"||P2name="midler girl"||P2name="Cheeta"||P2name="silverbanshee"||P2name="Harley Quinn"||P2name="Lady Shiva"||P2name="pocket_ice"||P2name="pocket_wondy by magus"||P2name="Rimusin Ruruki"
trigger257=P2name="Poison Ivy"||P2name="Raven"||P2name="Supergirl Kara Zor-el"||P2name="TEN"||P2name="Zatanna"||P2name="Doremi_harukaze"||P2name="Ghostface"||P2name="juano`s kit girl"||P2name="MK2 Mileena"||P2name="sonya"||P2name="Gata Negra by Eclipse"
trigger258=P2name="Firestar"||P2name="Shard"||P2name="lenny"||P2name="Maria (Body Blows PC/Amiga)"||P2name="Crystal of The Avengers"||P2name="Dark Phoenix"||P2name="Jubilee"||P2name="Eternity of Heroes: Dark Psylocke"||P2name="SHE-HULK"||P2name="Castor"
trigger259=P2name="Emma Frost, The White Queen"||P2name="Elisabeth Braddock"||P2name="SSF2Cammy"||P2name="Rimururu ILR Ver."||P2name="SS_Mizuki"||P2name="SS_Cham Cham"||P2name="SS_Rimururu 3"||P2name="FHD_Feilin"||P2name="Sailor Angellily"||P2name="MysP"
trigger260=P2name="Sailor Angelsalvia"||P2name="Atsugessho"||P2name="Super Sailor Chibi Moon"||P2name="Sailor Eris"||P2name="Sailor Haumea"||P2name="Sailor V"||P2name="sailor Urano"||P2name="Super Sailor Uranus"||P2name="Emerald"||P2name="Kojiroh Sanada"
trigger261=P2name="Ingrid SFA3"||P2name="natsume"||P2name="Marian-tm"||P2name="liza by ryokucha"||P2name="Yukari Tanizaki"||P2name="Yoko Belnades"||P2name="Hareimukurani"||P2name="magaiku"||P2name="C3reimu"||P2name="Master China"||P2name="MMPATCHOULI-IF"
trigger262=P2name="MMMARISA-IF"||P2name="XANADU-IF"||P2name="Sikieiki yamaxanadu"||P2name="SunFlower Fairy"||P2name="tiko"||P2name="Eri"||P2name="ameri"||P2name="chibi momiji"||P2name="NekoMeirin"||P2name="PatchUsagi"||P2name="ShangHoi_san"||P2name="MTG"
trigger263=P2name="cirnof"||P2name="Aya Sol"||P2name="Iku Ky"||P2name="Marisa Chipp"||P2name="Meirin Jam"||P2name="Remilia Slayer"||P2name="Sanae Faust"||P2name="Suika Potemkin"||P2name="Tenshi Baiken"||P2name="CHENSHIRO"||P2name="Marisa_S"||P2name="SB"
trigger264=P2name="Reisen E Inaba"||P2name="HMX-12-2 Multi"||P2name="Kanorin"||P2name="Letty Whiterock"||P2name="Reiuji Utsuho"||P2name="Yuyuko Saigyouji & Youmu Konpaku"||P2name="ichirin"||P2name="TOKIKO_&_OTHER_GOD"||P2name="tenma_sama"||P2name="Sinki"
trigger265=P2name="[Txpot's] Team Reimisen"||P2name="D-Mai_Kawasumi_by_Nachel"||P2name="Tibi_Mai_by_Nachel"||P2name="Misuzu_M"||P2name="T&V Akiha"||P2name="Powerd Ciel"||P2name="Warcueid"||P2name="W ARCUEID"||P2name="Natalia Glinka"||P2name="Y-L00043664"
trigger266=P2name="Sakura_Kyoko"||P2name="MOWMai"||P2name="ayayayaya"||P2name="Sonsaku Hakufu"||P2name="Panchan"||P2name="Lunch by Cartoon King"||P2name="Chichi by heroijapa and W1ll_Smith"||P2name="Andriode N? 18"||P2name="hotaride"||P2name="athena945"
trigger267=P2name="Android No. 18 by Orestes"||P2name="Zangya"||P2name="A.F Another Futaba "||P2name="Yuuka_Kurenai"||P2name="KYOKO_typeC"||P2name="yuri945"||P2name="D4miku"||P2name="Roll_MM8_by_Zetah_y_TheMegaFBX"||P2name="Aile"||P2name="Rutee Katrea "
trigger268=P2name="rollexe"||P2name="D.REM"||P2name="presea"||(P2name="Snow"&&enemynear,authorname="Aoba")||P2name="sqIVswordman"||P2name="Devil_lilia"||P2name="Sarah_Bryant"||P2name="Ishana_Syameimaru"||P2name="Hatter_Ren"||P2name="Kirin Musume"
trigger269=P2name="Erza"||P2name="Minmin"||P2name="Ananzi"||P2name="Noroko"||P2name="Kamui_MA"||P2name="Reimu_RP"||(P2name="KENSIN"&&enemynear,authorname="19tyou")||P2name="Reisen RGM"||P2name="D4_KENSIN"||P2name="Hibiki Katagiri"||P2name="Syanahimen"
trigger270=P2name="AOI_AMATU"||P2name="Metal_Kikyo"||P2name="Wind_Demon_Kagura"||P2name="kamui tokinomiya"||P2name="S_KAMUI"||P2name="YORIKO"||P2name="????"||P2name="blackraiya_b"||P2name="millarca"||P2name="SDK Shiina Yuya"||P2name="Jatzieta"
trigger271=P2name="Nyaruko"||P2name="Peach Kart Fighter"||P2name="Heart_GG"||P2name="morgiana"||P2name="Rashoujin Mizuki"||P2name="Chartette"||P2name="Uzuki"||P2name="Erza_FM"||P2name="Athena Asamiya(r)"||P2name="Kuchiki-RukiaED3"||P2name="TayuyaCS2-ED3"
trigger272=P2name="Haruno-SakuraED3"||P2name="Taki By CVS Artist"||P2name="Sakura-HarunoED3"||P2name="Temari-FutureED3"||P2name="Yun_Fang"||(P2name="Lightning"&&enemynear,authorname="klares")||P2name="Alice_RP"||P2name="mageinfa"||P2name="Etomo Shuko"
trigger273=P2name="MIO SAKAMOTO"||P2name="Claudette"||P2name="Catherine Kido"||P2name="Ren Onodera"||P2name="Tear"||P2name="Priere-IF"||P2name="Takega_Satsu-IF"||P2name="YAMISAKA KUREHA"||P2name="Dantalion_Alice"||P2name="Wakasagi-Hime"||P2name="komachi"
trigger274=P2name="Titi"||P2name="Kudo"||P2name="MHP Kukuri"||P2name="Shiny F. Demeter"||P2name="Honey"||P2name="Kutsuna_Haruka"||P2name="Kutsuna_Yui"||P2name="Sophitia by CVS Artist"||P2name="Pan Transform"||P2name="Kohaku_S"||P2name="Ivy by CVS Artist"
trigger275=P2name="Youz"||P2name="Kyoko_Sakura"||P2name="dokurochan"||P2name="Hatano Kokoro"||P2name="Lee Xiangfei"||P2name="Elena"||P2name="toyohime"||P2name="Charlotte Christine"||P2name="CvS_PoisonTAG"||P2name="takiyasya"||P2name="pill"||P2name="Erie"
trigger276=P2name="aka"||P2name="Momiji"||P2name="mumei"||P2name="Hirasaka_Hatsune-IF"||P2name="MEGAMAMI"||P2name="Calnarsa"||P2name="D.Hibiki"||P2name="Random Touhou Succubus"||P2name="Lililen"||P2name="Scorn"||P2name="UMVC_Yuyuko"||P2name="kump04(psi)"
trigger277=P2name="seoritsuhime"||P2name="Dorothy-Albright"||P2name="Amanomiya_Tiharu"||P2name="Alyssa_Searrs"||P2name="serika_os"||P2name="lenneth Valkyrie"||P2name="Patchouli_RP"||P2name="Saki Kusanagi"||P2name="Snow_Knight_AKOF"||P2name="tatsumaki"
trigger278=(enemynear,authorname="suigin"&&(P2name="sousou"||P2name="tyouun"||P2name="tyouhi"||P2name="ryofu"||P2name="kanu"||P2name="kakouton"||P2name="sonken"||P2name="kannei"||P2name="kakouen"||P2name="sonsyoukou"))||P2name="BRS"||P2name="NM_Uduki"
trigger279=P2name="Kokoro"||P2name="gamelen"||P2name="Sakuya_RP"||P2name="PETRA_R"||P2name="Iyo"||P2name="VH_mami"||P2name="Azami"||P2name="Azure"||P2name="Nirvana"
value = 196

[State 190, 2] ;Go straight to intro.
type = ChangeState
trigger1 = Time = 0
value = 191+random%4


;---------------------------------------------------------------------------
; Introduction
; CNS difficulty: basic
; CNS レベル: 基本
[Statedef 191]
type = S
ctrl = 0
anim = 190
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 190

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Surprise coke spit
[Statedef 192]
type = S
ctrl = 0
anim = 192
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
trigger2 = animelemtime(2) < 0
trigger2 = random > time*2
value = 192

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 10
value = S2,51
channel = 0

[State 0, Helper]
type = Helper
trigger1 = animelem = 16
helpertype = normal
name = "Can"
ID = 712
stateno = 712
pos = ceil(24*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
facing = 1
ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = animelem = 10
anim = 711
ID = 711
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = 30
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
shadow = 0,0,0
ownpal = 1
removeongethit = 1
ignorehitpause = 1

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

[Statedef 193]
type = S
ctrl = 0
anim = 193
velset = 0,0
sprpriority = -4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = roundstate != 0
value = S193,2
channel = 0
persistent = 0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 193

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, VarSet]
type = VarSet
trigger1 = anim = 193
trigger1 = animelem = 2
var(0) = -240

[State 0, Helper]
type = Helper
trigger1 = anim = 193
trigger1 = animelem = 3
helpertype = normal ;player
name = "Steamroller"
ID = 1930
stateno = 1930
pos = var(0),0
postype = p1
facing = 1
ownpal = 1
persistent = 0

[State 0, VarSet]
type = VarAdd
trigger1 = anim = 193
trigger1 = animelemtime(3) >= 0
var(0) = 4

[State 191, 3]
type = ChangeAnim
trigger1 = anim = 193
trigger1 = animelemtime(3) >= 0
trigger1 = var(0) >= 0
value = 43

[State 0, VarSet]
type = VarSet
trigger1 = anim = 43
fvar(1) = -13.13
persistent = 0
[State 0, VarSet]
type = VarAdd
trigger1 = anim = 43
fvar(1) = 0.88
[State 0, VarSet]
type = VarSet
trigger1 = anim = 43
fvar(0) = -32
persistent = 0
[State 0, VarSet]
type = VarAdd
trigger1 = anim = 43
fvar(0) = fvar(1)

[State 191, 3]
type = ChangeAnim
trigger1 = anim = 43
trigger1 = fvar(0) + fvar(1) >= 0
value = 47

[State 0, ScreenBound]
type = ScreenBound
trigger1 = var(0)
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, Offset]
type = Offset
trigger1 = anim = 193
trigger1 = var(0)
trigger2 = anim = 43
x = var(0)*facing
y = fvar(0)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim =43
value = S0,7
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 47
value = S40,0
persistent = 0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = anim = 47
trigger1 = animtime = 0
value = 0

[Statedef 1930]
type = S
ctrl = 0
anim = 1930
velset = 4,0
sprpriority = -3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S193,0
abspan = 0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = frontedgedist < -130
value = S193,1
abspan = 0
channel = 0

[State 0, EnvShake]
type = EnvShake
trigger1 = frontedgedist < -130
time = 60
freq = 213
ampl = -3

[State 0, DestroySelf]
type = DestroySelf
trigger1 = frontedgedist < -130

; Money
[Statedef 194]
type = S
ctrl = 0
anim = 194
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 194

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = [1940,1943]
trigger1 = animelem = 2
value = 194,anim-1940
channel = 0

;[State 0, Helper]
;type = Helper
;trigger1 = anim = 194
;trigger1 = animelem = 2
;helpertype = normal
;name = "Can"
;ID = 712
;stateno = 712
;pos = ceil(24*const(size.xscale)),ceil(-95*const(size.yscale))
;postype = p1
;facing = 1
;ownpal = 0

[State 0, Explod]
type = Explod
trigger1 = anim = 194
trigger1 = animelem = 9
anim = F3
pos = ceil(-215*const(size.xscale)),ceil(-99*const(size.yscale))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;scale = const(size.xscale),const(size.yscale)
sprpriority = 4
shadow = 0,0,0
ownpal = 1
;removeongethit = 1
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 194
trigger1 = animelem = 9
value = S5,3
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 194
trigger1 = animelem = 7
value = S0,4

[State 191, 3] ;Change to stand state when done
type = ChangeAnim
trigger1 = anim = 194
trigger1 = AnimTime = 0
value = 1940+random%3

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = anim = [1940,1942]
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction vs. Chicks
[Statedef 196]
type = S
ctrl = 0
anim = 196
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 196

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S2,55
channel = 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; LOOK! Vanilla Ice
[Statedef 197]
type = S
ctrl = 0
anim = 197
velset = 0,0

[State 0, Helper]
type = Helper
trigger1 = !numhelper(3100)
helpertype = normal
name = "Butt-Head"
ID = 3100
stateno = 1970
pos = -32,0
postype = p1
facing = 1
ownpal = 1
ignorehitpause = 1

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 197

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,54
channel = 0

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; You suck
[Statedef 1970]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 1970
ctrl = 0
sprpriority = -3

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 1970

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3155

; OH MY GOD, IT'S MICHAEL BOLTON
[Statedef 198]
type = S
ctrl = 0
anim = 198
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 198

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,1
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S2,53
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 13
value = S0,23

[State 0, Explod]
type = Explod
trigger1 = animelem = 13
anim = 3901
ID = 3901
pos = 12*const(size.xscale),-246*const(size.yscale)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
supermovetime = 65535
pausemovetime = 65535
scale = const(size.xscale),const(size.yscale)
sprpriority = 15
ontop = 1
shadow = 0,0,0
ownpal = 1
ignorehitpause =  1

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


; Intro vs Strong Men
[Statedef 1980]
type = S
ctrl = 0
anim = 1980
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = anim

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,59
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 56
value = S2,5
channel = 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

; Intro vs None's Butt-Head
[Statedef 1981]
type = S
ctrl = 0
anim = 1981
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = anim

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S2,60
channel = 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3]
type = ChangeState
trigger1 = AnimTime = 0
value = 0

;---------------------------------------------------------------------------
; Introduction vs. Small Characters
[Statedef 199]
type = S
ctrl = 0
anim = 199
velset = 0,0

[State 191, 1] ;Freeze animation until PreIntro is over
type = ChangeAnim
trigger1 = RoundState = 0
value = 199

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 4
value = S2,50
channel = 0

[State 191, 2] ;Assert this until you want "round 1, fight" to begin
type = AssertSpecial
trigger1 = 1
flag = Intro

[State 191, 3] ;Change to stand state when done
type = ChangeState
trigger1 = AnimTime = 0
value = 0


;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 195]
type = S
ctrl = 0
anim = 195
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = roundstate >= 3
var(48) = 1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 10
value = 1

;[State 195, 2]
;type = ChangeState
;trigger1 = AnimTime = 0
;value = 0
;ctrl = 1

;---------------------------------------------------------------------------
; Taunt
; CNS difficulty: easy
[Statedef 1950]
type = S
ctrl = 0
anim = 1950+random%2
velset = 0,0
movetype = I
physics = S
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = time = [0,30]
flag = nowalk

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1950
trigger1 = animelem = 3
value = S2,62
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1950
trigger1 = animelem = 10
value = S2,61
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1950
trigger1 = animelem = 16
value = S2,5
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 1951
trigger1 = animelem = 3
value = S2,63
channel = 0


[State 0, VarSet]
type = VarSet
trigger1 = time = 0
trigger1 = roundstate >= 3
var(48) = 1

[State 195, 1]
type = CtrlSet
trigger1 = Time = 10
value = 1

[State 195, 2]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1



;---------------------------------------------------------------------------
; Stand Light Punch
[Statedef 200]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(1*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = ifelse(p2bodydist x<=10&&anim!=201&&anim!=200&&anim!=231,201,200)
poweradd = 10
sprpriority = 2
facep2 = 1

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(1*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 200
trigger1 = animelem = 2
trigger1 = random < 250
value = 2,17+random%3
;value = 2,10+random%8
channel = 0
lowpriority = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 200
trigger1 = AnimElem = 3
attr = S, NA
damage = 20, 0
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10-var(49), 10
sparkno = 0
sparkxy = -10, ceil(-154 * const(size.yscale) )
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
ground.slidetime = ceil(12*ifelse(var(31),1.2,1))
ground.hittime  = ceil(12*ifelse(var(31),1.2,1))
ground.velocity = -5.5
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -5,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 201
trigger1 = AnimElem = 2
attr = S, NA
damage = 25, 0
animtype = Light
guardflag = MA
hitflag = MAF
pausetime = 10-var(49), 10
sparkno = 0
sparkxy = -10, ceil(-152 * const(size.yscale) )
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
ground.slidetime = ceil(10*ifelse(var(31),1.2,1))
ground.hittime = ceil(10*ifelse(var(31),1.2,1))
ground.velocity = -4
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -5,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 200
trigger1 = animelem = 4
trigger2 = anim = 201
trigger2 = animelem = 3
movetype = I

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Ball Breaker
[Statedef 205]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(41) & floor(exp(4*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = 205
poweradd = 50
sprpriority = 2
facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 26*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 24*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 26*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 20*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 6*const(size.xscale)

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
x = 6*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 11
x = 17*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 12
x = 24*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 13
x = 24*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 14
x = 28*const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(4*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.75
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 3

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5
statetype = C
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 11
statetype = C

[State 200, 1]
type = HitDef
trigger1 = AnimElemTime(7) = 0
trigger1 = prevstateno != [200,499]
attr = C, NA
damage = 90, 0
animtype = hard
guardflag = MA
hitflag = H-
pausetime = 12-var(49), 12
sparkno = 3
sparkxy = -10, ceil(-83 * const(size.yscale) )
hitsound = S5, 3
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(30*ifelse(var(31),2,1))
ground.hittime  = ceil(30*ifelse(var(31),2,1))
ground.velocity = -10
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -3,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 16
fall.recovertime = 40
yaccel = .88
id = 205
ground.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = AnimElemTime(7) = 1
attr = C, NA
damage = 79, 0
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 2
sparkxy = -10, ceil(-83 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(29*ifelse(var(31),1.2,1))
ground.hittime  = ceil(29*ifelse(var(31),1.2,1))
ground.velocity = -11
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -3,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 16
fall.recovertime = 40
yaccel = .88
;id = 205
nochainid = 205
ground.cornerpush.veloff = 0

[State this method is superior]
type = TargetState
trigger1 = numtarget(205)
trigger1 = var(21) = 1
trigger1 = !(target(205),ishelper) || (PlayerIDExist((target(205),id)) )
trigger1 = target(205),statetype!= A
value = 245
ID = 205
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
movetype = I

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Strong Punch
[Statedef 210]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(2*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = ifelse(p2bodydist x<=18&&anim!=211&&anim!=201&&anim!=231&&anim!=200,211,210)
poweradd = 50
sprpriority = 2
facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 210
trigger1 = animelem = 2
x = 20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 210
trigger1 = animelem = 3
x = 12 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 210
trigger1 = animelem = 4
x = 10 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 210
trigger1 = animelem = 6
x = -10 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 210
trigger1 = animtime = 0
x = -22 * const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(2*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 210
trigger1 = AnimElem = 4
attr = S, NA
damage = 60, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 1
sparkxy = -10, ceil(-126 * const(size.yscale) )
hitsound = S5, 1
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -8
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -1,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 14
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = anim = 211
trigger1 = animelem = 5
trigger2 = animelem = 7
value = 2,12+random%5
channel = 0
lowpriority = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 211
trigger1 = AnimElem = 5
attr = S, NA
damage = 36, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 16
sparkno = 1
sparkxy = -10, ceil(-78 * const(size.yscale) )
hitsound = S5, 0
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(15*ifelse(var(31),1.25,1))
ground.hittime  = ceil(15*ifelse(var(31),1.25,1))
ground.velocity = -4
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -1,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 12
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
[State 200, 1]
type = HitDef
trigger1 = anim = 211
trigger1 = AnimElem = 7
attr = S, NA
damage = 40, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 1
sparkxy = -10, ceil(-135 * const(size.yscale) )
hitsound = S5, 1
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(15*ifelse(var(31),1.25,1))
ground.hittime  = ceil(15*ifelse(var(31),1.25,1))
ground.velocity = -10
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -5,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 12
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 210
trigger1 = animelem = 5
trigger2 = anim = 211
trigger2 = animelem = 8
movetype = I

[State 200, 1]
type = PlaySnd
trigger1 = anim = 210
trigger1 = animelem = 3
trigger2 = anim = 211
trigger2 = animelem = 6
value = 0, 2
[State 200, 1]
type = PlaySnd
trigger1 = anim = 211
trigger1 = animelem = 4
value = 0, 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Alt. Strong Punch
[Statedef 215]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(2*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = 215
poweradd = 40
sprpriority = 2
facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 8 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 4 * const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(2*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 2
value = 0, 2

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 3
attr = S, NA
damage = 50, 0
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 2
sparkxy = -10, ceil(-137 * const(size.yscale) )
hitsound = S5, 1
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -8
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -1,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 15
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
movetype = I

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Light Kick
[Statedef 230]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(3*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = ifelse(p2bodydist x<=12&&anim!=231&&anim!=241&&anim!=400,231,230)
poweradd = 10
sprpriority = 2
facep2 = 1

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(3*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 231
trigger1 = animelem = 2
value = 2,10+random%2
channel = 0
lowpriority = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 230
trigger1 = AnimElem = 3
attr = S, NA
damage = 38, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 10-var(49), 10
sparkno = 0
sparkxy = -10, ceil(-162 * const(size.yscale) )
hitsound = S5, 0
guardsound = S6, 0
ground.type = High
ground.slidetime = ceil(15*ifelse(var(31),1.25,1))
ground.hittime  = ceil(15*ifelse(var(31),1.25,1))
ground.velocity = -5.5
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -3,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 15
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
trigger1 = anim = 231
trigger1 = AnimElem = 2
attr = S, NA
damage = 25, 0
animtype = Light
guardflag = L
hitflag = MAF
pausetime = 10-var(49), 10
sparkno = 0
sparkxy = -10, ceil(-20 * const(size.yscale) )
hitsound = S5, 0
guardsound = S6, 0
ground.type = low
ground.slidetime = ceil(10*ifelse(var(31),1.25,1))
ground.hittime = ceil(10*ifelse(var(31),1.25,1))
ground.velocity = -4.5
guard.velocity = -5
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -2,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 12
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 230
trigger1 = animelem = 4
trigger2 = anim = 231
trigger2 = animelem = 3
movetype = I

[State 200, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stage Dive
[Statedef 235]
type    = C
movetype= A
physics = N
juggle  = ifelse(var(41) & floor(exp(5*ln(2)) + 0.5) ,1,0)
poweradd= 50
ctrl = 0
anim = 235
sprpriority = 2
facep2 = 1
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = anim = 236
trigger1 = animelemtime(4) < 0
value = S,NT,ST
value2 = C,NT,ST
time = 1
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = anim = 235
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(3) < 0
value = 10,0
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = anim = 235
trigger1 = animelemtime(3) > 0
value = 0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = anim = 235
trigger1 = animelemtime(3) > 0
value = 15,5
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 235
trigger1 = animelem = 3
statetype = A
physics = N
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = anim = 235
trigger1 = animelem = 3
x = 3.9
y = -4.6
[State 0, VelSet]
type = VelAdd
trigger1 = anim = 235
trigger1 = animelemtime(3) > 0
y = 0.79
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 235
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 236
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 236
statetype = C
physics = N
ignorehitpause = 1
persistent = 0
[State 0, VelSet]
type = VelSet
trigger1 = anim = 236
y = 0
ignorehitpause = 1
persistent = 0
[State 0, VelSet]
type = PosSet
trigger1 = anim = 236
y = 0
ignorehitpause = 1
persistent = 0
[State 0, VelSet]
type = VelMul
trigger1 = anim = 236
trigger1 = animelemtime(3) < 0
x = ifelse(animelemtime(2)>=0,0.91,0.95)
y = 0
[State 0, VelSet]
type = VelSet
trigger1 = anim = 236
trigger1 = animelem = 3
x = 0
y = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 236
value = F7,1
persistent = 0
[State 0, Explod]
type = Explod
trigger1 = anim = 236
anim = F60
pos = ceil(80 * const(size.xscale)),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 235
trigger1 = time = 0
x = 32 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 235
trigger1 = animelem = 3
x = 90 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 235
trigger1 = animelem = 5
x = 28 * const(size.xscale)
y = -26 * const(size.yscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 235
trigger1 = animelem = 6
x = 16 * const(size.xscale)
y = -26 * const(size.yscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 236
trigger1 = animelem = 4
x = -20 * const(size.xscale)
[State 0, Turn]
type = Turn
trigger1 = anim = 236
trigger1 = animelem = 4
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 236
trigger1 = animelem = 5
x = 24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 236
trigger1 = animelem = 6
x = 18 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 236
trigger1 = animelem = 7
x = 32 * const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(5*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = anim = 235
trigger1 = animelem = 3
value = 0, 3

[State 400, 2]
type = HitDef
trigger1 = anim = 235
trigger1 = animelem = 3
attr = C, NA
damage = 60
animtype  = hard
hitflag = MAF
guardflag = L
pausetime = 6-var(49),6
sparkno = 2
sparkxy = -10,ceil(-110 * const(size.yscale) )
hitsound = S5,2
guardsound = S6,1
ground.type = high
ground.slidetime = ceil(25*ifelse(var(31),1.2,1))
ground.hittime  = ceil(25*ifelse(var(31),1.2,1))
ground.velocity = -11.9
guard.velocity = -11.9
air.velocity = -2,-13.9
air.fall = 1
fall.recovertime = 60
yaccel = .88
ground.cornerpush.veloff = 0
guard.ctrltime = 12
[State 400, 2]
type = HitDef
trigger1 = anim = 236
attr = C, NA
damage = ifelse(movehit,40,60)
animtype  = hard
hitflag = MAF
guardflag = L
pausetime = 12-var(49),12
sparkno = 2
sparkxy = -10,0
hitsound = S5,3
guardsound = S6,1
ground.type = trip
ground.slidetime = ceil(20*ifelse(var(31),1.2,1))
ground.hittime  = ceil(20*ifelse(var(31),1.2,1))
ground.velocity = 4,-13.9
air.velocity = 4,-13.9
guard.velocity = -10
fall = 1
fall.recovertime = 60
yaccel = .88
ground.cornerpush.veloff = 0
guard.ctrltime = 13
persistent = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 236
trigger1 = animelem = 2
movetype = I
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 236
trigger1 = animelem = 7
statetype = S

[State 400, 4]
type = ChangeState
trigger1 = anim = 236
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Stand Strong Kick
[Statedef 240]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(4*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = ifelse(p2bodydist x<=12&&anim!=211&&anim!=200&&anim!=230,241,240)
;anim = ifelse(p2bodydist x<=12&&anim!=211&&anim!=201&&anim!=200&&anim!=230,241,240)
poweradd = 50
sprpriority = 2
facep2 = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = prevstateno = 230
trigger1 = time = 0
x = 30*const(size.xscale)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 240
trigger1 = movecontact
trigger1 = animelemtime(8) < 0
value = anim
elem = 8
ignorehitpause = 1
persistent = 0

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(4*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = anim = 240
trigger1 = animelem = 7
value = 0, 3
[State 200, 1]
type = PlaySnd
trigger1 = anim = 241
trigger1 = animelem = 3
value = 0, 2
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 240
trigger1 = animelem = 7
value = 2,12+random%9
channel = 0
lowpriority = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 240
trigger1 = AnimElem = 7
attr = S, NA
damage = 69, 0
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 2
sparkxy = -10, ceil(-78 * const(size.yscale) )
hitsound = S5, ifelse(var(31),3,2)
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(20*ifelse(var(31),2,1))
ground.hittime  = ceil(20*ifelse(var(31),2,1))
ground.velocity = ifelse(!var(31),-10,-1)
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -3,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 15
fall.recovertime = 40
yaccel = .88
id = 240
ground.cornerpush.veloff = 0

[State this method is superior]
type = TargetState
trigger1 = anim = 240
trigger1 = numtarget(240)
trigger1 = var(21) = 1
trigger1 = var(31) = 1
trigger1 = !(target(240),ishelper) || (PlayerIDExist((target(240),id)) )
trigger1 = target(240),statetype!= A
value = 245
ID = 240
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 241
trigger1 = AnimElem = 4
attr = S, NA
damage = 60, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 10-var(49), 10
sparkno = 2
sparkxy = -10, ceil(-73 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 1
ground.type = high
ground.slidetime = ceil(21*ifelse(var(31),1.25,1))
ground.hittime = ceil(21*ifelse(var(31),1.25,1))
ground.velocity = -6.8
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -2,-8.8
air.hittime = 12
air.fall = 1
guard.ctrltime = 16
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 240
trigger1 = animelem = 9
trigger2 = anim = 241
trigger2 = animelem = 5
movetype = I

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; You've lost your balls
[Statedef 245]
type    = A
movetype= H
physics = N
velset = 0,-8.8
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(70851),70851,5012)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 5012
trigger1 = animtime = 0
trigger1 = time > 30
value = 5017

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y >= 0
trigger1 = vel y + pos y >= 0
statetype = S
physics = S
[State 0, VelSet]
type = VelSet
trigger1 = statetype != A
trigger2 = vel y >= 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelSet]
type = PosSet
trigger1 = statetype != A
trigger2 = vel y >= 0
trigger2 = vel y + pos y >= 0
y = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 60
trigger1 = statetype != A
value = ifelse(alive,0,5100)
ctrl = ifelse(alive,1,0)



;---------------------------------------------------------------------------
; Stand CD
[Statedef 220]
type    = S
movetype= A
physics = S
juggle  = ifelse(var(40) & floor(exp(0*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = 220
poweradd = 50
sprpriority = 2
facep2 = 1

[State 0, Width]
type = Width
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(6) < 0
value = 6,6
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = animelemtime(6) >= 0
trigger1 = animelemtime(7) <= 1
value = 16,8
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(6) >= 0
trigger1 = animelemtime(7) < 0
x = 2
[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(7) = 0
x = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 4 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = 36 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = 36 * const(size.xscale)

[State Neo-Juggle-System-Reset]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
trigger1 = !(var(40) & floor(exp(0*ln(2)) + 0.5))
var(40) = 1
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.75
ignorehitpause = 1

[State 0, ReversalDef]
type = ReversalDef
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(6)< 0
reversal.attr = SCA,AA,AP
sparkno = 40
hitsound = S6,9
pausetime = 4-var(49), 16
numhits = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 220
trigger1 = movehit
trigger1 = animelemtime(6) < 0
value = 221
elem = animelemno(0)
ignorehitpause = 1
persistent = 0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = movehit
trigger1 = animelemtime(7) <= 0
value = SCA,AA,AP
time = 1
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 7
value = 0, 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = S220,random%2
channel = 0
lowpriority = 1

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 7
attr = S, NA
damage = 100, 0
animtype = diagup
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 3
sparkxy = -10, ceil(-122 * const(size.yscale) )
hitsound = S5, 4
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(20*ifelse(var(31),1.4,1))
ground.hittime  = ceil(20*ifelse(var(31),1.4,1))
ground.velocity = -8,-8.8
airguard.velocity = -5,-4.4
guard.velocity = -13.13
air.type = High
air.velocity = -8,-8.8
air.hittime = 12
fall = 1
guard.ctrltime = 15
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0


[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
movetype = I

[State 200, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light punch
[Statedef 400]
type    = C
movetype= A
physics = C
juggle  = ifelse(var(40) & floor(exp(5*ln(2)) + 0.5) ,1,0)
poweradd= 12
ctrl = 0
anim = 400
sprpriority = -1
facep2 = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 4
value = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 32 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 32 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 30 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
trigger2 = animtime = 0
x = 8 * const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(5*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 400, random%3
channel = 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 5
attr = C, NA
damage    = 36
animtype  = medium
hitflag = MAF
guardflag = MA
pausetime = 11-var(49),11
sparkno = 1
sparkxy = -10,ceil(-85 * const(size.yscale) )
hitsound = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = ceil(15*ifelse(var(31),1.5,1))
ground.hittime  = ceil(15*ifelse(var(31),1.5,1))
ground.velocity = -6.6
air.velocity = -2,-8.8
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
guard.ctrltime = 12

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
movetype = I

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching strong punch
[Statedef 410]
type    = C
movetype= A
physics = N
juggle  = ifelse(var(40) & floor(exp(6*ln(2)) + 0.5) ,1,0)
poweradd= 50
ctrl = 0
anim = 410
sprpriority = 2
facep2 = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(9) < 0
value = S,NT,ST
value2 = C,NT,ST
time = 1
ignorehitpause = 1

[State 0, Width]
type = Width
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(4) < 0
value = 10,0
ignorehitpause = 1
[State 0, Width]
type = Width
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(11) < 0
value = 20,9
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 2
x = 1
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 4
x = 4.13
[State 0, VelSet]
type = VelMul
trigger1 = animelemtime(5) > 0
x = ifelse(animelemtime(7)>=0,0.92,0.96)
[State 0, VelSet]
type = VelSet
trigger1 = animelem = 9
x = 0
ignorehitpause = 1
persistent = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = 20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 30 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 3
x = 20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 50 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 12
x = -64 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animtime = 0
x = -2 * const(size.xscale)

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(6*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
;[State ProRation]
;type = VarSet
;trigger1 = var(21) = 1
;fvar(13) = fvar(13) * 0.8
;ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 4
value = 0, 3

[State 400, 2]
type = HitDef
trigger1 = animelem = 5
attr = C, NA
damage = 76
animtype  = hard
hitflag = MAF
guardflag = L
pausetime = 12-var(49),12
sparkno = 2
sparkxy = -20,0
hitsound = S5,2
guardsound = S6,1
ground.type = trip
ground.slidetime = ceil(38*ifelse(var(31),1.2,1))
ground.hittime  = ceil(38*ifelse(var(31),1.2,1))
ground.velocity = 4,-13.9+ifelse(var(31),-1.13,0)
air.velocity = 4,-13.9+ifelse(var(31),-1.13,0)
guard.velocity = -10
fall = 1
fall.recovertime = 60
yaccel = .88
ground.cornerpush.veloff = 0
guard.ctrltime = 18

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 7
movetype = I

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching light kick
[Statedef 430]
type    = C
movetype= A
physics = C
juggle  = ifelse(var(40) & floor(exp(7*ln(2)) + 0.5) ,1,0)
poweradd= 10
ctrl = 0
anim = 430
sprpriority = 2
facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = prevstateno = 430
value = 430
elem = 2
ignorehitpause = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(7*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 400, 2]
type = HitDef
trigger1 = animelem = 3
attr = C, NA
damage  = 23
animtype  = light
hitflag = MAF
guardflag = L
pausetime = 11-var(49),11
sparkno = 0
sparkxy = -10,ceil(-14 * const(size.yscale) )
hitsound = S5,0
guardsound = S6,0
ground.type = Low
ground.slidetime = ceil(18*ifelse(var(31),1.25,1))
ground.hittime  = ceil(18*ifelse(var(31),1.25,1))
ground.velocity = -4.8
air.velocity = -2,-8.8
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
guard.ctrltime = 18

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
movetype = I

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1

;---------------------------------------------------------------------------
;Crouching strong kick
[Statedef 440]
type    = C
movetype= A
physics = C
juggle  = ifelse(var(40) & floor(exp(8*ln(2)) + 0.5) ,1,0)
poweradd= 50
ctrl = 0
anim = 440
sprpriority = 2
facep2 = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = prevstateno = 430
value = 440
elem = 2
ignorehitpause = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(8*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 400, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 2

[State 400, 2]
type = HitDef
trigger1 = animelem = 4
attr = C, NA
damage  = 60
animtype  = hard
hitflag = MAF
guardflag = M
pausetime = 12-var(49),12
sparkno = 2
sparkxy = -10,ceil(-127 * const(size.yscale) )
hitsound = S5,2
guardsound = S6,1
ground.type = high
ground.slidetime = ceil(20*ifelse(var(31),1.2,1))
ground.hittime  = ceil(20*ifelse(var(31),1.2,1))
ground.velocity = ifelse(!var(31),-9,-1.1),ifelse(!var(31),0,-12.9)
air.velocity = ifelse(!var(31),-1,-1.1),ifelse(!var(31),-9.9,-12.9)
guard.velocity = -10.9
fall = ifelse(!var(31),0,1)
air.fall = 1
fall.recovertime = ifelse(!var(31),40,60)
yaccel = ifelse(!var(31),.88,.77)
ground.cornerpush.veloff = 0
guard.ctrltime = 18

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5
movetype = I

[State 400, 4]
type = ChangeState
trigger1 = AnimTime = 0
value = 11
ctrl = 1


;---------------------------------------------------------------------------
;Jump Light Punch
[Statedef 600]
type    = A
movetype= A
physics = A
juggle  = ifelse(var(40) & floor(exp(9*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 600
sprpriority = 2

[State 600, AirCombo velset] ; this will have
type = VelSet
trigger1 = numtarget
trigger1 = time = 1
trigger1 = (prevstateno = [600,649])
trigger1 = p2statetype = A
trigger1 = p2movetype = H
;x = ifelse(abs(p2bodydist x / 8)>=4,4,abs(p2bodydist x / 8))
x = ifelse(abs(p2bodydist x / 8)>=3,ifelse(p2bodydist x>0,3,-3),(p2bodydist x / 8))
y = -8
[State 600, AirCombo Vellimit]
type = VelMul
trigger1 = prevstateno >= 200
trigger1 = abs(vel x) >= 3
trigger1 = (p2statetype != A) || (p2movetype != H)
x = 0.83

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = var(40) | floor(exp(9*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 52
guardflag = HA
pausetime = 12-var(49),12
sparkno = 1
sparkxy = -10,ceil(-83 * const(size.yscale) )
hitsound   = S5,1
guardsound = S6,0
ground.type = High
ground.slidetime = ceil(14*ifelse(var(31),1.25,1))
ground.hittime  = ceil(14*ifelse(var(31),1.25,1))
ground.velocity = -4
guard.ctrltime = 6
air.velocity = -2,-7.7+ifelse(var(31),-1.13,0)
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

;---------------------------------------------------------------------------
;Jump Strong Punch
[Statedef 610]
type    = A
movetype= A
physics = A
juggle  = ifelse(var(41) & floor(exp(0*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 610
sprpriority = 2

[State 600, AirCombo velset] ; this will have
type = VelSet
trigger1 = numtarget
trigger1 = time = 1
trigger1 = (prevstateno = [600,649])
trigger1 = p2statetype = A
trigger1 = p2movetype = H
;x = ifelse(abs(p2bodydist x / 8)>=4,4,abs(p2bodydist x / 8))
x = ifelse(abs(p2bodydist x / 8)>=3,ifelse(p2bodydist x>0,3,-3),(p2bodydist x / 8))
y = -8
[State 600, AirCombo Vellimit]
type = VelMul
trigger1 = prevstateno >= 200
trigger1 = abs(vel x) >= 3
trigger1 = (p2statetype != A) || (p2movetype != H)
x = 0.83

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(0*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 2

[State 0, extra gravity]
type = VelAdd
trigger1 = animelemtime(2) >= 0
y = 0.123

[State 600, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 67
guardflag = HA
pausetime = 12-var(49),12
sparkno = 2
sparkxy = -10,ceil(-77 * const(size.yscale) )
hitsound   = S5,1
guardsound = S6,1
ground.type = High
ground.slidetime = ceil(14*ifelse(var(31),1.25,1))
ground.hittime  = ceil(14*ifelse(var(31),1.25,1))
ground.velocity = -4
guard.ctrltime = 6
air.velocity = -2,-6.6+ifelse(var(31),-1.13,0)
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

;---------------------------------------------------------------------------
;Jump Light Kick
[Statedef 630]
type    = A
movetype= A
physics = A
juggle  = ifelse(var(41) & floor(exp(1*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 630
sprpriority = 2

[State 600, AirCombo velset] ; this will have
type = VelSet
trigger1 = numtarget
trigger1 = time = 1
trigger1 = (prevstateno = [600,649])
trigger1 = p2statetype = A
trigger1 = p2movetype = H
;x = ifelse(abs(p2bodydist x / 8)>=4,4,abs(p2bodydist x / 8))
x = ifelse(abs(p2bodydist x / 8)>=3,ifelse(p2bodydist x>0,3,-3),(p2bodydist x / 8))
y = -8
[State 600, AirCombo Vellimit]
type = VelMul
trigger1 = prevstateno >= 200
trigger1 = abs(vel x) >= 3
trigger1 = (p2statetype != A) || (p2movetype != H)
x = 0.83

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(1*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.9
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = Time = 1
value = 0, 0

[State 600, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 42
guardflag = HA
pausetime = 12-var(49),12
sparkno = 1
sparkxy = -10,ceil(-124 * const(size.yscale) )
hitsound   = S5,0
guardsound = S6,0
ground.type = High
ground.slidetime = ceil(14*ifelse(var(31),1.25,1))
ground.hittime  = ceil(14*ifelse(var(31),1.25,1))
ground.velocity = -4
guard.ctrltime = 6
air.velocity = -2.4,-11.13+ifelse(var(31),-1.13,0)
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

;---------------------------------------------------------------------------
;Jump Strong Kick
[Statedef 640]
type    = A
movetype= A
physics = A
juggle  = ifelse(var(41) & floor(exp(2*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 640
sprpriority = 2

[State 600, AirCombo velset] ; this will have
type = VelSet
trigger1 = numtarget
trigger1 = time = 1
trigger1 = (prevstateno = [600,649])
trigger1 = p2statetype = A
trigger1 = p2movetype = H
;x = ifelse(abs(p2bodydist x / 8)>=4,4,abs(p2bodydist x / 8))
x = ifelse(abs(p2bodydist x / 8)>=3,ifelse(p2bodydist x>0,3,-3),(p2bodydist x / 8))
y = -8
[State 600, AirCombo Vellimit]
type = VelMul
trigger1 = prevstateno >= 200
trigger1 = abs(vel x) >= 3
trigger1 = (p2statetype != A) || (p2movetype != H)
x = 0.83

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(2*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 3

[State 600, 2]
type = HitDef
trigger1 = animelem = 3
attr = A, NA
damage = 70
guardflag = HA
pausetime = 12-var(49),12
sparkno = 2
sparkxy = -10,ceil(-104 * const(size.yscale) )
hitsound   = S5,2
guardsound = S6,1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.25,1))
ground.hittime  = ceil(18*ifelse(var(31),1.25,1))
ground.velocity = -6.6
guard.ctrltime = 11
air.velocity = -3.9,-8.4+ifelse(var(31),-1.13,0)
air.fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

;---------------------------------------------------------------------------
;Jump CD
[Statedef 620]
type    = A
movetype= A
physics = A
juggle  = ifelse(var(40) & floor(exp(0*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 620
sprpriority = 2

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 4
physics = N
ignorehitpause = 1
[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(4) >= 0
y = 0.88

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = !(var(40) & floor(exp(0*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(40) = 1
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.75
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 4

[State 600, 2]
type = HitDef
trigger1 = animelem = 4
attr = A, NA
damage = 81
guardflag = HA
pausetime = 12-var(49),12
sparkno = 3
sparkxy = -10,ceil(-70 * const(size.yscale) )
hitsound   = S5,5
guardsound = S6,1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.25,1))
ground.hittime  = ceil(18*ifelse(var(31),1.25,1))
ground.velocity = -1,-13.13+ifelse(var(31),-1.13,0)
guard.ctrltime = 10
air.velocity = -1,-13.13+ifelse(var(31),-1.13,0)
fall = 1
fall.recovertime = 60
yaccel = .77
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 6
movetype = I

[State 0, ChangeState]
type = ChangeState
trigger1 = animelemtime(4) > 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 621
ctrl = 0

;---------------------------------------------------------------------------
;Jump CD
[Statedef 621]
type    = C
movetype= I
physics = C
ctrl = 0
anim = 621
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,1

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F61
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 6
ontop = 1
ownpal = 1

[State 0, VelSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 2
x = 28 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = 24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = 18 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = 32 * const(size.xscale)

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Jump Dive Kick
[Statedef 645]
type    = A
movetype= A
physics = N
velset = -1,-1
juggle  = ifelse(var(41) & floor(exp(3*ln(2)) + 0.5) ,1,0)
poweradd= 11
ctrl = 0
anim = 645
sprpriority = 2

[State 0, VelSet]
type = VelSet
trigger1 = animelem = 3
x = 11
y = 11
persistent = 0

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(41) = var(41) | floor(exp(3*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.8
ignorehitpause = 1

[State 600, 1]
type = PlaySnd
trigger1 = animelem = 3
value = 0, 5
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(0) = (( p2dist y + (enemynear,const(size.head.pos.y) / ifelse(p2statetype=C,2,1) ) ) >= -18)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = var(0) = 1
trigger1 = var(21) = 1
value = S0,6
ignorehitpause = 1
persistent = 0
[State 0, Explod]
type = Explod
trigger1 = var(0) = 1
trigger1 = var(21) = 1
anim = 4111
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = movecontact
trigger2 = movereversed
value = 647
ctrl = 0

[State 600, 2]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = var(0) = 0
attr = A, NA
damage = 66
guardflag = HA
pausetime = 12-var(49),12
sparkno = 3
sparkxy = -10,ceil(-25 * const(size.yscale) )
hitsound   = S5,7
guardsound = S6,1
ground.type = High
ground.slidetime = ceil(14*ifelse(var(31),1.2,1))
ground.hittime  = ceil(14*ifelse(var(31),1.2,1))
ground.velocity = -4
guard.velocity = -10
guard.ctrltime = 6
air.velocity = -2.4,-11.13
fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
id = 645
[State 600, 2]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = var(0) = 1
attr = A, NA
damage = 135
guardflag = HA
pausetime = 20-var(49),20
sparkno = 3
sparkxy = -10,ceil(-25 * const(size.yscale) )
hitsound   = S5,7
guardsound = S6,0
ground.type = High
ground.slidetime = ceil(14*ifelse(var(31),1.2,1))
ground.hittime  = ceil(14*ifelse(var(31),1.2,1))
ground.velocity = -4
guard.velocity = -10
guard.ctrltime = 6
air.velocity = -2.4,-11.13
fall = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
palfx.time = 12
palfx.add = 64,64,0
palfx.mul = 256,256,256
palfx.sinadd = 200,160,0,3
palfx.invertall = 0
palfx.color = 128
id = 645

[State this method is superior]
type = TargetState
trigger1 = numtarget(645)
trigger1 = var(21) = 1
trigger1 = !(target(645),ishelper) || (PlayerIDExist((target(645),id)) )
value = 649
ID = 645
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 646
ctrl = 0

;---------------------------------------------------------------------------
; Target
[Statedef 649]
type    = U
movetype= H
physics = N
ctrl = 0
velset = 0,0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(statetype=C,5022,5012)
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = !HitShakeOver
value = anim
ignorehitpause = 1

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !HitShakeOver
value = 1
ignorehitpause = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = HitShakeOver
statetype = A
physics = N

[State 0, HitVelSet]
type = HitVelSet
trigger1 = HitShakeOver
x = 1
y = 1
ignorehitpause = 1
[State 0, HitFallSet]
type = HitFallSet
trigger1 = HitShakeOver
value = 1
ignorehitpause = 1

[State 0, ChangeState]
type = SelfState
trigger1 = HitShakeOver
value = 5050

;---------------------------------------------------------------------------
;Land
[Statedef 646]
type    = S
movetype= I
physics = S
ctrl = 0
anim = ifelse((prevstateno=[1100,1149]),648,646)
velset = 0,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 40,0

[State 0, VelSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Bounce
[Statedef 647]
type    = A
movetype= I
physics = A
ctrl = 0
anim = 647
velset = -3,-7.7

[State 0, VelSet]
type = CtrlSet
trigger1 = time = 15
value = 1



;---------------------------------------------------------------------------
; Dodge forward
[Statedef 700]
type    = S
physics = N
anim = 700
sprpriority = -2
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,5
channel = 0
lowpriority = 1

[State 0, PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = prevstateno = [150,156]
trigger2 = prevstateno = [200,499]
value = -1000
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = [150,156]
anim = 4104
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = [200,499]
anim = 4105
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 6
length = 20
palcolor = 0
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 10,10,10
palmul = .65,.65,.65
timegap = 1
framegap = 4
trans = add
ignorehitpause = 1
[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = animelemtime(3) < 0
time = 2
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 3
value = 1
ignorehitpause = 1
[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) < 0
x = 2
[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) = 0
x = 5.6
[State 100, 1]
type = VelMul
trigger1 = animelemtime(2) > 0
x = ifelse(animelemtime(3)>=0,0.9,0.97)
[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(3) < 0
value = 0
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3) < 0
trigger2 = prevstateno = [150,456]
value = ,NA,SA,HA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dodge backward
[Statedef 705]
type    = S
physics = N
anim = 705
sprpriority = -2
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S2,5
channel = 0
lowpriority = 1

[State 0, PowerAdd]
type = PowerAdd
triggerall = time = 0
trigger1 = prevstateno = [150,156]
trigger2 = prevstateno = [200,499]
value = -1000
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = [150,156]
anim = 4104
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = [200,499]
anim = 4105
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, AfterImage]
type = AfterImage
trigger1 = time = 0
time = 6
length = 20
palcolor = 0
palinvertall = 0
palbright = 30,30,30
palcontrast = 120,120,220
palpostbright = 0,0,0
paladd = 10,10,10
palmul = .65,.65,.65
timegap = 1
framegap = 4
trans = add
ignorehitpause = 1
[State 0, AfterImageTime]
type = AfterImageTime
trigger1 = animelemtime(3) < 0
time = 2
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 3
value = 1
ignorehitpause = 1
[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) < 0
x = -2
[State 100, 1]
type = VelSet
trigger1 = animelemtime(2) = 0
x = -5.6
[State 100, 1]
type = VelMul
trigger1 = animelemtime(2) > 0
x = ifelse(animelemtime(3)>=0,0.9,0.97)
[State 0, PlayerPush]
type = PlayerPush
trigger1 = animelemtime(3) < 0
value = 0
ignorehitpause = 1
[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(3) < 0
trigger2 = prevstateno = [150,456]
value = ,NA,SA,HA,NP,SP,HP
time = 1
ignorehitpause = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Guard Counter
[Statedef 710]
type    = S
physics = S
anim = 710
sprpriority = -2
ctrl = 0
velset = 0,0
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S2,51
channel = 0

[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = -1000
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 4104
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = animelem = 15
helpertype = normal
name = "Can"
ID = 712
stateno = 712
pos = ceil(24*const(size.xscale)),ceil(-95*const(size.yscale))
postype = p1
facing = 1
ownpal = 0

[State 0, Projectile]
type = Projectile
trigger1 = animelem = 9
ProjID = 710
projanim = 711
projscale = const(size.xscale),const(size.yscale)
projremove = 0
projremovetime = 31
velocity = 0,0
remvelocity = 0,0
accel = 0,0
velmul = 1
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = 4
projedgebound = 90
projstagebound = 90
projheightbound = -999
offset = 0,0
postype = p1
projshadow = 0,0,0
supermovetime = 0
pausemovetime = 0
attr = S,SP
hitflag = MAF
guardflag =
getpower = 0,0
givepower = 0,0
animtype = hard
priority = 3,Hit
damage = 100,0
pausetime = 0,8
;guard.pausetime = 0,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.slidetime = 40
ground.hittime = 40
yaccel = 0.88
ground.velocity = -5,-9.9
air.velocity = -5,-9.9
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
fall = 1
fall.recover = 0
fall.damage = 1
kill = 0
fall.kill = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = animelemtime(16) < 0
value = ,AA,AP,AT
time = 1
ignorehitpause = 1

[State 100, 4]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Dropped
[Statedef 712]
type    = A
movetype= I
physics = N
velset = -1,0
ctrl = 0
anim = 712
sprpriority = 3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, VarAdd]
type = VarAdd
trigger1 = var(7) > 0
var(7) = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = var(7) > 0
trigger1 = (time%3)=0
flag = invisible

[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.99

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.40
[State 0, VarAdd]
type = VarAdd
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
trigger2 = var(7) > 0
var(7) = 1
[State 0, VelAdd]
type = VelMul
trigger1 = var(7) = 1
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = -0.9

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(7) >= 30

;---------------------------------------------------------------------------
;Kung Fu Throw - Attempt
; CNS difficulty: medium-advanced
; Description: Throws are not difficult to make, although then can be
;     tedious at times. Throw attempt states have a HitDef of a
;     special format. The key parameters in a throw are p1stateno
;     and p2stateno. If the HitDef successfully connects, then
;     the attacker will change to the state number specified by
;     p1stateno, and the opponent will be change to the state
;     number assigned to p2stateno. The special thing about p2stateno
;     is that the opponent will be temporarily brought into the
;     attacker's state file. In this case, no matter who the
;     opponent is, he will be taken to state 820 of this file (kfm.cns)
;     and remain here until the end of the throw (look at his debug
;     information when he is being thrown; the text changes to yellow
;     to mean that he is in another player's state file).
[Statedef 800]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 810       ;On success, KFM changes to state 810
;p2stateno = 820       ;Ignore this parm. Within the "actually getting someone to throw" states you'd have to resort to targetstate for putting opponents into custom states
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S801,random%3
channel = 0
lowpriority = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Kung Fu Throw - Throwing the opponent
; Description: In this state, KFM throws the opponent by binding him to
;     various offsets based on his current frame of animation. For
;     example, [State 810, Bind 1] binds the opponent to an offset of
;     28 pixels in front of KFM. That puts him around where KFM's hand
;     is at. Is is important to keep the opponent bound using a
;     TargetBind controller at all times, until you let him go. This
;     is especially important if your player has a Clsn2 box that
;     allows him to get hit while throwing someone. Each time a player
;     gets hit, all his bound targets will be set to a fall state. If
;     the opponent is not bound, then he may get stuck in his thrown
;     state when his attacker is knocked out of the throw halfway.
; Notes: There is a TargetLifeAdd controller to decrease the opponent's
;     life, and a TargetState controller to change his state to a
;     falling state when KFM lets go of him.
[Statedef 810]
type    = S
movetype= A
physics = N
anim = 810
poweradd = 60

[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(7) < 0
edge = 0,30
[State 810, Width 2-11]
type = Width
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(9) < 0
edge = 0,60

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = -16 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = -24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = -29 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = -81 * const(size.xscale)

[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 13
x = 28 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 14
x = 24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 15
x = 18 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 16
x = 32 * const(size.xscale)

[State 810, TargetState] ; This is the sctrl you'd use to put victims into custom states
type = TargetState
trigger1 = time = 0
value = 820

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1

[State 810, Throw Sound]
type = PlaySnd
trigger1 = AnimElem = 7
value = 800, 0

[State 810, Bind 4]
type = TargetBind
trigger1 = animelemtime(4) < 0
pos = floor(93*const(size.xscale)), 0

[State 810, Bind 4]
type = TargetBind
trigger1 = AnimElemTime(4) >= 0 && AnimElemTime(5) < 0
pos = floor(93*const(size.xscale)), floor(-113*const(size.yscale))

[State 810, Bind 5]
type = TargetBind
trigger1 = AnimElemTime(5) >= 0 && AnimElemTime(6) < 0
pos = floor(58*const(size.xscale)), floor(-95*const(size.yscale))

[State 810, Bind 6]
type = TargetBind
trigger1 = AnimElemTime(6) >= 0 && AnimElemTime(7) < 0
pos = floor(7*const(size.xscale)), floor(-125*const(size.yscale))

[State 810, Bind 7]
type = TargetBind
trigger1 = AnimElemTime(7) >= 0 && AnimElemTime(8) < 0
pos = floor(23*const(size.xscale)), floor(-94*const(size.yscale))

[State 810, Bind 8]
type = TargetBind
trigger1 = AnimElem = 8
pos = floor(-41*const(size.xscale)), floor(-149*const(size.yscale))

[State 810, Throw 11]
type = TargetState
trigger1 = AnimElem = 8
value = 821

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = target,stateno = 822
value = -78
persistent = 0

[State 810, State End]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by KFM's throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
[Statedef 820]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0
ignorehitpause = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 820

;In case attacker loses binding on player for any reason, this controller
;guarantees that the player will never get stuck in this thrown state.
[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw - thrown into the air
; (a custom gethit state)
; Description: This state has the opponent flying through the air and
;     falling down onto the ground. The SelfState controller sets the
;     opponent back using to his own state file when he his the ground.
;     Controllers 821,2 and 821,3 allow the opponent to recover by
;     hitting his recovery command when he is falling.
[Statedef 821]
type    = A
movetype= H
physics = N
velset = 0.5,-15.8
poweradd = 40

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0
ignorehitpause = 1

[State 821, 1] ;Gravity
type = VelMul
Trigger1 = 1
x = .96
[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = 1
y = .7

[State 821, 4] ;Hit ground
type = ChangeState
trigger1 = Vel Y > 0
trigger1 = vel y + Pos Y >= const(size.head.pos.y)-const(size.mid.pos.y)
value = 822 ;Hit ground

;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 822]
type    = L
movetype= H
physics = N

[State 5100, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 8
freqmul = 255
ampl = -4

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5101),5101,5100)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 5100, 7]
type = SelfState
trigger1 = animtime = 0
;trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 0
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, 2

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

[Statedef 830]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
ctrl = 0
anim = 800
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = S, NT          ;Attributes: Standing, Normal Throw
hitflag = M-          ;Affect only ground people who are not being hit
priority = 1, Miss    ;Throw has low priority, must be miss or dodge type.
sparkno = -1          ;No spark
p1sprpriority = 1     ;Draw p1's sprite in front of p2
                      ;p2's sprite priority is set to 0 by default
p1facing = 1
p2facing = 1          ;Force p2 to face KFM
p1stateno = 840       ;On success, KFM changes to state 810
;p2stateno = 820       ;Ignore this parm. Within the "actually getting someone to throw" states you'd have to resort to targetstate for putting opponents into custom states
guard.dist = 0        ;This prevents p2 from going into a guard state if close
fall = 1              ;Force p2 into falling down

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 3
value = S801,random%3
channel = 0
lowpriority = 1

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 0
ctrl = 1


[Statedef 840]
type    = A
movetype= A
physics = N
anim = 840
poweradd = 60

[State 0, Width]
type = Width
trigger1 = time = 0
edge = 30,0
player = 0,0
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = animelem = 8
value = -3
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 4
x = 8 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 5
x = floor(p2dist x * 0.1)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 0.1)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 6
x = floor(p2dist x * 0.2)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 0.2)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 7
x = floor(p2dist x * 0.4)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 0.4)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 8
x = floor(p2dist x * 0.6)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 0.6)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 9
x = floor(p2dist x * 0.8)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 0.8)
[State 0, PosAdd]
type = PosAdd
trigger1 = animelem = 10
x = floor(p2dist x * 1)
y = floor((p2dist y + enemynear,const(size.mid.pos.y) ) * 1)

[State 810, TargetState] ; This is the sctrl you'd use to put victims into custom states
type = TargetState
trigger1 = time = 0
value = 850

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 3
value = 1, 1

[State 810, Grab Sound]
type = PlaySnd
trigger1 = AnimElem = 13
value = 2, 52
channel = 0

[State 810, Bind 4]
type = TargetBind
trigger1 = animelemtime(4) < 0
pos = floor(93*const(size.xscale)), 0

[State 810, TargetState]
type = TargetState
trigger1 = animelem = 21
value = 851

[State 0, VelAdd]
type = VelSet
trigger1 = animelem = 21
x = 1
y = -3

[State 0, VelAdd]
type = VelMul
trigger1 = animelemtime(21) >= 0
x = 0.99
[State 0, VelAdd]
type = VelAdd
trigger1 = animelemtime(21) >= 0
y = 0.44

[State 810, Throw 11]
type = TargetState
triggerall = animelemtime(21) >= 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
trigger2 = vel y > 0
trigger2 = (p2dist y + enemynear,const(size.head.pos.y)) <= -50
value = 852
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
triggerall = animelemtime(21) >= 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
trigger2 = vel y > 0
trigger2 = (p2dist y + enemynear,const(size.head.pos.y)) <= -50
value = S5,3
persistent = 0

[State 810, Hurt 11]
type = TargetLifeAdd
triggerall = animelemtime(21) >= 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
trigger2 = vel y > 0
trigger2 = (p2dist y + enemynear,const(size.head.pos.y)) <= -50
value = -78
persistent = 0

[State 0, Explod]
type = Explod
triggerall = animelemtime(21) >= 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
trigger2 = vel y > 0
trigger2 = (p2dist y + enemynear,const(size.head.pos.y)) <= -50
anim = F3
pos = 0,-50
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 9
ownpal = 1
persistent = 0

[State 810, State End]
type = ChangeState
trigger1 = animelemtime(21) >= 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 841
ctrl = 0

[Statedef 841]
type    = L
movetype= A
physics = N
anim = 5100
velset = 0,0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 5120, 5] ;Can't be thrown right after getting up
type = NotHitBy
trigger1 = AnimTime = 0
value = , NT,ST,HT
time = 12

[State 5120, 6] ;Can't be hit right after getting up (short time)
type = NotHitBy
trigger1 = AnimTime = 0
value2 = SCA
time = 3

[State 0, VelSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = F7,1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F61
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 7
ownpal = 1

[State 810, State End]
type = ChangeAnim
trigger1 = anim = 5100
trigger1 = AnimTime = 0
value = 5120

[State 810, State End]
type = ChangeState
trigger1 = anim = 5120
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;Thrown by Kung Fu Throw
; (a custom gethit state)
; Description: This is the state that the opponent changes to after being
;     hit by KFM's throw HitDef. The important thing here is to use a
;     ChangeAnim2 controller. The difference between ChangeAnim2 and
;     ChangeAnim is that ChangeAnim2 changes the player's animation to
;     an action in the AIR file of the attacker (in this case, kfm.air),
;     whereas ChangeAnim always changes the player to an action in his
;     own AIR file. Look at Action 820 in kfm.air for some extra
;     comments.
[Statedef 850]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0
ignorehitpause = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 850

[State 820, 2]
type = SelfState
trigger1 = time < 4
trigger1 = !gethitvar(isbound)
trigger2 = time >= 300
value = 5050

[Statedef 851]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 1,0
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = time = 0

[State 820, 1]
type = ChangeAnim
Trigger1 = Time = 0
value = ifelse(selfanimexist(5),5,5010)

[State 820, 1]
type = ChangeAnim
trigger1 = anim = 5
Trigger1 = animtime = 0
value = 5010

[State 820, 1]
type = ChangeAnim
trigger1 = anim = 5010
Trigger1 = animtime = 0
value = 5015

[State 820, 2]
type = SelfState
trigger1 = time >= 120
value = 5050


;---------------------------------------------------------------------------
; HIT_BOUNCE (hit ground)
[Statedef 852]
type    = L
movetype= H
physics = N

[State 5100, EnvShake]
type = EnvShake
trigger1 = Time = 0
time = 8
freqmul = 255
ampl = -4

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)

[State 5100, 2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5101),5101,5100)
[State 5100, 2]
type = ChangeAnim
trigger1 = anim = [5100,5109]
trigger1 = animtime = 0
value = ifelse(anim=5101&&selfanimexist(5111),5111,5110)

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0

[State 5100, 5]
type = VelSet
trigger1 = Time = 0
x = 0
y = 0

[State 5100, 7]
type = SelfState
trigger1 = time >= 17
;trigger1 = animtime = 0
;trigger1 = Time = 0
;trigger1 = GetHitVar(fall.yvel) = 0
value = 5110 ;HIT_LIEDOWN

[State 5100, 8]
type = GameMakeAnim
trigger1 = Time = 0
value = 60 + (sysvar(1) > 5) + (sysvar(1) > 14)
pos = 0, 0
under = sysvar(1) <= 14

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, 2

[State 5100, 11]
type = PosFreeze
trigger1 = 1

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; Air Throw Attempt P
[Statedef 860]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 860
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkno = -1
p1sprpriority = -1
p1facing = 1
p2facing = 1
p1stateno = 870
guard.dist = 0
fall = 1
fall.recovertime = 60

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 610
ctrl = 0

; Air Throw Attempt P
[Statedef 861]
type    = A
movetype= A
physics = A
juggle  = 1
ctrl = 0
anim = 860
sprpriority = 2

[State 800, 1]
type = HitDef
Trigger1 = Time = 0
attr = A, NT
hitflag = AF
priority = 1, Miss
sparkno = -1
p1sprpriority = -1
p1facing = 1
p2facing = 1
p1stateno = 870
guard.dist = 0
fall = 1
fall.recovertime = 60

[State 800, 2]
type = ChangeState
Trigger1 = AnimTime = 0
value = 640
ctrl = 0

; FLIP BURGERS AND SKATEBOARD
[Statedef 870]
type    = A
movetype= A
physics = N
;velset = 0,0
ctrl = 0
anim = 870
sprpriority = -2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
x = ceil(p2dist x/2)
y = ceil(p2dist y/2)

[State 0, TargetFacing]
type = TargetFacing
trigger1 = time = 0
trigger1 = vel x < 0
value = 1
[State 0, Turn]
type = Turn
trigger1 = time = 0
trigger1 = vel x < 0

[State 0, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = vel x < 4
x = 4
[State 0, VelSet]
type = VelSet
trigger1 = time = 0
trigger1 = vel x > -7
y = -7

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 880

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1,1

[State 0, VelAdd]
type = VelAdd
trigger1 = time
y = 0.79

[State 810, Bind 1]
type = TargetBind
trigger1 = 1
pos = ceil(16*const(size.xscale)), ceil(-45*const(size.yscale))

[State 0, ChangeState]
type = ChangeState
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 871
ctrl = 0

[State 0, Width]
type = Width
trigger1 = 1
value = 9,9
ignorehitpause = 1

[Statedef 871]
type    = A
movetype= A
physics = N
;velset = 0,0
ctrl = 0
anim = 871
sprpriority = -2

[State 0, PosAdd]
type = VelSet
trigger1 = time = 0
x = vel x * 1.69
y = 0
[State 0, PosAdd]
type = PosSet
trigger1 = time = 0
y = 0

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 881

[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 8
freq = 236
ampl = -5

[State 810, Hurt 11]
type = TargetLifeAdd
trigger1 = time = 0
value = -90
persistent = 0

[State 5120, 3]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 5,3
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F62
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 7
ownpal = 1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F3
pos = floor(30*const(size.yscale)),0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 9
ontop = 1
ownpal = 1

[State 0, Explod]
type = Explod
trigger1 = (time%4)=0
anim = F120
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 6
ontop = 1
ownpal = 1

[State 0, VelSet]
type = VelSet
trigger1 = time
x = vel x * 0.95

[State 810, Bind 1]
type = TargetBind
trigger1 = 1
pos = ceil(30*const(size.xscale)), 0

[State 0, ChangeState]
type = ChangeState
trigger1 = time
trigger1 = abs(vel x) <= 0.9
value = 872
ctrl = 0

[State 0, Width]
type = Width
trigger1 = 1
value = 9,9
ignorehitpause = 1


[Statedef 872]
type    = A
movetype= A
physics = N
;velset = 0,0
ctrl = 0
anim = 40
sprpriority = -2

[State 0, PlayerPush]
type = PlayerPush
trigger1 = time = [0,9]
value = 0
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 882

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 40
trigger1 = AnimTime = 0
value = S0,ifelse(sysvar(2),8,7)

[State 40, 4]
type = VelSet
trigger1 = anim = 40
trigger1 = AnimTime = 0
x = const(velocity.jump.back.x) * 1.09
y = const(velocity.jump.y) * 0.71

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 40
trigger1 = AnimTime = 0
statetype = A
movetype = I
physics = A

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 40
trigger1 = AnimTime = 0
value = 43

;---------------------------------------------------------------------------
;Thrown
[Statedef 880]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 820, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 880

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5050

[Statedef 881]
type    = A
movetype= H
physics = N
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = 1
value = ifelse(selfanimexist(5170),5170,5100)

[State 820, 2]
type = SelfState
trigger1 = !gethitvar(isbound)
value = 5110

[Statedef 882]
type    = L
movetype= H
physics = N
velset = 0,0

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time = [0,9]
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(0) = 1

[State 820, 1]
type = ChangeAnim
Trigger1 = time = 0
value = ifelse(selfanimexist(5170),5170,5100)

[State 820, 1]
type = ChangeAnim
Triggerall = animtime = 0
trigger1 = anim = 5100
trigger2 = anim = 5170
value = 5110

[State 820, 2]
type = SelfState
trigger1 = time >= 29
value = 5110


;---------------------------------------------------------------------------
; Bawling
[Statedef 1000]
type    = S
movetype= I
physics = S
;juggle  = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 500
trigger1 = animelem = 2
value = S1000,random%4
channel = 0
lowpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bowling Uwe"
ID = 1000
stateno = 1004
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time < 100
triggerall = animelemtime(7) = 0
trigger1 = (var(55)<5) && (command = "holda" || command = "holdb")
trigger2 = var(52) = 1001
value = anim
elem = 6
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 9
movetype = A
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S0,3

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = -4 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 4
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 5
x = 11 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 8
x = -18 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 9
x = -30 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 10
x = -6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimTime = 0
x = -12 * const(size.xscale)

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Bawling 2
[Statedef 1010]
type    = S
movetype= I
physics = S
;juggle  = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 500
trigger1 = animelem = 2
value = S1000,random%4
channel = 0
lowpriority = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Bowling Uwe"
ID = 1000
stateno = 1004
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time < 100
triggerall = animelemtime(7) = 0
trigger1 = (var(55)<5) && (command = "holda" || command = "holdb")
trigger2 = var(52) = 1001
value = anim
elem = 6
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 9
movetype = A
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S0,3

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = -4 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 4
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 5
x = 11 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 8
x = -18 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 9
x = -30 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 10
x = -6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimTime = 0
x = -12 * const(size.xscale)

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Ball in the hands
[Statedef 1004]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1004
ctrl = 0
sprpriority = -1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(0) = (parent,stateno=1010)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,NT,ST,HT
time = 2
ignorehitpause = 1
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(4) < 0
time = 1
facing = 1
pos = ceil(-62*const(size.xscale)),ceil(-98*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(4) >= 0
trigger1 = parent,animelemtime(5) < 0
time = 1
facing = 1
pos = ceil(-82*const(size.xscale)),ceil(-115*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(5) >= 0
trigger1 = parent,animelemtime(8) < 0
time = 1
facing = 1
pos = ceil(-88*const(size.xscale)),ceil(-130*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(8) >= 0
trigger1 = parent,animelemtime(9) < 0
time = 1
facing = 1
pos = ceil(-61*const(size.xscale)),ceil(-110*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(9) >= 0
trigger1 = parent,animelemtime(10) < 0
time = 1
facing = 1
pos = ceil(-28*const(size.xscale)),ceil(-90*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(10) >= 0
time = 1
facing = 1
;pos = ceil(22*const(size.xscale)),ceil(-56*const(size.yscale))
pos = ceil(22*const(size.xscale)),ceil(-71*const(size.yscale))
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,anim = 1050
value = 1054
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,anim = 1000
trigger1 = parent,animelemtime(10) >= 0
value = 1005
ctrl = 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = parent,anim != 1000
value = 1007

;---------------------------------------------------------------------------
; Thrown
[Statedef 1005]
type    = A
movetype= A
physics = N
velset = ifelse(var(0)=0,4,8),-4
ctrl = 0
anim = 1005
sprpriority = 2

[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent,command = "holddown"
trigger2 = parent,var(52) = 1006
y = -2.9
[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent,command = "holdup"
trigger2 = parent,var(52) = 1007
y = -6.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = statetype = C
trigger1 = abs(vel x) <= 1
trigger1 = (time%3)=0
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 1006
forceair = 1
time = -1
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = time = 1
attr = A, SP
priority = 3,Hit
damage = 75 + ifelse(var(0)=1,10,0), 7
animtype = hard
guardflag = M
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 1
ground.type = low
ground.slidetime = 23
ground.hittime = 23
guard.hittime = 10
guard.velocity = -6
ground.velocity = -10.9
airguard.velocity = -1.9,-.8
air.type = low
air.velocity = -3.5,-9.9
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 0, VelMul]
type = VelMul
trigger1 = statetype = A
trigger1 = movecontact
x = -1.13
y = 1
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelAdd
trigger1 = statetype = A
trigger1 = movecontact
y = -1.9
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelMul
trigger1 = time
x = ifelse(statetype=A,0.99,ifelse(statetype=C,0.995,0.95))

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelMul
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
x = 0.75
persistent = 0
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F60
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,9
ignorehitpause = 1
persistent = 0
[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = statetype = C
attr = C, SP
priority = 2,Hit
damage = 50 + ifelse(var(0)=1,13,0), 0
animtype = hard
guardflag = L
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 1
guardsound = S6, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 10
guard.velocity = -6
ground.velocity = 4,-13.13
airguard.velocity = -1.9,-.8
air.type = trip
air.velocity = 4,-13.13
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
persistent = 0

[State ProRation]
type = ParentVarSet
trigger1 = statetype = A
trigger1 = movehit
fvar(13) = (parent,fvar(13)) * 0.8
ignorehitpause = 1
persistent = 0

;[State 0, ChangeState]
;type = ChangeState
;trigger1 =
;trigger1 = movecontact
;value = 1006
;ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = vel x > 0
trigger1 = frontedgedist <= -25
trigger2 = vel x < 0
trigger2 = backedgedist <= -25
trigger3 = statetype = C
trigger3 = abs(vel x) < 0.5


;---------------------------------------------------------------------------
; Bounced Back
[Statedef 1006]
type    = U
movetype= A
physics = N
ctrl = 0
sprpriority = 2

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = statetype = C
trigger1 = abs(vel x) <= 1
trigger1 = (time%3)=0
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 1006
time = -1
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = time = 1
attr = A, SP
priority = 3,Hit
damage = 100, 10
animtype = hard
guardflag = M
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 0
ground.type = low
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 10
guard.velocity = -6
ground.velocity = -10.9
airguard.velocity = -1.9,-.8
air.type = low
air.velocity = -3.5,-9.9
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
affectteam = F

[State 0, VelMul]
type = VelMul
trigger1 = statetype = A
trigger1 = movecontact
x = -1.13
y = 1
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelAdd
trigger1 = statetype = A
trigger1 = movecontact
y = -1.9
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelMul
trigger1 = statetype = C
trigger1 = movecontact
x = 0.95

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F60
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,9
ignorehitpause = 1
persistent = 0
[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = statetype = C
attr = C, SP
priority = 3,Hit
damage = 75, 0
animtype = hard
guardflag = L
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 1
guardsound = S6, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 10
guard.velocity = -6
ground.velocity = 4,-13.13
airguard.velocity = -1.9,-.8
air.type = trip
air.velocity = 4,-13.13
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
affectteam = F
persistent = 0

;[State 0, ChangeState]
;type = ChangeState
;trigger1 =
;trigger1 = movecontact
;value = 1006
;ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = vel x > 0
trigger1 = frontedgedist <= -25
trigger2 = vel x < 0
trigger2 = backedgedist <= -25
trigger3 = statetype = C
trigger3 = abs(vel x) < 0.5

;---------------------------------------------------------------------------
; Dropped
[Statedef 1007]
type    = A
movetype= A
physics = N
velset = -1,-1
ctrl = 0
anim = 1005
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = statetype = C
trigger1 = abs(vel x) <= 1
trigger1 = (time%3)=0
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 = statetype = C
x = 0.96

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F60
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,9
ignorehitpause = 1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = vel x > 0
trigger1 = frontedgedist <= -25
trigger2 = vel x < 0
trigger2 = backedgedist <= -25
trigger3 = statetype = C
trigger3 = abs(vel x) < 0.5

;---------------------------------------------------------------------------
; Explosive Bawling
[Statedef 1050]
type    = S
movetype= I
physics = S
;juggle  = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
poweradd= 0
velset = 0,0
anim = 1050
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 500
trigger1 = animelem = 2
value = S1050,random%5
channel = 0
lowpriority = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = time < 100
triggerall = animelemtime(10) = 0
trigger1 = (var(55)<5) && (command = "holda" || command = "holdb")
trigger2 = var(52) = 1001
value = anim
elem = 9
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 11
movetype = A
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S0,3

[State 1000, 2]
type = PosAdd
trigger1 = time = 0
x = -11 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 2
x = -17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 3
x = 4 * const(size.xscale)

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 6
x = -4 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 7
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 8
x = 11 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 11
x = -18 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 12
x = -30 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 13
x = -6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimTime = 0
x = -12 * const(size.xscale)

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; Ball in the hands
[Statedef 1054]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 1054
ctrl = 0
sprpriority = -1

[State 0, PalFX]
type = PalFX
trigger1 = var(7) >= 90
trigger1 = (var(7)%3)=0
time = 1
add = 100,64,0
color = 256
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,NT,ST,HT
time = 2
ignorehitpause = 1
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(2) < 0
time = 1
facing = 1
pos = ceil(-42*const(size.xscale)),ceil(-78*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(2) >= 0
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(13*const(size.xscale)),ceil(-77*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(6) < 0
time = 1
facing = 1
pos = ceil(4*const(size.xscale)),ceil(-88*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(6) >= 0
trigger1 = parent,animelemtime(7) < 0
time = 1
facing = 1
pos = ceil(-62*const(size.xscale)),ceil(-98*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(7) >= 0
trigger1 = parent,animelemtime(8) < 0
time = 1
facing = 1
pos = ceil(-82*const(size.xscale)),ceil(-115*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(8) >= 0
trigger1 = parent,animelemtime(11) < 0
time = 1
facing = 1
pos = ceil(-88*const(size.xscale)),ceil(-130*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(11) >= 0
trigger1 = parent,animelemtime(12) < 0
time = 1
facing = 1
pos = ceil(-61*const(size.xscale)),ceil(-110*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(12) >= 0
trigger1 = parent,animelemtime(13) < 0
time = 1
facing = 1
pos = ceil(-28*const(size.xscale)),ceil(-90*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(13) >= 0
time = 1
facing = 1
;pos = ceil(22*const(size.xscale)),ceil(-56*const(size.yscale))
pos = ceil(22*const(size.xscale)),ceil(-71*const(size.yscale))
ignorehitpause = 1

[State Start the fuse]
type = VarAdd
trigger1 = animelemtime(2) >= 0
var(7) = 1

[State 0, Blow up]
type = ChangeState
trigger1 = var(7) >= 120
value = 1056
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = parent,anim = 1050
trigger1 = parent,animelemtime(13) >= 0
value = 1055
ctrl = 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = parent,anim != 1050
value = ifelse(animelemtime(2)<0,1007,1057)

;---------------------------------------------------------------------------
; Thrown
[Statedef 1055]
type    = A
movetype= A
physics = N
velset = ifelse(var(0)=0,4,8),-4
ctrl = 0
anim = 1055
sprpriority = 2

[State 0, PalFX]
type = PalFX
trigger1 = var(7) >= 90
trigger1 = (var(7)%3)=0
time = 1
add = 100,64,0
color = 256
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent,command = "holddown"
trigger2 = parent,var(52) = 1006
y = -2.9
[State 0, VelSet]
type = VelSet
triggerall = time = 0
trigger1 = parent,command = "holdup"
trigger2 = parent,var(52) = 1007
y = -6.3

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = statetype = C
trigger1 = abs(vel x) <= 1
trigger1 = (time%3)=0
flag = invisible

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = ,NA,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 1056
forceair = 1
time = -1
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = time = 1
attr = A, SP
priority = 3,Hit
damage = 75 + ifelse(var(0)=1,10,0), 7
animtype = hard
guardflag = M
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 2
guardsound = S6, 1
ground.type = low
ground.slidetime = 23
ground.hittime = 23
guard.hittime = 10
guard.velocity = -6
ground.velocity = -10.9
airguard.velocity = -1.9,-.8
air.type = low
air.velocity = -3.5,-9.9
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 0, VelMul]
type = VelMul
trigger1 = statetype = A
trigger1 = movecontact
x = -1.13
y = 1
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelAdd
trigger1 = statetype = A
trigger1 = movecontact
y = -1.9
ignorehitpause = 1
persistent = 0
[State 0, VelMul]
type = VelMul
trigger1 = time
x = ifelse(statetype=A,0.99,ifelse(statetype=C,0.995,0.95))

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelMul
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
x = 0.75
persistent = 0
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F60
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,9
ignorehitpause = 1
persistent = 0
[State 200, 1]
type = HitDef
trigger1 = !movecontact
trigger1 = !movereversed
trigger1 = statetype = C
attr = C, SP
priority = 2,Hit
damage = 50 + ifelse(var(0)=1,13,0), 0
animtype = hard
guardflag = L
hitflag = MAF
pausetime = 6-(parent,var(49)), 6
sparkno = 2
sparkxy = 0, 0
hitsound = S5, 1
guardsound = S6, 0
ground.type = trip
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 10
guard.velocity = -6
ground.velocity = 2,-13.13
airguard.velocity = -1.9,-.8
air.type = trip
air.velocity = 2,-13.13
air.hittime = 20
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
persistent = 0

[State ProRation]
type = ParentVarSet
trigger1 = statetype = A
trigger1 = movehit
fvar(13) = (parent,fvar(13)) * 0.8
ignorehitpause = 1
persistent = 0

[State 0, VelMul]
type = VelMul
trigger1 = frontedgedist < 0
trigger1 = vel x > 0
trigger2 = backedgedist < 0
trigger2 = vel x < 0
x = -0.9

[State Start the fuse]
type = VarAdd
trigger1 = 1
var(7) = 1

[State 0, Blow up]
type = ChangeState
trigger1 = var(7) >= 120
value = 1056
ctrl = 0


;---------------------------------------------------------------------------
; Blow up
[Statedef 1056]
type    = A
movetype= A
physics = N
velset = 0,0
anim = 1059
ctrl = 0
sprpriority = 2

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = (parent,fvar(13))
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,13
channel = 0
[State 0, EnvShake]
type = EnvShake
trigger1 = time = 0
time = 25
freq = 255
ampl = -5

[State 200, 1]
type = HitDef
trigger1 = time = 0
attr = C, SP
damage = 200, 20
animtype = up
guardflag =
hitflag = MAFPD
pausetime = 0,0
sparkno = -1
guard.sparkno = -1
sparkxy = 0, 0
hitsound = -1
guardsound = -1
ground.type = hard
ground.slidetime = 20
ground.hittime  = 20
guard.hittime  = 10
guard.velocity = -6
ground.velocity = 0,-13.13
airguard.velocity = -1.9,-.8
air.type = hard
air.velocity = 0,-13.13
air.hittime = 20
fall = 1
air.fall = 1
fall.recovertime = 40
id = 123
yaccel = .8
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
affectteam = B
palfx.time = 30
palfx.add = 40,-70,-200
palfx.mul = 256,256,256
palfx.sinadd = 40,30,0,10
palfx.invertall = 1
palfx.color = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Dropped
[Statedef 1057]
type    = A
movetype= A
physics = N
velset = -1,-1
ctrl = 0
anim = 1055
sprpriority = 2

[State 0, PosAdd]
type = PosAdd
trigger1 = time = 0
y = -8

[State 0, AngleDraw]
type = AngleDraw
trigger1 = 1
ignorehitpause = 1
[State 0, AngleAdd]
type = AngleAdd
trigger1 = 1
value = vel x * -5

[State 0, PalFX]
type = PalFX
trigger1 = var(7) >= 90
trigger1 = (var(7)%3)=0
time = 1
add = 100,64,0
color = 256
ignorehitpause = 1

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,AA,AP,AT
time = 2
ignorehitpause = 1

[State 0, VelMul]
type = VelMul
trigger1 = statetype = C
x = 0.96

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F60
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,9
ignorehitpause = 1
persistent = 0

[State 0, VelMul]
type = VelMul
trigger1 = frontedgedist < 0
trigger1 = vel x > 0
trigger2 = backedgedist < 0
trigger2 = vel x < 0
x = -0.9

[State Start the fuse]
type = VarAdd
trigger1 = 1
var(7) = 1

[State 0, Blow up]
type = ChangeState
trigger1 = var(7) >= 120
value = 1056
ctrl = 0


;---------------------------------------------------------------------------
; Golden Heel Hurter
[Statedef 1100]
type    = S
movetype= A
physics = S
juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = 1100
poweradd = 90
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 500
trigger1 = animelem = 5
value = S1100,random%3
channel = 0
lowpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
x = 2.2
[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(4) = 0
x = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5
statetype = A
physics = N
ignorehitpause = 1
[State 0, VelAdd]
type = VelSet
trigger1 = animelem = 5
x = 4.4
y = -6
[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.44
[State 0, VelAdd]
type = VelMul
trigger1 = statetype = A
x = 0.96

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(0*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.75
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 13
value = 0, 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 14
value = S0,10+random%3
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
trigger5 = animelem = 13
trigger6 = animelem = 14
value = S0,10+random%3
channel = 2
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(1) := 58)
trigger2 = animelem = 6
trigger2 = (var(1) := 40)
trigger3 = animelem = 7
trigger3 = (var(1) := -13)
trigger4 = animelem = 8
trigger4 = (var(1) := -11)
trigger5 = animelem = 9
trigger5 = (var(1) := -24)
trigger6 = animelem = 10
trigger6 = (var(1) := -35)
trigger7 = animelem = 11
trigger7 = (var(1) := -44)
trigger8 = animelem = 12
trigger8 = (var(1) := -27)
trigger9 = animelem = 13
trigger9 = (var(1) := -33)
trigger10 = animelem = 14
trigger10 = (var(1) := -17)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(2) := -59)
trigger2 = animelem = 6
trigger2 = (var(2) := -19)
trigger3 = animelem = 7
trigger3 = (var(2) := -17)
trigger4 = animelem = 8
trigger4 = (var(2) := -22)
trigger5 = animelem = 9
trigger5 = (var(2) := -23)
trigger6 = animelem = 10
trigger6 = (var(2) := -29)
trigger7 = animelem = 11
trigger7 = (var(2) := -30)
trigger8 = animelem = 12
trigger8 = (var(2) := -11)
trigger9 = animelem = 13
trigger9 = (var(2) := -19)
trigger10 = animelem = 14
trigger10 = (var(2) := -25)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(3) := -4)
trigger2 = animelem = 6
trigger2 = (var(3) := -51)
trigger3 = animelem = 7
trigger3 = (var(3) := -61)
trigger4 = animelem = 8
trigger4 = (var(3) := -55)
trigger5 = animelem = 9
trigger5 = (var(3) := -39)
trigger6 = animelem = 10
trigger6 = (var(3) := 0)
trigger7 = animelem = 11
trigger7 = (var(3) := 53)
trigger8 = animelem = 12
trigger8 = (var(3) := 61)
trigger9 = animelem = 13
trigger9 = (var(3) := 116)
trigger10 = animelem = 14
trigger10 = (var(3) := 90)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(4) := -10)
trigger2 = animelem = 6
trigger2 = (var(4) := -27)
trigger3 = animelem = 7
trigger3 = (var(4) := -64)
trigger4 = animelem = 8
trigger4 = (var(4) := -119)
trigger5 = animelem = 9
trigger5 = (var(4) := -141)
trigger6 = animelem = 10
trigger6 = (var(4) := -169)
trigger7 = animelem = 11
trigger7 = (var(4) := -158)
trigger8 = animelem = 12
trigger8 = (var(4) := -176)
trigger9 = animelem = 13
trigger9 = (var(4) := -128)
trigger10 = animelem = 14
trigger10 = (var(4) := -12)
ignorehitpause = 1
[State 0, Projectile]
type = Projectile
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
trigger4 = animelem = 9
trigger5 = animelem = 10
trigger6 = animelem = 11
trigger7 = animelem = 12
trigger8 = animelem = 13
trigger9 = animelem = 14
ProjID = 1101
projanim = 1109
projscale = const(size.xscale),const(size.yscale)
projremove = 0
projremovetime = 38
velocity = 0,-0.01
remvelocity = 0,0
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = ifelse(animelemtime(12)<0,3,-1)
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = ceil(var(1)*const(size.xscale)),ceil(var(2)*const(size.yscale))
postype = p1
projshadow = 0,0,0
attr = A,SP
hitflag = A
guardflag = M
animtype = light
damage = 1,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 10
yaccel = .4
ground.velocity = -2.5
guard.velocity = -3.9
air.velocity = -2.5,-4
air.fall = 1
fall.recovertime = 60
nochainid = 1100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
[State 0, Projectile]
type = Projectile
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
trigger4 = animelem = 8
trigger5 = animelem = 9
trigger6 = animelem = 10
trigger7 = animelem = 11
trigger8 = animelem = 12
trigger9 = animelem = 13
trigger10 = animelem = 14
ProjID = 1101
projanim = 1109
projscale = const(size.xscale),const(size.yscale)
projremove = 0
projremovetime = 38
velocity = 0,-0.01
remvelocity = 0,0
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = ifelse(animelemtime(12)<0,-1,3)
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = ceil(var(3)*const(size.xscale)),ceil(var(4)*const(size.yscale))
postype = p1
projshadow = 0,0,0
attr = A,SP
hitflag = A
guardflag = M
animtype = light
damage = 1,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 10
yaccel = .4
ground.velocity = -2.5
guard.velocity = -3.9
air.velocity = -2.5,-4
air.fall = 1
fall.recovertime = 60
nochainid = 1100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 40, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 2
sparkxy = -10, ceil(-73 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 0
ground.type = high
ground.slidetime = ceil(21*ifelse(var(31),1.25,1))
ground.hittime = ceil(21*ifelse(var(31),1.25,1))
ground.velocity = -5,-5.13
guard.velocity = -6.8
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -5,-5.13
air.hittime = 30
fall = 1
guard.ctrltime = 10
fall.recovertime = 60
yaccel = .44
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 240
trigger1 = animelem = 9
trigger2 = anim = 241
trigger2 = animelem = 5
movetype = I

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = A, SA
damage = 75, 7
animtype = hard
guardflag = H
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 3
sparkxy = -10, ceil(-78 * const(size.yscale) )
hitsound = S5, 4
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(30*ifelse(var(31),1.2,1))
ground.hittime  = ceil(30*ifelse(var(31),1.2,1))
ground.velocity = -1,20
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -1,20
air.hittime = 30
fall = 1
guard.ctrltime = 8
;fall.recovertime = 40
fall.recover = 0
yaccel = ifelse(var(31),.74,.77)
ground.cornerpush.veloff = 0
id = 1100
[State this method is superior]
type = TargetState
trigger1 = numtarget(1100)
trigger1 = var(21) = 1
trigger1 = !(target(1100),ishelper) || (PlayerIDExist((target(1100),id)) )
value = 1105
ID = 1100
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 646
ctrl = 0

;---------------------------------------------------------------------------
; Golden Heel Hurter
[Statedef 1110]
type    = S
movetype= A
physics = S
juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
velset = 0,0
ctrl = 0
anim = 1110
poweradd = 90
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = random < 500
trigger1 = animelem = 5
value = S1100,random%3
channel = 0
lowpriority = 1

[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
x = 2.2
[State 0, VelSet]
type = VelSet
trigger1 = animelemtime(4) = 0
x = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 5
statetype = A
physics = N
ignorehitpause = 1
[State 0, VelAdd]
type = VelSet
trigger1 = animelem = 5
x = 4.4
y = -6
[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.43
[State 0, VelAdd]
type = VelMul
trigger1 = statetype = A
x = 0.98

[State Neo-Juggle-System-Flag]
type = VarSet
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(0*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.75
ignorehitpause = 1

[State 200, 1]
type = PlaySnd
trigger1 = animelem = 13
value = 0, 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 6
trigger2 = animelem = 8
trigger3 = animelem = 10
trigger4 = animelem = 12
trigger5 = animelem = 14
value = S0,10+random%3
channel = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 5
trigger2 = animelem = 7
trigger3 = animelem = 9
trigger4 = animelem = 11
trigger5 = animelem = 13
trigger6 = animelem = 14
value = S0,10+random%3
channel = 2
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 5
x = -1
y = -0.1
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 6
x = 1.5
y = -0.13
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 7
x = 0.1
y = -0.09
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 8
x = 0.07
y = -0.13
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 9
x = 0.03
y = -0.09
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 10
x = 0.05
y = -0.05
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 11
x = 0.07
y = -0.03
[State 0, VelAdd]
type = VelAdd
trigger1 = animelem = 12
x = -0.02
y = -0.1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(1) := 58)
trigger2 = animelem = 6
trigger2 = (var(1) := 40)
trigger3 = animelem = 7
trigger3 = (var(1) := -13)
trigger4 = animelem = 8
trigger4 = (var(1) := -11)
trigger5 = animelem = 9
trigger5 = (var(1) := -24)
trigger6 = animelem = 10
trigger6 = (var(1) := -35)
trigger7 = animelem = 11
trigger7 = (var(1) := -44)
trigger8 = animelem = 12
trigger8 = (var(1) := -27)
trigger9 = animelem = 13
trigger9 = (var(1) := -33)
trigger10 = animelem = 14
trigger10 = (var(1) := -17)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(2) := -59)
trigger2 = animelem = 6
trigger2 = (var(2) := -19)
trigger3 = animelem = 7
trigger3 = (var(2) := -17)
trigger4 = animelem = 8
trigger4 = (var(2) := -22)
trigger5 = animelem = 9
trigger5 = (var(2) := -23)
trigger6 = animelem = 10
trigger6 = (var(2) := -29)
trigger7 = animelem = 11
trigger7 = (var(2) := -30)
trigger8 = animelem = 12
trigger8 = (var(2) := -11)
trigger9 = animelem = 13
trigger9 = (var(2) := -19)
trigger10 = animelem = 14
trigger10 = (var(2) := -25)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(3) := -4)
trigger2 = animelem = 6
trigger2 = (var(3) := -51)
trigger3 = animelem = 7
trigger3 = (var(3) := -61)
trigger4 = animelem = 8
trigger4 = (var(3) := -55)
trigger5 = animelem = 9
trigger5 = (var(3) := -39)
trigger6 = animelem = 10
trigger6 = (var(3) := 0)
trigger7 = animelem = 11
trigger7 = (var(3) := 53)
trigger8 = animelem = 12
trigger8 = (var(3) := 61)
trigger9 = animelem = 13
trigger9 = (var(3) := 116)
trigger10 = animelem = 14
trigger10 = (var(3) := 90)
ignorehitpause = 1
[State 0, Null]
type = Null
trigger1 = animelem = 5
trigger1 = (var(4) := -10)
trigger2 = animelem = 6
trigger2 = (var(4) := -27)
trigger3 = animelem = 7
trigger3 = (var(4) := -64)
trigger4 = animelem = 8
trigger4 = (var(4) := -119)
trigger5 = animelem = 9
trigger5 = (var(4) := -141)
trigger6 = animelem = 10
trigger6 = (var(4) := -169)
trigger7 = animelem = 11
trigger7 = (var(4) := -158)
trigger8 = animelem = 12
trigger8 = (var(4) := -176)
trigger9 = animelem = 13
trigger9 = (var(4) := -128)
trigger10 = animelem = 14
trigger10 = (var(4) := -12)
ignorehitpause = 1
[State 0, Projectile]
type = Projectile
trigger1 = animelem = 6
trigger2 = animelem = 7
trigger3 = animelem = 8
trigger4 = animelem = 9
trigger5 = animelem = 10
trigger6 = animelem = 11
trigger7 = animelem = 12
trigger8 = animelem = 13
trigger9 = animelem = 14
ProjID = 1101
projanim = 1109
projscale = const(size.xscale),const(size.yscale)
projremove = 0
projremovetime = 38
velocity = 0,-0.01
remvelocity = 0,0
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = ifelse(animelemtime(12)<0,3,-1)
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = ceil(var(1)*const(size.xscale)),ceil(var(2)*const(size.yscale))
postype = p1
projshadow = 0,0,0
attr = A,SP
hitflag = A
guardflag = M
animtype = light
damage = 1,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 10
yaccel = .4
ground.velocity = -2.5
guard.velocity = -3.9
air.velocity = -2.5,-4
air.fall = 1
fall.recovertime = 60
nochainid = 1100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)
[State 0, Projectile]
type = Projectile
trigger1 = animelem = 5
trigger2 = animelem = 6
trigger3 = animelem = 7
trigger4 = animelem = 8
trigger5 = animelem = 9
trigger6 = animelem = 10
trigger7 = animelem = 11
trigger8 = animelem = 12
trigger9 = animelem = 13
trigger10 = animelem = 14
ProjID = 1101
projanim = 1109
projscale = const(size.xscale),const(size.yscale)
projremove = 0
projremovetime = 38
velocity = 0,-0.01
remvelocity = 0,0
projhits = 1
projmisstime = 0
projpriority = 1
projsprpriority = ifelse(animelemtime(12)<0,-1,3)
projedgebound = 40
projstagebound = 40
projheightbound = -240
offset = ceil(var(3)*const(size.xscale)),ceil(var(4)*const(size.yscale))
postype = p1
projshadow = 0,0,0
attr = A,SP
hitflag = A
guardflag = M
animtype = light
damage = 1,0
sparkno = -1
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High      ;Low,Trip,None
ground.slidetime = 20
ground.hittime = 20
air.hittime = 20
guard.ctrltime = 10
yaccel = .4
ground.velocity = -2.5
guard.velocity = -3.9
air.velocity = -2.5,-4
air.fall = 1
fall.recovertime = 60
nochainid = 1100
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
air.juggle = ifelse(var(42) & floor(exp(0*ln(2)) + 0.5) ,1,0)


[State 200, 1]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
damage = 40, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 2
sparkxy = -10, ceil(-73 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 0
ground.type = high
ground.slidetime = ceil(21*ifelse(var(31),1.25,1))
ground.hittime = ceil(21*ifelse(var(31),1.25,1))
ground.velocity = -5,-5.13
guard.velocity = -6.8
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -5,-5.13
air.hittime = 30
fall = 1
guard.ctrltime = 10
fall.recovertime = 60
yaccel = .44
ground.cornerpush.veloff = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 240
trigger1 = animelem = 9
trigger2 = anim = 241
trigger2 = animelem = 5
movetype = I

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 13
attr = A, SA
damage = 100, 10
animtype = hard
guardflag = H
hitflag = MAF
pausetime = 12-var(49), 12
sparkno = 3
sparkxy = -10, ceil(-78 * const(size.yscale) )
hitsound = S5, 4
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(30*ifelse(var(31),1.2,1))
ground.hittime  = ceil(30*ifelse(var(31),1.2,1))
ground.velocity = -1,20
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -1,20
air.hittime = 30
fall = 1
guard.ctrltime = 8
;fall.recovertime = 40
fall.recover = 0
yaccel = ifelse(var(31),.74,.77)
ground.cornerpush.veloff = 0
id = 1100
[State this method is superior]
type = TargetState
trigger1 = numtarget(1100)
trigger1 = var(21) = 1
trigger1 = !(target(1100),ishelper) || (PlayerIDExist((target(1100),id)) )
value = 1105
ID = 1100
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 646
ctrl = 0

;----------------------------------------------------------------------
[Statedef 1105]
type = A
movetype = H
physics = N

[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5061),5061,5050)
ignorehitpause = 1
[State 0, ChangeAnim2]
type = ChangeAnim
trigger1 = time = 0
value = anim
elem = animelemno(99)
ignorehitpause = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1
ignorehitpause = 1
[State 0, HitFallSet]
type = HitFallSet
trigger1 = time = 0
value = 1
[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 821, 1] ;Gravity
type = VelAdd
Trigger1 = hitshakeover
y = gethitvar(yaccel)

[State 821, 4] ;Hit ground
type = ChangeState
Trigger1 = hitshakeover
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
value = 1106 ;Hit ground

;---------------------------------------------------------------------------
; THIS PARTY'S GETTING BOUNCY!
[Statedef 1106]
type    = A
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1
[State COLLISION DAMAGE]
type = EnvShake
trigger1 = time = 0
time = 12
freq = 255
ampl = -7
[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)
[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = !selfanimexist(5101)
value = 5100
[State 5100, 3]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(5101)
value = 5101

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0
[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0
[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F60
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 0.5,3
[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F61
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 1,2
[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F62
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 2,2

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2
[State 5100, 11]
type = PosFreeze
trigger1 = 1
[State 5100, 12]
type = ChangeState
trigger1 = AnimTime = 0
value = 1107

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 1107]
type    = A
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160
[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = VelSet
trigger1 = Time = 0
x = -1
y = -13.73
[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = gethitvar(yaccel)

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 20
type = SelfState
value = 5110

;---------------------------------------------------------------------------
; Chainsaw
[Statedef 1150]
type    = S
movetype= I
physics = S
juggle  = ifelse(var(42) & floor(exp(1*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1150
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Chainsaw"
ID = 1150
stateno = 1158
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1
supermovetime = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(1*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * ifelse(anim=1152,0.9,0.99)
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 2
x = -4 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 3
x = -13 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 4
x = -7 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 5
x = -18 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 6
x = -3 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 8
x = 19 * const(size.xscale)
persistent = 0
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1152
trigger1 = AnimTime = 0
value = 1152

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim != 1152
trigger1 = AnimElem = 8
statetype = S
movetype = A
physics = N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1152
trigger1 = AnimElemTime(5) = 4
statetype = S
movetype = I
physics = N
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
x = 7 * const(size.xscale)
ignorehitpause = 1
persistent = 0
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 2
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 3
x = 6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 6
x = -1 * const(size.xscale)

[State 200, 1]
type = HitDef
trigger1 = movetype = A
trigger1 = anim = 1152
trigger1 = time >= 12
trigger1 = ((time-12)%3)=0
attr = S, SA
damage = 14 + ceil(20 / (hitcount + 1) ), 1
animtype = up
guardflag = M
hitflag = MAF
pausetime = 2-var(49), 2
sparkno = 12
sparkxy = -10, ceil(-116 * const(size.yscale) ) - (animelemtime(1)*6)
hitsound = S5, 8
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -1.8,-2 - (animelemtime(1)/2)
guard.velocity = -10
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -1,-1.13 - (animelemtime(1)*0.8)
air.hittime = 18
fall = 1
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 1000, 7]
type = ChangeState
trigger1 = anim = 1152
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Rushing Chainsaw
[Statedef 1160]
type    = S
movetype= I
physics = S
juggle  = ifelse(var(42) & floor(exp(1*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1160
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Chainsaw"
ID = 1150
stateno = 1158
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1
supermovetime = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(1*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * ifelse(anim=1152,0.9,0.99)
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 2
x = -4 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 3
x = -13 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 4
x = -7 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 5
x = -18 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 6
x = -3 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1152
trigger1 = AnimElem = 8
x = 19 * const(size.xscale)
persistent = 0
[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim != 1152
triggerall = AnimTime = 0
trigger1 = time >= 40
trigger2 = command != "holdy" || var(55) > 4
trigger2 = var(52) != 1151
value = 1152

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim != 1152
trigger1 = AnimElem = 8
value = S1160,0
channel = 0
lowpriority = 1

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim != 1152
trigger1 = AnimElem = 7
statetype = S
movetype = A
physics = N
ignorehitpause = 1
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1152
trigger1 = AnimElemTime(5) = 4
statetype = S
movetype = I
physics = N
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = anim != 1152
trigger1 = animelemtime(8) >= 0
x = 6.86
y = 0
[State 0, VelSet]
type = VelMul
trigger1 = anim = 1152
trigger1 = animelemtime(5) < 0
x = 0.94
[State 0, VelSet]
type = VelSet
trigger1 = anim = 1152
trigger1 = animelemtime(5) = 0
x = 0

[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
x = 7 * const(size.xscale)
ignorehitpause = 1
persistent = 0
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 2
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 3
x = 6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1152
trigger1 = AnimElem = 6
x = -1 * const(size.xscale)

[State 200, 1]
type = HitDef
trigger1 = movetype = A
trigger1 = anim != 1152
trigger1 = time >= 17
trigger1 = ((time-17)%3)=0
attr = S, SA
damage = 5 + ceil(10 / (hitcount + 1) ), 1
animtype = hard
guardflag = M
hitflag = MAFP
pausetime = 2-var(49), 2
sparkno = 12
sparkxy = -20, ceil(-84 * const(size.yscale) )
hitsound = S5, 8
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -5
guard.velocity = -5
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -4.9,-4.5
air.hittime = 12
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 200, 1]
type = HitDef
trigger1 = movetype = A
trigger1 = anim = 1152
trigger1 = time >= 17
trigger1 = ((time-17)%3)=0
attr = S, SA
damage = 14 + ceil(20 / (hitcount + 1) ), 1
animtype = up
guardflag = M
hitflag = MAFP
pausetime = 2-var(49), 2
sparkno = 12
sparkxy = -10, ceil(-116 * const(size.yscale) ) - (animelemtime(1)*6)
hitsound = S5, 8
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -1.8,-2 - (animelemtime(1)/2)
guard.velocity = -10
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -1,-1.13 - (animelemtime(1)*0.8)
air.hittime = 18
fall = 1
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0

[State 1000, 7]
type = ChangeState
trigger1 = anim = 1152
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; in the hands
[Statedef 1158]
type    = A
movetype= I
physics = N
velset = 0,0
anim = 9741
ctrl = 0
sprpriority = 2

;[State 0, AssertSpecial]
;type = AssertSpecial
;trigger1 = 1
;flag = invisible
;ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(2) < 0
time = 1
facing = 1
pos = ceil(-15*const(size.xscale)),ceil(-68*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(2) >= 0
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(-72*const(size.xscale)),ceil(-67*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(4) < 0
time = 1
facing = 1
pos = ceil(-24*const(size.xscale)),ceil(-36*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(4) >= 0
trigger1 = parent,animelemtime(5) < 0
time = 1
facing = 1
pos = ceil(-8*const(size.xscale)),ceil(-48*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(5) >= 0
trigger1 = parent,animelemtime(6) < 0
time = 1
facing = 1
pos = ceil(23*const(size.xscale)),ceil(-30*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(6) >= 0
trigger1 = parent,animelemtime(8) < 0
time = 1
facing = 1
pos = ceil(21*const(size.xscale)),ceil(-33*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1150 || parent, anim = 1160
trigger1 = parent,animelemtime(8) >= 0
time = 1
facing = 1
pos = ceil(50*const(size.xscale)),ceil(-51*const(size.yscale))
ignorehitpause = 1


[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(2) < 0
time = 1
facing = 1
pos = ceil(66*const(size.xscale)),ceil(-74*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(2) >= 0
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(73*const(size.xscale)),ceil(-93*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(4) < 0
time = 1
facing = 1
pos = ceil(76*const(size.xscale)),ceil(-115*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(4) >= 0
trigger1 = parent,animelemtime(5) < 0
time = 1
facing = 1
pos = ceil(76*const(size.xscale)),ceil(-140*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(5) >= 0
trigger1 = parent,animelemtime(6) < 0
time = 1
facing = 1
pos = ceil(77*const(size.xscale)),ceil(-150*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1152
trigger1 = parent,animelemtime(6) >= 0
;trigger1 = parent,animelemtime(7) < 0
time = 1
facing = 1
pos = ceil(69*const(size.xscale)),ceil(-83*const(size.yscale))
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(2) < 0
time = 1
facing = 1
pos = ceil(27*const(size.xscale)),ceil(-76*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(2) >= 0
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(-70*const(size.xscale)),ceil(-69*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(4) < 0
time = 1
facing = 1
pos = ceil(18*const(size.xscale)),ceil(-32*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(4) >= 0
trigger1 = parent,animelemtime(5) < 0
time = 1
facing = 1
pos = ceil(3*const(size.xscale)),ceil(-71*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(5) >= 0
trigger1 = parent,animelemtime(6) < 0
time = 1
facing = 1
pos = ceil(0*const(size.xscale)),ceil(-114*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1200
trigger1 = parent,animelemtime(6) >= 0
time = 1
facing = 1
pos = ceil(-59*const(size.xscale)),ceil(-131*const(size.yscale))
ignorehitpause = 1

[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(2) < 0
time = 1
facing = 1
pos = ceil(-4*const(size.xscale)),ceil(-145*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(2) >= 0
trigger1 = parent,animelemtime(3) < 0
time = 1
facing = 1
pos = ceil(39*const(size.xscale)),ceil(-148*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(3) >= 0
trigger1 = parent,animelemtime(4) < 0
time = 1
facing = 1
pos = ceil(62*const(size.xscale)),ceil(-128*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(4) >= 0
trigger1 = parent,animelemtime(5) < 0
time = 1
facing = 1
pos = ceil(83*const(size.xscale)),ceil(-103*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(5) >= 0
trigger1 = parent,animelemtime(6) < 0
time = 1
facing = 1
pos = ceil(96*const(size.xscale)),ceil(-70*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(6) >= 0
trigger1 = parent,animelemtime(7) < 0
time = 1
facing = 1
pos = ceil(113*const(size.xscale)),ceil(-41*const(size.yscale))
ignorehitpause = 1
[State 0, BindToParent]
type = BindToParent
trigger1 = parent,anim = 1202
trigger1 = parent,animelemtime(7) >= 0
trigger2 = parent,anim = 1230
time = 1
facing = 1
pos = ceil(111*const(size.xscale)),ceil(-4*const(size.yscale))
ignorehitpause = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,17
channel = 0

[State 0, VarSet]
type = VarAdd
trigger1 = parent,movetype = A
trigger2 = parent,stateno = [1200,1210]
trigger2 = time >= 6
;trigger1 = var(2) = 0
var(2) = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = parent,movetype = A
trigger2 = parent,stateno = [1200,1210]
trigger2 = time >= 6
value = S0,14
abspan = 0
channel = 0
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) >= 14
trigger1 = parent,movetype = A
trigger2 = parent,stateno = [1200,1210]
trigger2 = parent,time >= 6
trigger2 = parent,anim != 1202
value = S0,15
abspan = 0
channel = 0
;lowpriority = 1
loop = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
triggerall = var(2) >= 1
trigger1 = parent,stateno != 1150
trigger1 = parent,stateno != 1160
trigger1 = parent,stateno != 1200
trigger1 = parent,stateno != 1210
trigger1 = parent,stateno != 1230
trigger2 = parent,stateno = [1150,1160]
trigger2 = parent,anim = 1152
trigger2 = parent,movetype != A
trigger3 = parent,stateno = [1200,1210]
trigger3 = parent,anim = 1202
trigger3 = parent,movetype != A
trigger4 = parent,stateno = 1230
trigger4 = parent,anim = 1230
trigger4 = parent,animelemtime(53) >= 0
value = S0,16
abspan = 0
channel = 0
persistent = 0

[State 0, DestroySelf]
type = ChangeState
trigger1 = parent,stateno != 1150
trigger1 = parent,stateno != 1160
trigger1 = parent,stateno != 1200
trigger1 = parent,stateno != 1210
trigger1 = parent,stateno != 1230
trigger2 = parent,stateno = [1150,1160]
trigger2 = parent,anim = 1152
trigger2 = parent,animelemtime(7) >= 0
trigger3 = parent,stateno = [1200,1210]
trigger3 = parent,anim = 1202
trigger3 = parent,animelemtime(11) >= 0
trigger4 = parent,stateno = 1230
trigger4 = parent,anim = 1230
trigger4 = parent,animelemtime(56) >= 0
value = 1159

;---------------------------------------------------------------------------
; Dropped
[Statedef 1159]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 1159
sprpriority = 3

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,18

[State 0, VarSet]
type = VarAdd
trigger1 = statetype = C
var(4) = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = statetype = C
trigger1 = (var(4)%3)=0
trigger1 = var(4) >= 20
flag = invisible

[State 0, VelAdd]
type = VelAdd
trigger1 = statetype = A
y = 0.88
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = statetype = A
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
statetype = C
[State 0, VelAdd]
type = VelSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, VelAdd]
type = PosSet
trigger1 = statetype = C
trigger2 = vel y > 0
trigger2 = vel y + pos y >= 0
y = 0
[State 0, Explod]
type = Explod
trigger1 = statetype = C
anim = F61
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = -4
ownpal = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = statetype = C
value = S0,19
ignorehitpause = 1
persistent = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(4) >= 40

;---------------------------------------------------------------------------
; Chainsaw
[Statedef 1200]
type    = S
movetype= I
physics = S
juggle  = ifelse(var(42) & floor(exp(2*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Chainsaw"
ID = 1150
stateno = 1158
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1
supermovetime = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(2*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * ifelse(anim=1152,0.9,0.99)
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 2
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 3
x = 10 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 4
x = 20 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 5
x = 19 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 6
x = 6 * const(size.xscale)
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1202
trigger1 = animtime = 0
value = 1202

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1202
statetype = S
movetype = A
physics = N
ignorehitpause = 1
persistent = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1202
trigger1 = AnimElemTime(8) = 0
statetype = S
movetype = I
physics = N
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
x = 10 * const(size.xscale)
ignorehitpause = 1
persistent = 0
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 2
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 3
x = 13 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 4
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 5
x = 6 * const(size.xscale)

[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(3) < 0
var(1) = animelemno(0)
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
var(1) = 12
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(5) < 0
var(1) = 22
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(6) < 0
var(1) = 32
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(6) >= 0
trigger1 = animelemtime(7) < 0
var(1) = 42
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(7) >= 0
var(1) = 52
ignorehitpause = 1
;[State 0, VarSet]
;type = VarSet
;trigger1 = anim = 1202
;var(1) = ifelse(animelemno(0)>=3,animelemno(0),(animelemno(0)*10)-18)

[State 800, 1]
type = HitDef
trigger1 = prevstateno != [200,699]
Trigger1 = anim = 1202
attr = S, ST
hitflag = H-
priority = 2, Miss
sparkno = -1
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1230
guard.dist = 0
fall = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = anim = 1202
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
;trigger7 = animelem = 8
attr = S, SA
damage = 20 + ceil(25 / (hitcount + 1) ), 1
animtype = hard
guardflag = H
hitflag = MAF
pausetime = 2-var(49), 2
sparkno = 12
sparkxy = -10, ceil(-240 * const(size.yscale) ) + (animelemtime(1)*6)
hitsound = S5, 8
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(20*ifelse(var(31),1.4,1))
ground.hittime  = ceil(20*ifelse(var(31),1.4,1))
ground.velocity = -4
guard.velocity = -10
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -3,-4.4
air.hittime = 18
;fall = 1
air.fall = 1
guard.ctrltime = 10
fall.damage = 1
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
id = 1201
kill = (p2statetype=A)
p1facing = 1
p2facing = 1

[State this method is superior]
type = ChangeState
trigger1 = numtarget(1201)
trigger1 = var(21) = 1
trigger1 = !(target(1201),ishelper) || (PlayerIDExist((target(1201),id)) )
trigger1 = target(1201),statetype != A
value = 1230
ID = 1201
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = anim = 1202
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Chainsaw
[Statedef 1210]
type    = S
movetype= I
physics = S
juggle  = ifelse(var(42) & floor(exp(2*ln(2)) + 0.5) ,1,0)
poweradd= 100
velset = 0,0
anim = 1200
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Chainsaw"
ID = 1150
stateno = 1158
pos = ceil(35*const(size.xscale)),ceil(-84*const(size.yscale))
postype = p1
facing = 1
ownpal = 1
supermovetime = 1

[State Neo-Juggle-System-Flag]
type = VarSet
;trigger1 = !(var(40) & floor(exp(1*ln(2)) + 0.5) )
trigger1 = movehit = [1,2]
trigger1 = numtarget
trigger1 = (target,statetype = A) || (target,statetype = L)
var(42) = var(42) | floor(exp(2*ln(2)) + 0.5)
ignorehitpause = 1
persistent = 0
[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * ifelse(anim=1152,0.9,0.99)
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 2
x = 17 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 3
x = 10 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 4
x = 20 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 5
x = 19 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim != 1202
trigger1 = AnimElem = 6
x = 6 * const(size.xscale)
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 1202
trigger1 = time >= 23
trigger1 = animtime = 0
value = 1202

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1202
statetype = S
movetype = A
physics = N
ignorehitpause = 1
persistent = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 1202
trigger1 = AnimElemTime(8) = 0
statetype = S
movetype = I
physics = N
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 1202
x = 4.4
persistent = 0
[State 0, VelSet]
type = VelMul
trigger1 = anim = 1202
trigger1 = animelemtime(10) < 0
x = ifelse(animelemtime(6)>=0,0.93,0.96)
[State 0, VelSet]
type = VelSet
trigger1 = anim = 1202
trigger1 = animelem = 10
x = 0

[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
x = 10 * const(size.xscale)
ignorehitpause = 1
persistent = 0
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 2
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 3
x = 13 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 4
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = anim = 1202
trigger1 = animelem = 5
x = 6 * const(size.xscale)

[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(3) < 0
var(1) = animelemno(0)
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(3) >= 0
trigger1 = animelemtime(4) < 0
var(1) = 12
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(4) >= 0
trigger1 = animelemtime(5) < 0
var(1) = 22
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(5) >= 0
trigger1 = animelemtime(6) < 0
var(1) = 32
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(6) >= 0
trigger1 = animelemtime(7) < 0
var(1) = 42
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
trigger1 = anim = 1202
trigger1 = animelemtime(7) >= 0
var(1) = 52
ignorehitpause = 1
;[State 0, VarSet]
;type = VarSet
;trigger1 = anim = 1202
;var(1) = ifelse(animelemno(0)>=3,animelemno(0),(animelemno(0)*10)-18)

[State 800, 1]
type = HitDef
trigger1 = prevstateno != [200,699]
Trigger1 = anim = 1202
attr = S, ST
hitflag = H-
priority = 2, Miss
sparkno = -1
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 1230
guard.dist = 0
fall = 1
persistent = 0

[State 200, 1]
type = HitDef
triggerall = anim = 1202
trigger1 = animelem = 2
trigger2 = animelem = 3
trigger3 = animelem = 4
trigger4 = animelem = 5
trigger5 = animelem = 6
trigger6 = animelem = 7
attr = S, SA
damage = 20 + ceil(25 / (hitcount + 1) ), 1
animtype = hard
guardflag = H
hitflag = MAF
pausetime = 2-var(49), 2
sparkno = 12
sparkxy = -10, ceil(-240 * const(size.yscale) ) + (animelemtime(1)*6)
hitsound = S5, 8
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(20*ifelse(var(31),1.4,1))
ground.hittime  = ceil(20*ifelse(var(31),1.4,1))
ground.velocity = -4
guard.velocity = -10
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -3,-4.4
air.hittime = 18
;fall = 1
air.fall = 1
guard.ctrltime = 10
fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
id = 1201
kill = (p2statetype=A)
fall.damage = 1
p1facing = 1
p2facing = 1

[State this method is superior]
type = ChangeState
trigger1 = numtarget(1201)
trigger1 = var(21) = 1
trigger1 = !(target(1201),ishelper) || (PlayerIDExist((target(1201),id)) )
trigger1 = target(1201),statetype != A
value = 1230
ID = 1201
ignorehitpause = 1

[State 1000, 7]
type = ChangeState
trigger1 = anim = 1202
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;---------------------------------------------------------------------------
; Chainsaw
[Statedef 1230]
type    = S
movetype= A
physics = S
juggle  = 0
poweradd= 100
velset = 0,0
sprpriority = 2

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 1200,random%2
channel = 0
lowpriority = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(0) = 0
[State 0, VarSet]
type = VarAdd
triggerall = animelemtime(52) < 0
trigger1 = command = "x"
trigger2 = command = "y"
var(0) = 1

[State 0, VarSet]
type = VarSet
trigger1 = 1
var(6) = 2

[State 1000, 2]
type = PosAdd
trigger1 = animelem = 2
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = animelem = 12
x = 13 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = animelem = 22
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = animelem = 32
x = 6 * const(size.xscale)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 1230
elem = ifelse(animelemno(0)<3,animelemno(0),var(1) )
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 1231

[State 0, Offset]
type = Offset
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
x = random%2 * ifelse(random<500,-1,1)
y = random%2
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
trigger2 = animelem = 52
value = S5,8

[State 0, HitAdd]
type = HitAdd
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
trigger2 = animelem = 52
value = 1

[State 0, TargetLifeAdd]
type = TargetLifeAdd
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
trigger2 = animelem = 52
value = ceil((-10 - var(0)) * ifelse(animelemtime(52)>=0,2,1) * fvar(13))
kill = ifelse(animelemtime(52)>=0,-1,0)
;absolute = 1
ignorehitpause = 1
[State 0, HitAdd]
type = VarSet
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
trigger2 = animelem = 52
fvar(13) = fvar(13) * 0.99
[State 0, Explod]
type = Explod
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
trigger2 = animelem = 52
anim = F 10 + random%3
pos = ceil( (58 + floor(animelemtime(2)*3) ) * const(size.xscale)  ),ceil( (-259 + floor(animelemtime(2)*3) ) * const(size.yscale)  )
;pos = ceil( (58 + (animelemtime(2)*2) ) * const(size.xscale)  ),ceil( (-259 + ceil(animelemtime(2)*2) ) * const(size.yscale)  )
postype = p1
facing = ifelse(random<500,-1,1)
vfacing = ifelse(random<500,-1,1)
bindtime = 1
vel = 0,0
accel = 0,0
random = 0,0
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = 9
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, TargetState]
type = TargetState
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
value = ifelse(animelemtime(38)>=0,1232,1231)
[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = (time%5)=0
trigger1 = animelemtime(2) >= 0
trigger1 = animelemtime(52) < 0
x = -1

[State 0, TargetState]
type = TargetState
trigger1 = animelem = 52
value = 1233

[State 1000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 1231]
type    = U
movetype= H
physics = N
juggle  = 0
velset = 0,0

[State 0, Offset]
type = Offset
trigger1 = 1
x = random%2 * ifelse(random<500,-1,1)
y = random%2
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, VelMul]
type = VelSet
trigger1 = time = 0
x = -1.8
[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5002+ifelse(statetype=C,20,0)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (anim%10)=2
trigger1 = animtime = 0
value = 5007+ifelse(statetype=C,20,0)

[State 1000, 7]
type = SelfState
trigger1 = time >= 60
value = 5050
ctrl = 0

[Statedef 1232]
type    = U
movetype= H
physics = N
juggle  = 0
velset = 0,0

[State 0, Offset]
type = Offset
trigger1 = 1
x = random%2 * ifelse(random<500,-1,1)
y = random%2
ignorehitpause = 1

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0
[State 0, VelMul]
type = VelSet
trigger1 = time = 0
x = -1
[State 0, VelMul]
type = VelMul
trigger1 = 1
x = 0.9

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5012+ifelse(statetype=C,10,0)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = (anim%10)=2
trigger1 = animtime = 0
value = 5017+ifelse(statetype=C,10,0)

[State 1000, 7]
type = SelfState
trigger1 = time >= 60
value = 5050
ctrl = 0

[Statedef 1233]
type    = L
movetype= H
physics = N
juggle  = 0
velset = 0,0

[State 0, PosSet]
type = PosSet
trigger1 = time = 0
y = 0

[State 5100, 8]
type = Explod
trigger1 = Time = 0
anim = F62
pos = 0, 0
postype = p1
bindtime = 1
under = 1
supermovetime = 65535
pausemovetime = 65535

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 0
value = F7, 2

[State 0, NotHitBy]
type = NotHitBy
trigger1 = time < 12
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = animtime = 0
sysvar(0) = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = ifelse(selfanimexist(5101),5101,5100)
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = animtime = 0
value = ifelse(selfanimexist(5111),5111,5110)
persistent = 0

[State 1000, 7]
type = SelfState
trigger1 = time >= 30
value = 5110
ctrl = 0



;---------------------------------------------------------------------------
; Cornholio Rush
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 1
value = S3001,0
channel = 0
lowpriority = 1
ignorehitpause = 1
persistent = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(6) = 60
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
pos = 0,0
darken = 0
p2defmul = 1
poweradd = -1000
unhittable = 1
endcmdbufftime = 8
[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super LightBulb"
ID = 3900
stateno = 3900
pos = ceil(16*const(size.yscale) ), ceil(-282*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535

[State ProRation]
type = VarSet
trigger1 = var(21) = 1
fvar(13) = fvar(13) * 0.99
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelemtime(7) = 0
value = S3000,random%5
channel = 0
volume = 255
ignorehitpause = 1
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3000
trigger1 = animelemtime(7) >= 0
x = 6.9

[State 0, VarSet]
type = VarSet
trigger1 = !movecontact
var(0) = var(31)

[State 200, 1]
type = HitDef
trigger1 = AnimElem = 9
trigger2 = AnimElem = 13
trigger3 = AnimElem = 17
trigger4 = AnimElem = 21
trigger5 = AnimElem = 25
trigger6 = AnimElem = 29
trigger7 = AnimElem = 33
trigger8 = AnimElem = 37
attr = A, HA
damage = ceil( (70 + hitcount) / (1 + hitcount) ), 2;25 + ceil(75 / (1 + hitcount) ), 2
animtype = hard
guardflag = H
hitflag = MAF
pausetime = 2-var(49), 2
sparkno = 3
sparkxy = -10, ceil(-142 * const(size.yscale) )
hitsound = S5, 4
guardsound = S6, 1
ground.type = low
ground.slidetime = ceil(30*ifelse(var(31),1.2,1))
ground.hittime  = ceil(30*ifelse(var(31),1.2,1))
ground.velocity = -6.8,64
guard.velocity = -11.13
airguard.velocity = -6.8,-4.4
air.type = low
air.velocity = -6.8,64
air.hittime = 30
fall = 1
guard.ctrltime = 12
fall.recover = 0
;fall.recovertime = 40
yaccel = ifelse(var(0),.66,.73)
ground.cornerpush.veloff = 0
id = 3000
p2facing = 1
getpower = 0
[State this method is superior]
type = TargetState
trigger1 = numtarget(3000)
trigger1 = var(21) = 1
trigger1 = !(target(3000),ishelper) || (PlayerIDExist((target(3000),id)) )
value = 3003;1105
ID = 3000
ignorehitpause = 1

[State 3000, 7]
type = ChangeAnim
trigger1 = anim = 3000
trigger1 = time >= ifelse(movehit,215,150)
trigger1 = AnimTime = 0
value = 3002

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 3002
movetype = I
persistent = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3002
x = 0
persistent = 0

[State 3000, 7]
type = ChangeState
trigger1 = anim = 3002
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; THIS PARTY'S GETTING BOUNCY!
[Statedef 3003]
type    = A
movetype= H
physics = N

[State 5100, 1]
type = VelSet
trigger1 = Time = 0
trigger1 = GetHitVar(fall.yvel) = 0
trigger1 = vel x > 1
x = 1
[State COLLISION DAMAGE]
type = EnvShake
trigger1 = time = 0
time = 12
freq = 255
ampl = -7
[State 5100, Var] ;Save fall velocity
type = VarSet
trigger1 = Time = 0
sysvar(1) = floor(vel y)
[State 5100, 2] ;Hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0 || !hitshakeover
trigger1 = !selfanimexist(5101)
value = 5100
[State 5100, 3]
type = ChangeAnim
trigger1 = time = 0 || !hitshakeover
trigger1 = selfanimexist(5101)
value = 5101

[State 5100, 4]
type = PosSet
trigger1 = Time = 0
y = 0
[State 5100, 5]
type = VelSet
trigger1 = Time = 0
y = 0
[State 5100, 6] ;Reduce speed
type = VelMul
trigger1 = Time = 0
x = 0.75

[State 5100, 8]
type = Explod
trigger1 = Time = 1
anim = F62
pos = 0, 0
sprpriority = -2
supermovetime = 65535
pausemovetime = 65535
scale = 1,1

[State 5100, 10]
type = PlaySnd
trigger1 = Time = 1
value = F7, 2
[State 5100, 11]
type = PosFreeze
trigger1 = 1
[State 5100, 12]
type = ChangeState
trigger1 = time = 2
trigger2 = AnimTime = 0
value = 3004

[State 5100, 13]
type = ForceFeedback
trigger1 = Time = 0
waveform = sinesquare
ampl = 128,-3,-.2,.005
time = 20

;---------------------------------------------------------------------------
; HIT_BOUNCE (bounce into air)
[Statedef 3004]
type    = A
movetype= H
physics = N

[State 5101, 1] ;Coming hit ground anim (normal)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim != [5101,5109]
trigger2 = !SelfAnimExist(5160 + (anim % 10))
value = 5160
[State 5101, 2] ;Coming hit ground anim (for hit up)
type = ChangeAnim
triggerall = time = 0
trigger1 = anim = [5101,5109]
trigger1 = SelfAnimExist(5160 + (anim % 10))
value = 5160 + (anim % 10)

[State 5101, 3]
type = VelSet
trigger1 = Time = 0
x = -6.6
y = -10.937
[State 5101, 5] ;Acceleration
type = VelAdd
trigger1 = 1
y = .713

[State 5101, 6] ;Hit ground
trigger1 = Vel Y > 0
trigger1 = Pos Y >= 6
type = SelfState
value = 5110

;---------------------------------------------------------------------------
; Flamings Shits of Leonard Cohen
[Statedef 3050]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3050
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(0) = (!var(55) && command="y") | (var(52)=3051)
[State 0, VarSet]
type = VarSet
trigger1 = 1
var(1) = ( var(55) < 5 && (command = "holdx" || command = "holdy") ) || (var(52)=3052)

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(6) = 60
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
pos = ceil(43*const(size.xscale) ), ceil(-175*const(size.yscale) )
darken = 0
p2defmul = 1
poweradd = -1000
unhittable = 1
endcmdbufftime = 8
[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super LightBulb"
ID = 3900
stateno = 3900
pos = ceil(16*const(size.yscale) ), ceil(-282*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = 3000
anim = 4103
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1


[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
trigger1 = random < 500
value = S3050,random%2
channel = 0
lowpriority = 1
[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "Ash Crimson's Ashes"
ID = 3050
stateno = 3055
pos = ceil(13*const(size.xscale) ), ceil(-114*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1

[State 3000, 7]
type = ChangeState
trigger1 = var(1) = 1
trigger1 = AnimTime = 0
value = 3051
ctrl = 0

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3051]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3051
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 1
[State 0, VarSet]
type = VarAdd
trigger1 = time > 8
trigger1 = anim != 3052
trigger1 = fvar(0) > 0.1
fvar(0) = -0.00769230769230769
[State 0, VarSet]
type = VarAdd
trigger1 = time
trigger1 = anim = 3052
trigger1 = fvar(0) < 1
fvar(0) = 0.1

[State 0, PalFX]
type = PalFX
trigger1 = fvar(0) < 1
time = 1
add = 0,0,0
mul = 256,ceil(256*fvar(0)),ceil(256*fvar(0))
color = ceil(256*fvar(0))
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = anim = 3051
trigger1 = animelem = 2
anim = 3065
ID = 3065
pos = -4,-4
postype = p1
facing = 1
vfacing = 1
bindtime = -1
removetime = -1
scale = const(size.xscale),const(size.yscale)
sprpriority = 3
ownpal = 1
removeongethit = 1
ignorehitpause = 1
persistent = 0

[State 0, RemoveExplod]
type = RemoveExplod
trigger1 = numexplod(3065)
trigger1 = anim != 3051
id = 3065
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = var(1) != 0
var(1) = ( var(55) < 5 && (command = "holdx" || command = "holdy") ) || (var(52)=3052)

[State 3000, 7]
type = ChangeAnim
triggerall = time > 6
triggerall = anim = 3051
trigger1 = var(1) != 1
;trigger2 = time > 130
value = 3052

[State 3000, 7]
type = ChangeAnim
triggerall = time > 6
triggerall = anim = 3051
trigger1 = time > 147
value = 100
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = anim = 100
statetype = S
movetype = H
physics = N
ignorehitpause = 1
persistent = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 100
value = S5000,18
channel = 0
ignorehitpause = 1
persistent = 0
[State 0, Turn]
type = Turn
trigger1 = anim = 100
trigger1 = vel x > 0
trigger1 = frontedgebodydist <= 8
ignorehitpause = 1
[State 0, VelSet]
type = VelSet
trigger1 = anim = 100
x = 6.6
y = 0
ignorehitpause = 1
[State 0, PlayerPush]
type = PlayerPush
trigger1 = anim = 100
value = 0
ignorehitpause = 1
[State 0, LifeAdd]
type = LifeAdd
trigger1 = anim = 100
;trigger1 = (time%2)=0
value = -1
kill = (time >= 230)
absolute = 1
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = anim = 100
trigger1 = (time%9)=0
anim = 3066
ID = 3066
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
scale = const(size.xscale),const(size.yscale)
sprpriority = 5
ownpal = 1
ignorehitpause = 1

[State 3000, 7]
type = ChangeState
trigger1 = anim = 3052
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[State 3000, 7]
type = ChangeState
trigger1 = anim = 100
trigger1 = time >= 240
value = 5050
ctrl = 0


; Explosive fart joke
[Statedef 3055]
type    = S
movetype= A
physics = N
juggle  = 0
poweradd= 0
velset = ifelse((parent,var(0)=1),7.6,2.9),0
ctrl = 0
anim = 9741

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = (time%4)=0
value = S0,10+random%3
channel = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = ifelse((parent,var(0)=1),7.6,2.9)
[State 0, VarSet]
type = VarSet
trigger1 = 1
var(1) = (parent,anim=[3050,3051]) && (parent,stateno=[3050,3051]) && (parent,var(1)=1)
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(2) = 0
[State 0, VarSet]
type = VarSet
trigger1 = var(2) = 0
trigger1 = parent,movetype = H
var(2) = 1
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(3) = 1
[State 0, VarSet]
type = VarAdd
trigger1 = var(2) = 1
trigger1 = fvar(3) > 0
fvar(3) = -0.1
[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(2) = 1
[State 0, VarSet]
type = VarSet
trigger1 = var(2) = 1
trigger1 = fvar(3) <= 0.2
fvar(2) = fvar(2) * 0.98

[State 0, 8]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdup"
trigger1 = parent,command != "holddown"
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
trigger2 = parent,var(55)>5
trigger2 = p2dist x = [-8,8]
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) < -8
x = 0
y = 0-fvar(0)

[State 0, 2]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holdfwd"
trigger1 = parent,command != "holdback"
trigger2 = parent,var(55)>5
trigger2 = p2dist x = [-8,8]
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) > 8
x = 0
y = fvar(0)

[State 0, 6]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
trigger1 = parent,command != "holdback"
trigger2 = parent,var(55)>5
trigger2 = p2dist x >= 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) = [-8,8]
x = fvar(0)
y = 0

[State 0, 9]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command = "holdup"
trigger1 = parent,command != "holddown"
trigger1 = parent,command != "holdback"
trigger2 = parent,var(55)>5
trigger2 = p2dist x >= 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) < -8
x = fvar(0)
y = 0-fvar(0)

[State 0, 3]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdfwd"
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holdback"
trigger2 = parent,var(55)>5
trigger2 = p2dist x >= 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) > 8
x = fvar(0)
y = fvar(0)

[State 0, 4]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdback"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holddown"
trigger1 = parent,command != "holdfwd"
trigger2 = parent,var(55)>5
trigger2 = p2dist x < 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) = [-8,8]
x = 0-fvar(0)
y = 0

[State 0, 7]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdback"
trigger1 = parent,command = "holdup"
trigger1 = parent,command != "holddown"
trigger1 = parent,command != "holdfwd"
trigger2 = parent,var(55)>5
trigger2 = p2dist x < 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) < -8
x = 0-fvar(0)
y = 0-fvar(0)

[State 0, 1]
type = VelSet
triggerall = numenemy
triggerall = (time%4)=0
triggerall = var(1)=1
triggerall = var(2)=0
trigger1 = parent,var(55)<5
trigger1 = parent,command = "holdback"
trigger1 = parent,command = "holddown"
trigger1 = parent,command != "holdup"
trigger1 = parent,command != "holdfwd"
trigger2 = parent,var(55)>5
trigger2 = p2dist x < 0
trigger2 = p2dist y + (enemynear,const(size.mid.pos.y)  ) > 8
x = 0-fvar(0)
y = fvar(0)

[State 0, 1]
type = VelSet
trigger1 = var(2)=1
x = ((sin(time*.1)*fvar(0)) * fvar(2))
y = ((cos(time*.1)*fvar(0)) * fvar(2)) + (fvar(0) * (1-fvar(2)) )
;x = (vel x * fvar(3) * .5) + (((sin(time*.1)*fvar(0)) * fvar(2)) * (1-fvar(3)))
;y = (vel y * fvar(3) * .5) + (((cos(time*.1)*fvar(0)) * fvar(2)) + (fvar(0) * (1-fvar(2)) ) * (1-fvar(3)))
;x = ((sin(time*.1)*fvar(0)) * fvar(2))
;y = ((cos(time*.1)*fvar(0)) * fvar(2)) + (fvar(0) * (1-fvar(2)) )
;x = (vel x * fvar(3)) + ( (((sin(time*.1)*fvar(0)) * fvar(2))) * 1-fvar(3))
;y = (vel y * fvar(3)) + ( (((cos(time*.1)*fvar(0)) * fvar(2)) + (fvar(0) * (1-fvar(2)))) * 1-fvar(3))

[State 0, VelSet]
type = VelSet
trigger1 = var(2) = 0
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
y = 0

;[State 0, VelSet]
;type = VelSet
;trigger1 = numenemy
;trigger1 = (time%4)=0
;x = ifelse(p2dist x>=0,fvar(0),-fvar(0))
;y = ifelse(p2dist y + (enemynear,const(size.mid.pos.y)  )>=0,fvar(0),-fvar(0))

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
value = .25 + (parent,fvar(13) * .75)
ignorehitpause = 1
;[State ProRation]
;type = ParentVarSet
;trigger1 = ProjHitTime(3059)
;fvar(13) = (parent,fvar(13)) * 0.99
;ignorehitpause = 1

[State 0, DisplayToClipboard]
type = DisplayToClipboard
trigger1 = 1
text = "var(10) = %d"
params = ProjHitTime(3059)
ignorehitpause = 1

[State 0, VarAdd]
type = VarAdd
trigger1 = (time%4)=0
var(10) = 1
[State 0, Projectile]
type = Projectile
trigger1 = (time%4)=0
ProjID = 3059
projanim = 3059
projscale = .5,.5
projremove = 0
projremovetime = 41
velocity = 0,-0.1
remvelocity = 0,0
accel = 0,0
projhits = 1
projpriority = 1
projsprpriority = 5+var(10)
projedgebound = 320
projstagebound = 320
projheightbound = -9999
pausetime = 2,0
offset = 0,0
postype = p1
attr = A,HP
hitflag = MAF
guardflag = M
getpower = 0,0
animtype = hard
priority = 4,Hit
damage = ifelse((time%8=0),7,6),1
sparkno = S3058
guard.sparkno = -1
hitsound = -1
guardsound = -1
ground.type = High
ground.hittime = 28
ground.slidetime = 28
air.hittime = 28
guard.ctrltime  = 20
yaccel = 0.88
ground.velocity = -1-(vel x*0.9)
air.velocity = -1,-5.5
air.fall = 1
fall.recovertime = 40
ground.cornerpush.veloff = 0
ownpal = 1
air.juggle = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = var(2) = 0
trigger1 = parent,anim != 3051
trigger1 = time >= 95
trigger2 = var(2) = 1
trigger2 = vel y >= 0
trigger2 = vel y + pos y >= 0

;---------------------------------------------------------------------------
; Frog Baseball
[Statedef 3100]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3100
ctrl = 0
sprpriority = 2
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(6) = 60
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
pos = ceil(43*const(size.xscale) ), ceil(-175*const(size.yscale) )
movetime = 30
darken = 0
p2defmul = 1
poweradd = -2000
unhittable = 1
endcmdbufftime = 8
[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super LightBulb"
ID = 3900
stateno = 3900
pos = ceil(16*const(size.yscale) ), ceil(-282*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = 3000
anim = 4103
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 5
x = 9 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 6
x = 6 * const(size.xscale)
[State 1000, 2]
type = PosAdd
trigger1 = AnimElem = 5
x = 15 * const(size.xscale)

[State 800, 1]
type = HitDef
trigger1 = animelem = 7
attr = S, HT
hitflag = MAF
priority = 3, Miss
sparkno = -1
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 3101
guard.dist = 0
fall = 1
id = 3100
fall.recover = 0

[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = animelem = 8
movetype = I

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 11
value = S801,0
channel = 0

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

; GOTCHA
[Statedef 3101]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3101
ctrl = 0

[State OWCH]
type = ChangeState
trigger1 = numhelper(3100)
trigger1 = helper(3100),anim = 3153
trigger1 = helper(3100),animelem = 5
trigger1 = helper(3100),parentdist x < 136
value = 3109
ctrl = 0

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3103
trigger1 = animelem = 3
x = 16 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3103
trigger1 = animelem = 4
x = 20 * const(size.xscale)

;[State 0, VarSet]
;type = VarSet
;trigger1 = time = 0
;fvar(13) = fvar(13) * 1.15
;[State 0, VarSet]
;type = VarSet
;trigger1 = time = 0
;trigger1 = fvar(13) > 1
;v;ar(13) = 1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3120

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F3
pos = floor(53*const(size.xscale)), floor(-77*const(size.yscale))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = 1,1
sprpriority = 99
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 5,9

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3101
trigger1 = animelem = 17
value = S3100,0
channel = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = anim = 3102
value = 1
movecamera = 0,0
ignorehitpause = 1

[State 0, Helper]
type = Helper
trigger1 = anim = 3101
trigger1 = animelem = 22
helpertype = normal
name = "Butt-head"
ID = 3100
stateno = 3150
pos = frontedgedist + 64,0
postype = p1
facing = -1
ownpal = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3101
trigger1 = animtime = 0
value = 3102

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3102
x = -2.9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3102
trigger1 = backedgebodydist <= 5
value = 3103

[State 0, TargetBind]
type = TargetBind
trigger1 = anim = 3102
trigger2 = anim = 3103
trigger2 = animelemtime(5) < 0
time = 1
pos = floor(103*const(size.xscale)), floor(-147*const(size.yscale))
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
trigger1 = anim = 3103
trigger1 = animelem = 5
value = 3121
[State 0, TargetVelSet]
type = TargetVelSet
trigger1 = anim = 3103
trigger1 = animelem = 5
x = -5
y = -5;.5
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3103
trigger1 = animelem = 5
value = 0,3

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3103
x = 0
persistent = 0

[State 0, ChangeAnim]
type = ChangeState
trigger1 = anim = 3103
trigger1 = animtime = 0
value = 3102

; GOTCHA
[Statedef 3102]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3104
ctrl = 0

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State OUCH]
type = ChangeState
trigger1 = numenemy
trigger1 = enemynear, vel x > 0
trigger1 = p2dist x <= 8
value = 3108
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 0
[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
fvar(0) = 0.02
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = timerfreeze
;flag2 = nokoslow
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3104
;trigger1 = numtarget
trigger1 = enemynear,stateno != [3120,3129]
trigger1 = enemynear,anim != 3120
trigger1 = enemynear,anim != 19040
trigger2 = win
value = 3106

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3104
;triggerall = numtarget
;triggerall = target,stateno = [3120,3129]
trigger1 = command = "x" || command = "a"
trigger1 = var(55) < 5
trigger2 = var(55) >= 1;5
trigger2 = random < 1.5*var(55)*var(55)*var(55)
trigger2 = p2dist y >= -70 - (enemynear,vel y*4)
trigger2 = p2dist x <= 95
value = 3105

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3105
trigger1 = AnimElem = 2
value = S0,4

[State 200, 1]
type = HitDef
trigger1 = numhelper(3100)
trigger1 = anim = 3105
trigger1 = AnimElem = 5
attr = S, HA
damage = 50, 0
animtype = hard
guardflag = MA
hitflag = MAF
pausetime = 4-var(49), 4
sparkno = 3
sparkxy = -10, ceil(-98 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -8
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -6-fvar(0) + ifelse((helper(3100),stateno=3156),-4,0),-4.5
air.hittime = 12
air.fall = 1
guard.ctrltime = 14
;fall.recovertime = 40
fall.recover = 0
yaccel = .88
ground.cornerpush.veloff = 0
getpower = 0
id = 3100
;chainid = 3100

[State this method is superior]
type = TargetState
trigger1 = numtarget(3100)
trigger1 = var(21) = 1
trigger1 = !(target(3100),ishelper) || (PlayerIDExist((target(3100),id)) )
value = 3122
ID = 3100
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3105
trigger1 = animtime = 0
value = ifelse((helper(3100),var(13)=1),3106,3104)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = winko
value = S3100,2
abspan = 0
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 3106
trigger1 = animtime = 0
value = 3103
ctrl = 0

; You suck
[Statedef 3103]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3130+random%3
ctrl = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
trigger1 = numhelper(3100)
trigger1 = helper(3100),var(13)=1
value = 3139
elem = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3139
trigger1 = animelem = 3
value = S3114,0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim != 3139
trigger1 = animelem = 2
value = S3110,anim-3130
channel = 0

[State 0, CtrlSet]
type = CtrlSet
trigger1 = enemynear,ctrl = 1
value = 1
ignorehitpause = 1
persistent = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = numhelper(3100)
trigger2 = time = 0
trigger2 = p2dist x < abs(helper(3100),parentdist x / 2)
trigger2 = helper(3100),stateno!=3156
trigger3 = time = 0
trigger3 = win
value = 0
ctrl = 1

; Owch
[Statedef 3108]
type    = S
movetype= H
physics = S
velset = -6.4,0
anim = 5000
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 5000,3+random%4
channel = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 5,1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F2
pos = ceil(p2dist x),ceil(p2dist y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
pausemovetime = 65535
scale = 1,1
sprpriority = 666
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = 5000
trigger1 = animtime = 0
value = 5005

[State 0, ChangeState]
type = ChangeState
trigger1 = time = 15
trigger1 = numhelper(3100)
trigger1 = helper(3100),var(13)=1
value = 3103

[State 0, ChangeState]
type = ChangeState
trigger1 = time >= 40
value = 0
ctrl = 1

; AAAAAAA
[Statedef 3109]
type    = S
movetype= H
physics = S
velset = 0,0
anim = 3109
ctrl = 0
sprpriority = -1

[State 0, Turn]
type = Turn
trigger1 = time = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nokosnd
flag2 = nokoslow
ignorehitpause = 1

[State 0, TargetBind]
type = TargetBind
trigger1 = anim = 3109
time = 1
pos = ceil(-32*const(size.xscale)),ceil(-94*const(size.yscale))
ignorehitpause = 1
[State 0, TargetState]
type = TargetState
trigger1 = anim = 3108
value = 3121
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 11,0
channel = 0
[State 0, LifeAdd]
type = LifeAdd
trigger1 = time = 0
value = -249
kill = 0
absolute = 1
ignorehitpause = 1
[State 0, PowerAdd]
type = PowerAdd
trigger1 = time = 0
value = 3000
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 5,3
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = F2
pos = -10,ceil(-132*const(size.yscale))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
pausemovetime = 65535
scale = 1,1
sprpriority = 666
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 60
value = 3108
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3108
trigger1 = animelem = 2
x = 50*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3108
trigger1 = animelem = 3
x = 80*const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3108
trigger1 = animtime = 0
x = 12*const(size.xscale)

[State 0, LifeAdd]
type = LifeAdd
trigger1 = anim = 3108
trigger1 = animtime = 0
value = -1
kill = 1
absolute = 1
ignorehitpause = 1
[State 0, Turn]
type = Turn
trigger1 = anim = 3108
trigger1 = animtime = 0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 3108
trigger1 = animtime = 0
value = 5110
ctrl = 0


; Butthead
[Statedef 3150]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3150
ctrl = 0

[State 0, HitOverride]
type = HitOverride
trigger1 = 1
attr = SCA,AA,AP,AT
slot = 0
stateno = 3158
time = -1
;forceair = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3151
trigger1 = animelem = 2
value = S3100,1
channel = 0

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3150
x = 2.9

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3150
trigger1 = backedgebodydist >= 5
value = 3151

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3151
x = 0
persistent = 0

[State 0, ChangeAnim]
type = ChangeState
trigger1 = anim = 3151
trigger1 = animtime = 0
value = 3151

; GOTCHA
[Statedef 3151]
type    = S
movetype= A
physics = N
velset = 0,0
anim = 3152
ctrl = 0

[State OUCH]
type = ChangeState
trigger1 = numenemy
trigger1 = enemynear, vel x < 0
trigger1 = p2dist x <= 8
value = 3158
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
;value = parent,fvar(13)
;value = (parent,fvar(13) * 0.75) + .25
value = 0.25+(parent,fvar(13)*0.75)
ignorehitpause = 1
[State -2, Movehitoner]
type = VarSet
trigger1 = numenemy
var(21) = ifelse(movehit=1&&(enemynear,movereversed!=[1,2]),var(21)+1,0)
ignorehitpause = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 0
[State 0, VarSet]
type = VarAdd
trigger1 = var(21) = 1
fvar(0) = 0.02
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3152
trigger1 = enemynear,stateno != [3120,3129]
trigger1 = enemynear,anim != 3120
trigger1 = enemynear,anim != 19040
trigger2 = win
trigger3 = parent,movetype = H
value = 3154

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = anim = 3152
trigger1 = (parent,command = "y") || (parent,command = "b")
trigger1 = (parent,var(55)) < 5
trigger2 = (parent,var(55)) >= 1;5
trigger2 = random < 1.5*(parent,var(55))*(parent,var(55))*(parent,var(55))
trigger2 = p2dist x <= 100
trigger2 = p2dist y >= -75 - (enemynear,vel y*4)
trigger2 = p2stateno != 3120
value = 3153

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3153
trigger1 = AnimElem = 2
value = S0,4

[State 200, 1]
type = HitDef
trigger1 = anim = 3153
trigger1 = AnimElem = 5
attr = S, HP
damage = 50, 0
animtype = medium
guardflag = MA
hitflag = MAF
pausetime = 4-var(49), 4
sparkno = 3
sparkxy = -10, ceil(-126 * const(size.yscale) )
hitsound = S5, 2
guardsound = S6, 1
ground.type = High
ground.slidetime = ceil(18*ifelse(var(31),1.4,1))
ground.hittime  = ceil(18*ifelse(var(31),1.4,1))
ground.velocity = -8
airguard.velocity = -5,-4.4
air.type = High
air.velocity = -6-fvar(0),-4.5
air.hittime = 12
air.fall = 1
guard.ctrltime = 14
fall.recover = 0
;fall.recovertime = 40
yaccel = .88
ground.cornerpush.veloff = 0
getpower = 0
id = 3100
;chainid = 3100

[State this method is superior]
type = TargetState
trigger1 = numtarget(3100)
trigger1 = var(21) = 1
trigger1 = !(target(3100),ishelper) || (PlayerIDExist((target(3100),id)) )
value = 3122
ID = 3100
ignorehitpause = 1

[State OUCH]
type = ChangeState
trigger1 = parent,stateno = 3109
value = 3159
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = numtarget(3100)
trigger1 = var(21) = 1
trigger1 = hitcount > 5
value = 3156
ctrl = 0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3153
trigger1 = animtime = 0
value = 3152

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 3154
trigger1 = animtime = 0
value = ifelse(win,3154,3153)

; You suck
[Statedef 3153]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3160+random%5
ctrl = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3111,anim-3160
channel = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = win
value = 3154

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
trigger2 = time = 0
trigger2 = p2dist x < abs(parentdist x / 2)
value = 3155

; Whoah
[Statedef 3154]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3165+random%3
ctrl = 0
facep2 = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 2
value = S3109,9
channel = 0
persistent = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 9
value = S3109,anim-3165
channel = 0
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != 3179
trigger1 = parent,anim = 182
value = 3179
elem = parent,animelemno(0)

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = parent,anim = [1810,1819]
trigger1 = anim != 3170+(parent,anim-1810)
value = 3170+(parent,anim-1810)
elem = parent,animelemno(0)

[State 0, ChangeAnim]
type = ChangeState
trigger1 = parent,anim = 183
value = 3160

; Walk away
[Statedef 3155]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3155
ctrl = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = win
trigger1 = anim = 3155
trigger1 = animelemtime(2) < 0
value = 3154

[State 0, ChangeState]
type = ChangeAnim
trigger1 = parent,stateno = [3102,3103]
value = 3155

[State 0, Turn]
type = Turn
trigger1 = anim = 3155
trigger1 = animelem = 2

[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = 3155
trigger1 = animtime = 0
value = 3150

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3150
x = 2.9

[State 0, DestroySelf]
type = DestroySelf
trigger1 = vel x > 0
trigger1 = frontedgedist < -64

; Uh Oh
[Statedef 3156]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3156
ctrl = 0

[State OUCH]
type = ChangeState
trigger1 = numenemy
trigger1 = enemynear, vel x < 0
trigger1 = p2dist x <= 8
value = 3158
ctrl = 0

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(13) = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 0,25

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3190
ID = 3190
pos = ceil(237*const(size.xscale)),ceil(-133*const(size.yscale))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = 2,-6
accel = 0,0.44
random = 0,0
removetime = -2
scale = const(size.xscale),const(size.yscale)
sprpriority = 3
shadow = -1,-1,-1
[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3191
ID = 3190
pos = ceil(237*const(size.xscale)),ceil(-133*const(size.yscale))
postype = p1
facing = 1
vfacing = 1
bindtime = 1
vel = -1,-4
accel = 0,0.44
random = 0,0
removetime = -2
scale = const(size.xscale),const(size.yscale)
sprpriority = 4
shadow = -1,-1,-1


[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = win
value = 3154

[State 0, ChangeState]
type = ChangeState
trigger1 = animtime = 0
value = 3155

; Hey You Stole my style
[Statedef 3160]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3150
ctrl = 0

[State 0, Turn]
type = Turn
trigger1 = anim = 3178
trigger1 = animelem = 15
trigger2 = time = 0
trigger2 = parentdist x < 0

[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = 3150
trigger1 = abs(parentdist x) < 60
value = 3178

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3178
trigger1 = animelem = 2
value = S3119,1
channel = 0
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = anim = 3150
x = 2.9
[State 0, VelSet]
type = VelSet
trigger1 = anim != 3150
x = 0



; Owch
[Statedef 3158]
type    = S
movetype= H
physics = N
velset = 0,0
anim = 3180
ctrl = 0
sprpriority = -3

[State 0, Width]
type = Width
trigger1 = 1
edge = 0,40
player = 0,0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
trigger1 = prevstateno = [3150,3159]
value = 5,1
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = [3150,3159]
anim = F2
pos = ceil(p2dist x),ceil(p2dist y)
postype = p1
facing = 1
vfacing = 1
bindtime = 1
pausemovetime = 65535
scale = 1,1
sprpriority = 666
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3180
trigger1 = animelem = 2
x = -20 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3180
trigger1 = animelem = 3
x = -24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3180
trigger1 = animelem = 4
x = -16 * const(size.xscale)

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3185
trigger1 = animelem = 2
x = 18 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3185
trigger1 = animelem = 3
x = 30 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 3185
trigger1 = animelem = 4
x = 24 * const(size.xscale)

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = 3108,random%2
channel = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3180
trigger1 = animelem = 3
value = F7,0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = [3181,3182]
trigger1 = animelem = 2
value = 3112,anim-3181
channel = 0
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3183
trigger1 = animelem = 2
value = 3114,1
channel = 0

[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = 3180
trigger1 = animtime = 0
value = ifelse(var(13),3183,3181+random%2)
[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = [3181,3183]
trigger1 = parent,anim = [3100,3140]
value = anim
[State 0, ChangeState]
type = ChangeAnim
trigger1 = anim = [3181,3183]
trigger1 = animtime = 0
value = 3185

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 3185
trigger1 = animtime = 0
value = ifelse(win,3154,3155)

; Dumbass
[Statedef 3159]
type    = S
movetype= I
physics = N
velset = 0,0
anim = 3159
ctrl = 0
sprpriority = 4

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 3164
trigger1 = animelem = 2
value = S3111,4
channel = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3159
trigger1 = animtime = 0
value = 3154
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim = 3154
trigger1 = animtime = 0
value = 3164

[State 0, ChangeState]
type = ChangeState
trigger1 = anim != 3159
trigger1 = anim != 3154
trigger1 = win
value = 3154

[State 0, ChangeState]
type = ChangeState
trigger1 = anim = 3164
trigger1 = animtime = 0
value = 3155


; AAAAA
[Statedef 3120]
type    = A
movetype= H
physics = N
ctrl = 0
velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 0
movecamera = 0,0
ignorehitpause = 1

[State 0, TargetState]
type = ChangeAnim2
trigger1 = time = 0
value = 9741

[State 0, SelfState]
type = SelfState
trigger1 = time >= 666
value = 5050

; Thrown
[Statedef 3121]
type    = A
movetype= H
physics = N
ctrl = 0
;velset = -4,-4.9

;[State 0, VelSet]
;type = VelSet
;trigger1 = time = 1
;x = -4
;y = -4.9

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1
ignorehitpause = 1

[State 0, TargetState]
type = ChangeAnim2
trigger1 = time = 0
value = 3120
[State 0, FROG BASEBALL]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(19040)
value = 19040

[State 0, VelAdd]
type = VelAdd
trigger1 = 1
y = 0.30
;[State 0, VelAdd]
;type = VelMul
;trigger1 = 1
;x = 0.99

[State 0, SelfState]
type = SelfState
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 5100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 3120
value = 0
scale = 1/const(size.xscale),1/const(size.yscale)
ignorehitpause = 1

; Hit
[Statedef 3122]
type    = A
movetype= H
physics = N
ctrl = 0
;velset = 0,0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,(alive)
ignorehitpause = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, VelSet]
type = VelSet
trigger1 = hitshakeover
trigger1 = !alive
y = -32
persistent = 0
[State 0, VelSet]
type = VelMul
trigger1 = hitshakeover
trigger1 = !alive
x = 0.92

[State 0, TargetState]
type = ChangeAnim2
trigger1 = time = 0
value = 3120
[State 0, FROG BASEBALL]
type = ChangeAnim
trigger1 = time = 0
trigger1 = selfanimexist(19040)
value = 19040

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1

[State 0, VelAdd]
type = VelAdd
trigger1 = hitshakeover
y = ifelse(alive,0.30,0.88)
;[State 0, VelAdd]
;type = VelMul
;trigger1 = 1
;x = 0.99

[State 0, VelSet]
type = VelSet
trigger1 = hitshakeover
trigger1 = !alive
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
x = 0
[State 0, SelfState]
type = SelfState
trigger1 = hitshakeover
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 0
value = 5100

[State 0, AngleDraw]
type = AngleDraw
trigger1 = anim = 3120
value = 0
scale = 1/const(size.xscale),1/const(size.yscale)
ignorehitpause = 1


;---------------------------------------------------------------------------
; Change The Channel
[Statedef 3200]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3200
ctrl = 0
sprpriority = -2
facep2 = 1

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
var(6) = 60
[State 0, SuperPause]
type = SuperPause
trigger1 = time = 0
time = 60
movetime = 60
anim = -1
sound = -1
pos = ceil(81*const(size.xscale) ), ceil(-118*const(size.yscale) )
movetime = 30
darken = 0
p2defmul = 1
poweradd = -3000
unhittable = 1
endcmdbufftime = 8
[State 0, Helper]
type = Helper
trigger1 = time = 0
helpertype = normal
name = "Super LightBulb"
ID = 3900
stateno = 3900
pos = ceil(16*const(size.yscale) ), ceil(-282*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = prevstateno = 3000
anim = 4103
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = animelem = 7
value = 6,0

[State 0, Helper]
type = Helper
trigger1 = animelem = 7
helpertype = normal ;player
name = "ZAPZAP"
ID = 3200
stateno = 3210
pos = ceil(84*const(size.xscale) ), ceil(-118*const(size.yscale) )
postype = p1
facing = 1
ownpal = 1

[State 3000, 7]
type = ChangeState
triggerall = numhelper(3200)
trigger1 = helper(3200),stateno = 3211
value = 3201
ctrl = 0

[State 3000, 7]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
[Statedef 3201]
type    = S
movetype= A
physics = S
juggle  = 0
velset = 0,0
anim = 3201
ctrl = 0
sprpriority = -1
facep2 = 1

[State 0, PlayerPush]
type = PlayerPush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
;flag = nokoslow
flag = timerfreeze
flag2 = nokosnd
ignorehitpause = 1

[State 0, Turn]
type = Turn
trigger1 = p2dist x < 0
trigger1 = anim = 3201
trigger1 = AnimTime = 0
ignorehitpause = 1
[State 3000, 7]
type = ChangeAnim
trigger1 = anim = 3201
trigger1 = AnimTime = 0
value = 20

[State 3000, 7]
type = ChangeAnim
triggerall = anim = 20
trigger1 = p2dist x <= 68
trigger2 = p2bodydist x <= 30
value = 3202

[State 20, 1]
type = VelSet
trigger1 = 1
x = ifelse(anim=20,const(velocity.walk.fwd.x),0)

[State 0, NotHitBy]
type = NotHitBy
trigger1 = 1
value = SCA,NA,SA,HA,NP,SP,HP,NT,ST,HT
time = 2
ignorehitpause = 1

[State 0, SprPriority]
type = SprPriority
trigger1 = anim = 3202
value = 2
ignorehitpause = 1

[State 200, 1]
type = HitDef
trigger1 = anim = 3202
trigger1 = AnimElem = 5
attr = S, HA
damage = 666, 0
animtype = hard
guardflag =
hitflag = MAF
pausetime = 60-var(49), 60
sparkno = 3
sparkxy = -10, ceil(-78 * const(size.yscale) )
hitsound = S5, 16
guardsound = S6, 1
ground.type = low
ground.slidetime = 60
ground.hittime  = 60
ground.velocity = -7,-30
guard.velocity = -11.13
airguard.velocity = -5,-4.4
air.type = low
air.velocity = -7,-30
air.hittime = 30
fall = 1
guard.ctrltime = 15
fall.recover = 0
yaccel = .88
id = 3202
ground.cornerpush.veloff = 0
getpower = 0
envshake.time = 60
envshake.freqmul = 255
envshake.ampl = -4

[State this method is superior]
type = TargetState
trigger1 = anim = 3202
trigger1 = numtarget(3202)
trigger1 = var(21) = 1
;trigger1 = !(target(3202),ishelper) || (PlayerIDExist((target(3202),id)) )
;trigger1 = target(240),statetype!= A
value = 3221
ID = 3202
ignorehitpause = 1

[State 3000, 7]
type = ChangeState
trigger1 = anim = 3202
trigger1 = AnimTime = 0
value = 0
ctrl = 1

[Statedef 3210]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 20,0
ctrl = 0
anim = 3210
sprpriority = 3

[State 800, 1]
type = HitDef
Trigger1 = Time = 1
attr = S, HT
hitflag = MAFP
guardflag = M
priority = 5, Miss
sparkno = -1
;guard.sparkno = -1
p1sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 3211
;guard.dist = 0
fall = 1
guard.hittime = 10
guard.ctrltime = 10
guard.velocity = -10
guardsound = S6,1
ground.cornerpush.veloff = 0
air.cornerpush.veloff = 0
getpower = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = moveguarded
trigger2 = frontedgedist < -40
trigger3 = parent,stateno != 3200

[Statedef 3211]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3211
sprpriority = -1

[State 0, TargetState]
type = TargetState
trigger1 = time = 0
value = 3220

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,20

[State 0, TargetState]
type = TargetState
trigger1 = time = 30
trigger1 = parent,stateno != [3200,3201]
value = 3222

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time = 30
trigger1 = parent,stateno != [3200,3201]
ignorehitpause = 1

[State 0, AssertSpecial]
type = AssertSpecial
triggerall = parent,stateno = [3200,3201]
trigger1 = time >= 30
flag = nomusic
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = parent,stateno = [3200,3201]
trigger1 = time = 30
value = S0,21+random%2
channel = 0
abspan = 0
loop = 1

[State 0, ChangeAnim]
type = ChangeAnim
triggerall = parent,stateno = [3200,3201]
trigger1 = time = 30
value = 3212

[State 0, PosAdd]
type = PosAdd
trigger1 = numtarget
x = p2dist x
y = p2dist y
ignorehitpause = 1

;[State 0, BindToTarget]
;type = BindToTarget
;trigger1 = numtarget
;time = 1
;pos = 0,0;,"Foot"
;ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = !numtarget
channel = 0

[State 0, ChangeState]
type = ChangeState
trigger1 = numtarget
trigger1 = target,stateno = 3221
value = 3212
ctrl = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !numtarget
ignorehitpause = 1

[Statedef 3212]
type    = A
movetype= A
physics = N
juggle  = 0
velset = 0,0
ctrl = 0
anim = 3213
sprpriority = -1

[State 0, AssertSpecial]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause = 1

[State 0, StopSnd]
type = StopSnd
trigger1 = time = 0
channel = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 60
value = S0,24

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 60
value = 3214

[State 0, PosAdd]
type = PosAdd
trigger1 = 1
x = p2dist x
y = p2dist y
ignorehitpause = 1

[State 0, DestroySelf]
type = DestroySelf
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = target,screenpos y < - 32
ignorehitpause = 1


;---------------------------------------------------------------------------
; FUCK
[Statedef 3220]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, HitBy]
type = HitBy
trigger1 = 1
value = S,HA
time = 2
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 3220

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
[State 0, STOP]
type = VelSet
trigger1 = pos y >= 0
trigger1 = vel y > 0
y = 0
[State 0, STOP]
type = PosSet
trigger1 = pos y > 0
y = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S
persistent = 0
[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 660
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; FUCK
[Statedef 3221]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1
ignorehitpause = 1

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0
ignorehitpause = 1

[State 0, HitVelSet]
type = HitVelSet
trigger1 = time = 0
x = 1
y = 1
ignorehitpause = 1

[State 0, PosFreeze]
type = PosFreeze
trigger1 = !hitshakeover
value = 1
ignorehitpause = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = hitshakeover
trigger1 = !alive
value = S11,0
channel = 0
abspan = 0
ignorehitpause = 1
persistent = 0

[State 0, ChangeAnim]
type = ChangeAnim2
trigger1 = time = 0
value = 9741
[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = anim != [5050,5060]
trigger1 = screenpos y < - 32
value = ifelse(selfanimexist(5052),5052,5050)

[State 0, VelAdd]
type = VelAdd
trigger1 = hitshakeover
y = 0.88
ignorehitpause = 1

[State 0, SelfState]
type = SelfState
triggerall = hitshakeover
trigger1 = vel y > 0
trigger1 = vel y + pos y >= 20
value = 5100

;---------------------------------------------------------------------------
; FUCK
[Statedef 3222]
type    = A
movetype= H
physics = N
velset = 0,0
ctrl = 0

[State 0, ScreenBound]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1;(alive)
ignorehitpause = 1

[State 0, ChangeAnim]
type = ChangeAnim
trigger1 = time = 0
value = 5300

[State 0, Gravity]
type = Gravity
trigger1 = pos y < 0
[State 0, STOP]
type = VelSet
trigger1 = pos y >= 0
trigger1 = vel y > 0
y = 0
[State 0, STOP]
type = PosSet
trigger1 = pos y > 0
y = 0
[State 0, StateTypeSet]
type = StateTypeSet
trigger1 = pos y >= 0
statetype = S
physics = S
persistent = 0
[State 0, HitFallSet]
type = HitFallSet
trigger1 = statetype = S
value = 0

[State 0, SelfState]
type = SelfState
trigger1 = time >= 120
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; Super Lightbulb
[Statedef 3900]
type    = A
movetype= I
physics = N
velset = 0,0
ctrl = 0
anim = 9741
sprpriority = 64

[State 0, VarSet]
type = VarSet
trigger1 = time = 0
fvar(0) = 1

[State 0, VarSet]
type = VarSet
trigger1 = time
fvar(0) = fvar(0) * 0.93

[State 0, Explod]
type = Explod
trigger1 = time = 0
anim = 3900
ID = 3900
pos = ceil(screenpos x),ceil(screenpos y)
postype = left
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = (1-fvar(0))/2,(1-fvar(0))/2
sprpriority = 64
ontop = 1
ownpal = 1
ignorehitpause = 1

[State 0, Explod]
type = ModifyExplod
trigger1 = time
trigger1 = numexplod(3900)
ID = 3900
scale = (1-fvar(0))/2,(1-fvar(0))/2

[State 0, BGPalFX]
type = BGPalFX
trigger1 = time = [0,39]
time = 1
mul = ceil(256*fvar(0)),ceil(256*fvar(0)),ceil(256*fvar(0))
color = ceil(256*fvar(0))
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 0
value = S0,26
channel = 0
abspan = 0

[State 0, PlaySnd]
type = PlaySnd
trigger1 = time = 40
value = S0,23
channel = 0
abspan = 0

[State 0, DestroySelf]
type = DestroySelf
trigger1 = time
trigger1 = !numexplod(3900)

[StateDef 9741]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9741, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9741, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = 2

[State 9741, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(3):=0
var(2) = (var(3):=1)+(var(4):=0)

[State 9741, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)
trigger1 = !(var(4):=0)

[State 9741, DirTurnOnAI]
type = ParentVarSet
triggerall = !(var(3) || var(9))
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = !(var(4):=1)
var(58) = var(4)

[State 9741, DirTurnOffAI]
type = ParentVarSet
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = var(4):=0

[State 9741, ButtonTurnOnAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
var(58) = 1

[State 9741, ButtonTurnOffAI]
type = ParentVarSet
triggerall = !var(2)
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9741, UnPauseCheck]
type = VarSet
triggerall = var(2)
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(2) = 2
trigger8 = var(2):=0
var(2) = 2

[State 9741, Goodbye]
type = DestroySelf
triggerall = var(1):=1
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2


;------------------
; AI Activation Helper State - Compatibly Partnered Version
;
; var(1) - First tick activation prevention
; var(2) - Used for pause/superpause and custom state check, basically.
; var(3) - (Super/)Pause & custom state-triggered dir detection disabler.
; var(4) - Hitpause check.
; var(5) - No button on previous tick.
; var(6) - Any dir on this tick.
; var(7) - Any button on this tick.
; var(8) - Matching partner button detected.
; var(9) - AutoTurn bug fixer.
; var(10)- Buffered dir detection disabler.
; parent's var(57) - Parent's GameTime var, for pause and custom state check.
; parent's var(58) - Parent's primary AI variable.
;
; The code in this state is mostly simply copy/pasteable.
; But if you're using different indices for the parent's variables,
; or if you change your character's basic commands' names, you'll
; of course need to change the code in this state accordingly.

[StateDef 9742]
type = S
movetype = I
physics = N
anim = 9741
ctrl = 0

[State 9742, Safety]; Just in case your opponent is very poorly coded.
type = SelfState
trigger1 = !IsHelper
value = 5050

[State 9742, UglyHack]
type = VarSet
trigger1 = !var(1)
var(2) = var(3):=2

[State 9742, PauseCheck]
type = VarSet
trigger1 = GameTime > Parent,var(57)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2
trigger4 = Parent,var(58)
trigger5 = var(1)
trigger5 = var(3):=0
var(2) = var(3):=1

[State 9742, Facing]
type = Turn
trigger1 = var(9):=(Facing != Parent,Facing)

[State 9742, ParentDirCheck]
type = VarSet
trigger1 = Parent,command = "holdfwd"
trigger2 = Parent,command = "holdback"
trigger3 = Parent,command = "holdup"
trigger4 = Parent,command = "holddown"
trigger5 = var(6):=0
var(6) = 1

[State 9742, BufferCheck]
type = VarSet
trigger1 = var(3) || var(4) || var(10)
var(10) = var(6)

[State 9742, ParentButtonCheck]
type = VarSet
trigger1 = Parent,command = "a"
trigger2 = Parent,command = "b"
trigger3 = Parent,command = "c"
trigger4 = Parent,command = "x"
trigger5 = Parent,command = "y"
trigger6 = Parent,command = "z"
trigger7 = Parent,command = "start"
trigger8 = var(7):=0
var(7) = 1

[State 9742, SameButtonCheck]
type = VarSet
triggerall = var(7)
triggerall = !var(2)
triggerall = NumPartner
trigger1 = Parent,command = "a"
trigger1 = Partner,command = "a"
trigger2 = Parent,command = "b"
trigger2 = Partner,command = "b"
trigger3 = Parent,command = "c"
trigger3 = Partner,command = "c"
trigger4 = Parent,command = "x"
trigger4 = Partner,command = "x"
trigger5 = Parent,command = "y"
trigger5 = Partner,command = "y"
trigger6 = Parent,command = "z"
trigger6 = Partner,command = "z"
trigger7 = Parent,command = "start"
trigger7 = Partner,command = "start"
trigger8 = var(8):=0
var(8) = 1

[State 9742, DirTurnOnAI]
type = ParentVarSet
trigger1 = var(6)
trigger1 = !(var(9) || var(10))
var(58) = 1

[State 9742, DirTurnOffAI]
type = ParentVarSet
triggerall = var(6)
triggerall = !var(3)
triggerall = Parent,var(58)
trigger1 = command = "holdfwd"
trigger1 = Parent,command = "holdfwd"
trigger2 = command = "holdback"
trigger2 = Parent,command = "holdback"
trigger3 = command = "holdup"
trigger3 = Parent,command = "holdup"
trigger4 = command = "holddown"
trigger4 = Parent,command = "holddown"
var(58) = 0

[State 9742, ButtonTurnOnAI]
type = ParentVarSet
trigger1 = var(5) && var(7)
trigger1 = !(var(2) || var(8))
var(58) = 1

[State 9742, ButtonTurnOffAI]
type = ParentVarSet
triggerall = var(7)
triggerall = !(var(2) || var(8))
trigger1 = command = "a"
trigger1 = Parent,command = "a"
trigger2 = command = "b"
trigger2 = Parent,command = "b"
trigger3 = command = "c"
trigger3 = Parent,command = "c"
trigger4 = command = "x"
trigger4 = Parent,command = "x"
trigger5 = command = "y"
trigger5 = Parent,command = "y"
trigger6 = command = "z"
trigger6 = Parent,command = "z"
trigger7 = command = "start"
trigger7 = Parent,command = "start"
var(58) = -1

[State 9742, UnPauseCheck]
type = VarSet
triggerall = var(2)
triggerall = !var(4)
trigger1 = var(7)
trigger2 = var(2) = 2
trigger2 = var(2):=0
var(2) = 2

[State 9742, Goodbye]
type = DestroySelf
trigger1 = Parent,var(58)
trigger2 = !(Parent,Alive)
trigger3 = RoundState != 2

[State 9742, HitPauseCheck]
type = VarSet
trigger1 = var(6) || var(7)
trigger2 = !(Parent,HitPauseTime)
var(4) = Parent,HitPauseTime

[State 9742, Delay]
type = VarSet
trigger1 = var(1):=1
var(5) = !var(7)


;---------------------------------------------------------------------------
; Override common states (use same number to override) :
;---------------------------------------------------------------------------

;---------------------------------------------------------------------------
; States that are always executed (use statedef -2)
;---------------------------------------------------------------------------

[Statedef -2]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(5) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(1) = 1
value = F7,0
[State 0, Collapse animation stuff]
type = PosAdd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(9) = 0 || animelemtime(10) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(5) = 0 || animelemtime(6) = 0
x = -4*const(size.xscale)
[State 0, Collapse animation stuff]
type = PosAdd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(11) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(7) = 0
x = -5*const(size.xscale)
[State 0, Collapse animation stuff]
type = PosAdd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(12) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(8) = 0
x = -6*const(size.xscale)
[State 0, Collapse animation stuff]
type = PosAdd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(13) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(9) = 0
x = -50*const(size.xscale)
[State 0, Collapse animation stuff]
type = PosAdd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(14) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(10) = 0
x = -80*const(size.xscale)
[State 0, Explod]
type = Explod
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(14) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(10) = 0
anim = F61
pos = 0,0
postype = p1
facing = 1
vfacing = 1
bindtime = 1
removetime = -2
;pausemovetime = 65535
scale = 1,1
sprpriority = 7
ownpal = 1
[State 0, PlaySnd]
type = PlaySnd
trigger1 = anim = 5950 || anim = 5955
trigger1 = animelemtime(14) = 0
trigger2 = anim = 5131
trigger2 = animelemtime(10) = 0
value = F7,1

[State -2, Footsteps]
type = PlaySnd
trigger1 = anim = 100
trigger1 = animelem = 2 || animelem = 5
trigger2 = anim = 1160
trigger2 = animelem = 12 || animelem = 8 || animtime = 0
trigger3 = anim = 3000
trigger3 = animelem = 11 || animelem = 7 || animelem = 19 || animelem = 15 || animelem = 27 || animelem = 23 || animelem = 35 || animelem = 30 || animtime = 0
value = S40,1+random%3

[State -2, Criticize a Korn video while Dizzy]
type = PlaySnd
trigger1 = anim = 5300
value = S5300,random%5
channel = 0
lowpriority = 1
ignorehitpause = 1

; if you're making a 10ov.st and copied the statedef -2 in it's entirety, uncomment this strcl so e.g. the hitpauses in both mugen versions would be the same
;[State ME AM USING 1.0]
;type = VarSet
;trigger1 = var(49) != 1
;var(49) = 1
;ignorehitpause = 1

[State 0, VarSet]
type = VarSet
triggerall = var(30) = 0
trigger1 = movetype = H
trigger1 = stateno != [120,169]
var(30) = -1
ignorehitpause = 1
[State 0, PowerAdd]
type = PowerAdd
triggerall = var(30) = 0
triggerall = stateno != [2000,2999]
trigger1 = movehit
trigger2 = p2movetype = H
;trigger2 = movetype = A
trigger2 = p2stateno != [120,169]
;trigger2 = projhittime = 1
value = 150
ignorehitpause = 1
[State 0, Explod]
type = Explod
triggerall = var(30) = 0
trigger1 = movehit
trigger2 = p2movetype = H
;trigger2 = movetype = A
trigger2 = p2stateno != [120,169]
;trigger2 = projhittime = 1
anim = 4101
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1
[State 0, VarSet]
type = VarSet
triggerall = var(30) = 0
trigger1 = movehit
trigger2 = p2movetype = H
;trigger2 = movetype = A
trigger2 = p2stateno != [120,169]
;trigger2 = projhittime = 1
var(30) = 1
ignorehitpause = 1

[State -2, Movehitoner]
type = VarSet
trigger1 = numenemy
var(21) = ifelse(movehit=1&&(enemynear,movereversed!=[1,2]),var(21)+1,0)
ignorehitpause = 1
[State -2, Movehitoner]
type = VarSet
trigger1 = !numenemy
var(21) = ifelse(movehit=1,var(21)+1,0)
ignorehitpause = 1
[State -2, Moveguardoner]
type = VarSet
trigger1 = 1
var(22) = ifelse(moveguarded=1,var(22)+1,0)
ignorehitpause = 1
[State -2, FirstHit]
type = VarSet
trigger1 = 1
var(29) = 0
ignorehitpause = 1
[State -2, FirstHit]
type = VarSet
trigger1 = var(21)=1
trigger1 = numtarget
var(29) = (target,gethitvar(hitcount) <= 1)
ignorehitpause = 1

[State -2, Counter?]
type = VarSet
trigger1 = var(21) != 1
var(31) = (p2movetype=A)
ignorehitpause = 1
[State 0, Explod]
type = Explod
trigger1 = !enemynear,movereversed
trigger1 = var(31) = 1
trigger1 = var(21) = 1
;trigger2 = projhittime = 1
anim = 4100
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

[State Throw Limiter]
type = VarSet
trigger1 = stateno = 40
trigger2 = statetype = A
trigger2 = movecontact
trigger3 = p2stateno = [120,169]
var(8) = 12
[State Throw Limiter count]
type = VarAdd
trigger1 = var(8) > 0
var(8) = -1
[State 0, Helper]
type = Helper
trigger1 = roundstate < 2
trigger1 = !numhelper(444)
helpertype = normal
name = "CONFIG"
ID = 444
stateno = 444
pos = 444,444
postype = p1
facing = 1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1

[State 0, ]
type = PlaySnd
triggerall = alive
;triggerall = random < 500
triggerall = anim != 70851
triggerall = anim != 7696
trigger1 = (stateno = 5000) || (stateno = 5010) || (stateno = 5020) || (stateno = 5070)
trigger1 = time = 0
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = 5000,ifelse(gethitvar(animtype)=0,random%4,ifelse(gethitvar(animtype)=1,4+random%4,8+random%9))
;volume = 255
channel = 0
ignorehitpause = 1

[State 0, ]
type = PlaySnd
triggerall = alive
triggerall = anim = 7696
trigger1 = time = 1
trigger2 = (stateno != 5000) && (stateno != 5010) && (stateno != 5020) && (stateno != 5070)
trigger2 = stateno != [120,160]
trigger2 = gethitvar(damage)
value = 5000,19
;volume = 255
channel = 0
ignorehitpause = 1


[State 0, ]
type = PlaySnd
triggerall = alive
trigger1 = anim = 70851
trigger1 = animelemtime(2) = -1
value = 5000,17
;volume = 255
channel = 0
ignorehitpause = 1

[State 0, PlaySnd]
type = PlaySnd
triggerall = time = 1
triggerall = random < 500
trigger1 = stateno = 150
trigger2 = stateno = 152
value = S120,random%6
channel = 0
lowpriority = 1

[State 0, ]
type = PlaySnd
triggerall = !numhelper(3100)
trigger1 = stateno = 5120
trigger1 = time = 1
trigger1 = random < 500
trigger1 = roundstate < 3
value = 5120,random%10
channel = 0
;volume = 255

[State 0, Helper]
type = Helper
triggerall = !ishelper
trigger1 = !numhelper(179)
helpertype = normal
name = "Misc Stuff"
ID = 179
stateno = 179
pos = 0,0
postype = p1
ownpal = 1
supermovetime = 65535
pausemovetime = 65535
ignorehitpause = 1

[State -2, Neo-Juggle-System-Reset]
type = VarSet
triggerall = var(40)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = (target,statetype != A) && (target,statetype != L)
var(40) = 0
ignorehitpause = 1
[State -2, Neo-Juggle-System-Reset]
type = VarSet
triggerall = var(41)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = (target,statetype != A) && (target,statetype != L)
var(41) = 0
ignorehitpause = 1
[State -2, Neo-Juggle-System-Reset]
type = VarSet
triggerall = var(42)
trigger1 = !numtarget
trigger2 = numtarget
trigger2 = (target,statetype != A) && (target,statetype != L)
var(42) = 0
ignorehitpause = 1
[State Prevent the prorator from going too low. You can change the minimal proration rate if you want, just make sure the value in the trigger and actual varset match]
type = VarSet
trigger1 = fvar(13) < 0.15
fvar(13) = 0.15
ignorehitpause = 1
[State Prorator Reset]
type = VarSet
trigger1 = !numenemy
trigger2 = p2movetype != H || (!enemynear,gethitvar(hitcount))
trigger2 = !movehit || movereversed
trigger3 = p2stateno = 5120
fvar(13) = 1
ignorehitpause = 1
[State 0, AttackMulSet]
type = AttackMulSet
trigger1 = 1
time = 2
;value = ifelse(p2movetype!=H,ifelse(var(20)=1,1.25,1),1 - ifelse(fvar(15)>.75,.75,fvar(15)))
;value = ( ifelse((stateno=[3000,3900]), 0.25+(fvar(13)*0.75) ,fvar(13))  ) * ifelse((p2statetype=A&&p2movetype!=H)||var(31),1.25,1)
value = ( ifelse((stateno=[3000,3900]), 0.25+(fvar(13)*0.75) ,fvar(13))  ) * ifelse(var(31),1.25,1)
ignorehitpause = 1

[State 0, Explod]
type = Explod
trigger1 = time = 0
trigger1 = stateno = 5200 || stateno = 5210
anim = 4102
ID = 4100
pos = ifelse(teamside=1,43,320-43),80+(29*numexplod(4100))
postype = left
facing = 1
vfacing = 1
bindtime = -1
removetime = -2
pausemovetime = 65535
supermovetime = 65535
scale = .5,.5
sprpriority = 999
ontop = 1
ownpal = 1
ignorehitpause = 1

;
; Within StateDef -2, none of your own AI-related code should be placed
; above these next two controllers.

[State -2, StopAI]
type = VarSet
triggerall = var(58) > 0 && !IsHelper
trigger1 = RoundState != 2
trigger2 = !Alive
var(58) = -2
IgnoreHitPause = 1

; This controller is optional.  It allows you treat the AI flag as a boolean
; value rather than an integer value, letting you trigger your AI directives
; with "var(0)" instead of "var(58)>0", and letting you make moves usable only
; by humans by using "!var(0)" instead of "var(58)<1", thus slightly improving
; the size and efficiency of your code.
; Another benefit is that it makes it much easier for users to disable your AI,
; if they so choose.
[State -2, Simplifier]
type = VarSet
triggerall = !IsHelper
trigger1 = var(58) = 1
trigger2 = var(55):=0
var(55) = floor(fvar(34)) ;  In case you are about to make a 10ov.st and copy the statedef -2, replace the value of this varset to ifelse((roundstate<=2),ailevel,0)
IgnoreHitPause = 1

[State ANTI-MINDGAME-GUARD]
type = VarAdd
triggerall = var(50) < 120
trigger1 = p2movetype = A
trigger1 = stateno = [120,169]
var(50) = 1
ignorehitpause = 1
[State ANTI-MINDGAME-GUARD]
type = VarSet
triggerall = var(50) > 0
trigger1 = stateno = [150,155]
trigger1 = time = 1
var(50) = ceil(var(50)*0.8)
ignorehitpause = 1
[State ANTI-MINDGAME-GUARD]
type = VarAdd
triggerall = var(50) > 0
triggerall = (gametime%3)=0
trigger1 = p2movetype != A
trigger2 = stateno != [120,169]
var(50) = -1
ignorehitpause = 1
[State ANTI-MINDGAME-TH]
type = VarSet
trigger1 = numenemy
trigger1 = var(55)
var(51) = (enemynear,HitDefAttr = SCA,AT) || (var(50) > 20) || ((abs(enemynear,animtime) <= enemynear,moveguarded )) || (numhelper(3050))
ignorehitpause = 1

; thanks to this if you go CTRL+D and see the current distance so once you start AI making you can blast off a notepad and take notes in which distances would various moves hit
[State -2, DTC]
type = DisplayToClipboard
trigger1 = 1
text = "AI = %d, var(52) = %d, x = %f, y = %f, pro = %f"
params = var(58), var(52), (p2bodydist x), (p2dist y), (fvar(13))
IgnoreHitPause = 1

;================================================================================
; ------- KOF Cornerpush System by Vans --------
;===============================================================================
[State -2, Superpause Check]
type = VarAdd
trigger1 = Var(6)
var(6) = -1

[State -2, Reset Time counter]
type = VarSet
trigger1 = movecontact = 1
var(12) = 0

[State -2, Accel]
type = VarSet
triggerall = roundstate = 2
triggerall = Var(6) <= 0
triggerall = numtarget >= 1
trigger1 = target, hitshakeover
fvar(6) = (target, gethitvar(xvel)*exp((-0.1886)*((var(12)))))
[State -2, Push]
type = PosAdd
triggerall = roundstate = 2
triggerall = !var(6)
triggerall = numtarget >= 1
triggerall = (target, BackEdgeBodyDist <= 0) || (target, FrontEdgeBodyDist <= 0)
triggerall = ProjContact = 0, < 50
triggerall = stateno != [800,899]
triggerall = stateno != 2400
triggerall = enemynear,statetype != A
triggerall = enemynear,statetype != L
trigger1 = Statetype != A
trigger2 = stateno = 235
trigger3 = stateno = 1300
trigger4 = stateno = 240
x = ifelse(facing = -1,fvar(6),-fvar(6))

[State -2, Increase]
type = VarSet
triggerall = Var(6) <= 0
triggerall = var(12)
trigger1 = numtarget >= 1
trigger1 = target, hitshakeover
var(12) = var(12)+1

[State -2, Time counter]
type = VarSet
trigger1 = !var(12)
trigger1 = fvar(6)
var(12) = 1

[State -2, Freeze Pos During Superpause]
type = PosFreeze
trigger1 = Var(6)
value = 1

[State -2, Drop]
type = VarSet
triggerall = fvar(6)
trigger1 = !numtarget
trigger2 = projcontact = 1
trigger3 = movecontact = 1
fvar(6) = 0
ignorehitpause = 1

[State -2, Drop]
type = VarSet
triggerall = fvar(8)
trigger1 = !numtarget
trigger2 = projcontact = 1
trigger3 = numtarget >= 1 && target, gethitvar(xvel) = 0
var(17) = 0

[state Pulse-K]
type=ChangeAnim
trigger1=numenemy
trigger1=enemynear,name="pulse-K"&&enemynear,authorname="Masukenpu-kunZ"&&stateno=820&&anim=820&&time=102&&movetype=H
value=5340+ifelse(facing=1,0,1)
persistent=0

[state Pulse-K]
type=AssertSpecial
trigger1=numenemy
trigger1=enemynear,name="pulse-K"&&enemynear,authorname="Masukenpu-kunZ"&&stateno=820&&(anim=[5340,5341])&&time>=102&&movetype=H
flag=noshadow

[state Pulse-K]
type=Angleset
trigger1=numenemy
trigger1=enemynear,name="pulse-K"&&enemynear,authorname="Masukenpu-kunZ"&&stateno=820&&(anim=[5340,5341])&&time>=102&&movetype=H
value=0

;---------------------------------------------------------------------------
; States that are executed when in self's state file (use statedef -3)
;---------------------------------------------------------------------------

[Statedef -3]

[State 0, PlaySnd]
type = PlaySnd
trigger1 = stateno = 45
trigger1 = time = 0
value = S0,7

[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 5120
trigger1 = animelem = 3
x = 24 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 5120
trigger1 = animelem = 4
x = 18 * const(size.xscale)
[State 0, PosAdd]
type = PosAdd
trigger1 = anim = 5120
trigger1 = animelem = 5
x = 32 * const(size.xscale)

; Straight outta POTS
[State -3, Prevent Undergound Juggles]
type= targetbind
triggerall = statetype != A
trigger1 =stateno!=[800,890] ; better exclude this happening during throws
trigger1 =stateno!=410
trigger1 =stateno!=[1100,1150]
trigger1= movehit=1
trigger1= numtarget=1 && numenemy
trigger1= (target,time<=1) && (target,ID=enemynear,ID); this is just to prevent Simul issues as usual
trigger1= !(target,hitshakeover) && (target, hitfall) && (target, pos y>0)
trigger1= !(target,statetype=L) && !(target,stateno=[5080,5120])
pos= ceil(p2dist x), ceil(-pos y); keeps P2 at the same horizontal distance, but resets his Y position
ignorehitpause= 1

[State -3, Variable Height]
type= playerpush
triggerall= statetype=A && movetype!=H && numenemy
triggerall= p2bodydist x = [-(enemynear,const(size.ground.back) + enemynear,const(size.ground.front)), 0]; checks if both characters are within each other's width
trigger1= p2statetype=S
trigger1= p2dist y >= (enemynear,const(size.height) - 22)
trigger2= p2statetype=C
trigger2= p2dist y >= (enemynear,const(size.height) - 48)
trigger3= p2statetype=L
trigger3= p2dist y >= 11
value= 0
ignorehitpause= 1



;This controller plays a sound everytime KFM lands from a jump, or
;from his back-dash.
[State -3, Landing Sound]
type = PlaySnd
triggerall = Time = 1
trigger1 = stateno = 52 ;Jump land
trigger2 = stateno = 106 ;Run-back land
value = 40, 0

; Kamek and Luchini appear to have been the first ones to use the IsHomeTeam AI
; activation concept.
; Feel free to move this controller to your character's intro state for slightly
; better efficiency.
[State -3, SetAI]
type = VarSet
triggerall = Alive && !IsHelper
triggerall = IsHomeTeam
trigger1 = TeamSide = 2
trigger2 = MatchNo > 1
var(58) = 1

[State -3, AI Helper - Compatibly Partnered Version]
type = Helper
trigger1 = !var(58) && !IsHelper
trigger1 = !NumHelper(9742)
trigger1 = Alive && RoundState = 2
trigger1 = NumPartner
trigger1 = Partner,SelfAnimExist(9741)
HelperType = normal
name = "AI Helper (Simul Version)"
ID = 9742
pos = 9999999,99999
StateNo = 9742
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

; If you want to use the Guard mode, Dummy mode, Distance, or Button jam dummy
; control options in Training mode without activating the dummy's AI while
; working on the character, then all you need to do is temporarily disable
; this controller.  Or, if you want to permanently disable this controller in
; Training mode, then you could use the Training mode detection code available
; from my site ( http://www.mugenguild.net/~winane/ ), and then just add a
; "(var(59)&63)>30" triggerall to this controller.
; Alternatively, you can just set "Dummy control" to "Manual", press a P2 button
; to kill the AI helper, and then set dummy control back to "Cooperative".  (In
; fact, setting dummy control to manual isn't even necessary, if you press the
; P2 button prior to the first time you pause.)
[State -3, AI Helper]
type = Helper
triggerall = !var(58) && !IsHelper
triggerall = !NumHelper(9741)
triggerall = Alive && RoundState = 2
trigger1 = !NumPartner
trigger2 = !(Partner,SelfAnimExist(9741))
HelperType = normal
name = "AI Helper"
ID = 9741
pos = 9999999,99999
StateNo = 9741
KeyCtrl = 1
PauseMoveTime = 2147483647
SuperMoveTime = 2147483647

[State -3, TurnBackOnAI]
type = VarSet
trigger1 = var(58) = -2 && !IsHelper
trigger1 = Alive && RoundState = 2
var(58) = 1

; This method works somewhat in Linux Mugen version 2002.04.14,
; whereas the old humanly-impossible commands method does not.
; It is very important that this controller NOT be moved to State -2.
; Note that this part won't work nearly as well if AI.Cheat is turned off
; in mugen.cfg.
[State -3, XOR]
type = VarSet
triggerall = var(58)!=1 && !IsHelper
triggerall = !var(56)
triggerall = var(57) = GameTime-1
trigger1 = command = "a" ^^ command = "a2"
trigger2 = command = "b" ^^ command = "b2"
trigger3 = command = "c" ^^ command = "c2"
trigger4 = command = "x" ^^ command = "x2"
trigger5 = command = "y" ^^ command = "y2"
trigger6 = command = "z" ^^ command = "z2"
trigger7 = command = "start" ^^ command = "start2"
trigger8 = command = "holda" ^^ command = "holda2"
trigger9 = command = "holdb" ^^ command = "holdb2"
trigger10 = command = "holdc" ^^ command = "holdc2"
trigger11 = command = "holdx" ^^ command = "holdx2"
trigger12 = command = "holdy" ^^ command = "holdy2"
trigger13 = command = "holdz" ^^ command = "holdz2"
trigger14 = command = "holdstart" ^^ command = "holdstart2"
trigger15 = command = "holdfwd" ^^ command = "holdfwd2"
trigger16 = command = "holdback" ^^ command = "holdback2"
trigger17 = command = "holdup" ^^ command = "holdup2"
trigger18 = command = "holddown" ^^ command = "holddown2"
trigger19 = command = "recovery" ^^ command = "recovery2"
;Add more as desired. (See my notes in the CMD.)
var(58) = 1

; These next two controllers must be placed here, after the above XOR
; VarSet controller and before the below GameTime VarSet controller.
[State -3, fiXOR]
type = VarAdd
trigger1 = var(56) > 0 && !IsHelper
var(56) = -1

[State -3, fuXOR]
type = VarSet
trigger1 = var(57) < GameTime-1 && !IsHelper
var(56) = 31
IgnoreHitPause = 1

; It is very important that this controller NOT be moved to State -2, as putting
; it there would defeat the entire purpose of the controller, allowing the
; helper method or the XOR method to erroneously set the AI variable.
; And within State -3, don't put any ChangeState controllers before this
; controller, lest you unnecessarily delay your character's AI activation.
[State -3, GameTimeVar]
type = VarSet
trigger1 = !IsHelper
var(57) = GameTime
IgnoreHitPause = 1

; Within StateDef -3, none of your own AI-related code should come after the code
; provided here (and putting it before the code is also generally a bad idea).
; It's better to use State -1 (or, in special circumstances, State -2) instead.


