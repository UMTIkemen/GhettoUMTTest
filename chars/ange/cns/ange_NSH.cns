;立ち　弱　遠距離
[Statedef 200]
type=S
movetype=A
physics=S
ctrl=0
anim=200+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=8*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=200&&animelem=3
value=201
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(20*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
guardflag=M
hitflag=MAFD
pausetime=9,10
priority=4,Hit
sparkno=-1
hitsound=s100,11
guardsound=s100,18
ground.type=low
ground.slidetime=8
ground.hittime=8
ground.velocity=-4
air.type=High
air.velocity=-2.5,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-7
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=200

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(3)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=62,-58
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-55
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-55
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=50
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=50
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitS"
ID=7012
pos=0,-55
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardS"
ID=6031
pos=0,-55
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,10

[State ]
type=PlaySnd
trigger1=animelem=2&&prevstateno!=200
value=s0,75
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;立ち弱　近距離
[Statedef 205]
type=S
movetype=A
physics=S
ctrl=0
anim=205+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=8*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=205&&animelem=3
value=206
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(20*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
guardflag=M
hitflag=MAFD
pausetime=9,10
priority=4,Hit
sparkno=-1
hitsound=s100,11
guardsound=s100,18
ground.type=low
ground.slidetime=8
ground.hittime=8
ground.velocity=-4.2
air.type=High
air.velocity=-2.8,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-5
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=205

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(3)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=37,-76
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-70
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-70
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=50
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=50
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitS"
ID=7012
pos=0,-70
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardS"
ID=6031
pos=0,-70
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,10

[State ]
type=PlaySnd
trigger1=animelem=2&&prevstateno!=205
value=s0,76
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;立ち　中　遠距離
[Statedef 210]
type=S
movetype=A
physics=S
ctrl=0
anim=210+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=9*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=20&&anim=210&&animelem=3
value=211
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(48*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=medium
guardflag=M
hitflag=MAFD
pausetime=10,12
priority=4,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,14
ground.type=low
ground.slidetime=11
ground.hittime=14
ground.velocity=-5
air.type=High
air.velocity=-2.8,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-10
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=210

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(3)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=75,-68
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(31)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-62
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-62
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=80
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=80
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitM"
ID=7014
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardM"
ID=6032
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,77
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;立ち　中　近距離
[Statedef 215]
type=S
movetype=A
physics=S
ctrl=0
anim=215+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=9*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(4)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=20&&anim=215&&animelem=4
value=216
elem=4

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(4)>=0
damage=ceil(53*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=medium
guardflag=M
hitflag=MAFD
pausetime=12,12
priority=4,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,14
ground.type=low
ground.slidetime=11
ground.hittime=14
ground.velocity=-5.5
air.type=High
air.velocity=-2.8,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-9
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=215

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(4)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=51,-64
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(31)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-62
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-62
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=80
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=80
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitM"
ID=7014
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardM"
ID=6032
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,75
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;立ち　強　遠距離
[Statedef 220]
type=S
movetype=A
physics=S
ctrl=0
anim=220+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=10*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=PosAdd
trigger1=time=0
x=floor(37*fvar(32))

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(6)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=30&&anim=220&&animelem=6
value=221
elem=6

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(6)>=0
damage=ceil(95*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=hard
guardflag=M
hitflag=MAFD
pausetime=13,14
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.slidetime=14
ground.hittime=23
ground.velocity=-9.5
air.velocity=-3,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-20
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=220

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(6)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=50,-110
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(34)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-90
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-90
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-90
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-90
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=5
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=4
value=s0,79
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=var(9)=0&&command="FF"&&movecontact&&hitpausetime>=1&&var(28)>=720
value=100
ignorehitpause=1

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;立ち　強　近距離
[Statedef 225]
type=S
movetype=A
physics=S
ctrl=0
anim=225+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=10*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(4)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=30&&anim=225&&animelem=4
value=226
elem=4

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(4)>=0
damage=ceil(95*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=hard
guardflag=M
hitflag=MAFD
pausetime=13,14
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.slidetime=14
ground.hittime=23
ground.velocity=-8.5
air.velocity=-3,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-12.2
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=225

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(4)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=36,-125
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(34)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-90
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-90
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-90
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-90
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,80
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=var(9)=0&&command="FF"&&movecontact&&hitpausetime>=1&&var(28)>=720
value=100
ignorehitpause=1

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;特殊技　中　ジャンプ
[Statedef 230]
type=S
movetype=A
physics=S
ctrl=0
anim=230+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=time<=5&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=VelSet
trigger1=time>=5
x=5

[State ]
type=VelSet
trigger1=time=5
y=-5

[State ]
type=VelAdd
trigger1=time>=5
y=.58

[State ]
type=StateTypeSet
trigger1=time>=5
statetype=A

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="land"
ID=7010
pos=floor(-25*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7010
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="land2"
ID=17010
pos=floor(-25*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7010
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,77
channel=0

[State ]
type=VelSet
trigger1=time>=6&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=6&&Pos Y>=0
y=0

[State ]
type=ChangeState
trigger1=time>=6&&Pos Y>=0
value=231

;特殊技　中　攻撃
[Statedef 231]
type=S
movetype=A
physics=S
ctrl=0
sprpriority=2

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=9*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=Time=0
helpertype=normal
name="land"
ID=7080
postype=p1
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=Time=0
helpertype=normal
name="land2"
ID=17080
postype=p1
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(8)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=20&&anim=230&&animelem=8
value=231
elem=8

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(8)>=0
damage=ceil(64*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=medium
guardflag=M
hitflag=MAFD
pausetime=13,14
priority=5,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,14
ground.type=low
ground.slidetime=15
ground.hittime=23
ground.velocity=-9
air.type=High
air.velocity=-3,-6.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-13
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=230

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(8)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=75,-68
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(31)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-62
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-62
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=80
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=80
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitM"
ID=7014
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardM"
ID=6032
pos=0,-62
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=8
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=8
value=s0,87
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movehit&&enemynear,statetype=A
fvar(12)=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&fvar(12)=1&&command="HJump"&&movecontact&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&fvar(12)=1&&command="Jump"&&movecontact&&HitPauseTime>=1
value=40
ignorehitpause=1

[State ]
type=Varset
trigger1=movecontact||enemynear,statetype!=A
fvar(12)=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;特殊技　強
[Statedef 240]
type=S
movetype=A
physics=S
ctrl=0
anim=240+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=12*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(5)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=30&&anim=240&&animelem=5
value=241
elem=5

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(5)>=0
damage=ceil(95*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=S,NA
animtype=hard
guardflag=M
hitflag=MAFD
pausetime=14,13
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.slidetime=14
ground.hittime=23
ground.velocity=-4,-11.2
air.velocity=-4,-11.2
guard.sparkno=-1
yaccel=.68
fall=1
fall.recover=0
ground.cornerpush.veloff=0
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=240

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(5)>=1
attr=S,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=70,-93
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(34)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-80
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-80
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[State ]
type=Explod
trigger1=animelem=6
anim=6033
postype=p1
pos=floor(-25*fvar(32)),floor(-79*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
ownpal=1
sprpriority=3

[State ]
type=varrandom
trigger1=animelem=4
v=0
range=1,4

[State ];目を覚まして！
type=VarSet
trigger1=animelem=4&&(P2name="ushiromiya battler"||P2name="ushiromiya_battler"||P2name="battler ushiromiya"||P2name="battler_ushiromiya"||P2name="battler"||P2name="batora"||(P2name="Lam Bat"&&enemynear,var(57)=10000))
var(0)=0

[State ];こんなお金！
type=VarSet
trigger1=animelem=4&&(P2name="eva beatrice"||P2name="eva_beatrice"||P2name="eva-beatrice"||P2name="EvaBeatrice"||(P2name="Eva Roza"&&enemynear,var(57)=0))
var(0)=1

[State ];触らないで！
type=VarSet
triggerall=animelem=4
trigger1=P2name="beatrice"||P2name="ronove"||P2name="rei"||P2name="abe"||P2name="Mr.HEART"||P2name="papillon"||P2name="okamamajo"||P2name="Assault Abe"||P2name="A-Rei"||P2name="QB"||P2name="cubee"||(P2name="Jessi Rono"&&enemynear,var(57)=10000)
var(0)=2

[State ];ごめん！
type=VarSet
trigger1=animelem=4&&(P2name="lucifer"||P2name="chiester410"||P2name="chiester 410"||P2name="chiester_410"||P2name="chiester-410"||P2name="Chiester410_S")
var(0)=3

[State ];おりゃぁ！
type=VarSet
triggerall=animelem=4
trigger1=P2name="USHIROMIYA ANGE"||P2name="ushiromiya_ange"||P2name="ange ushiromiya"||P2name="ange_ushiromiya"||P2name="ange"||P2name="virgilia"||P2name="kanon"||P2name="shannon"||P2name="shanon"||P2name="ushiromiya Jessica"||P2name="ushiromiya_Jessica"
trigger2=P2name="Jessica ushiromiya"||P2name="Jessica ushiromiya"||P2name="Jessica"||P2name="ushiromiya George"||P2name="ushiromiya_George"||P2name="George ushiromiya"||P2name="George_ushiromiya"||P2name="BBattler"||P2name="Battler.B"||P2name="Battler_B"
trigger3=P2name="ushiromiya_Rosa"||P2name="Rosa ushiromiya"||P2name="Rosa_ushiromiya"||P2name="Furudo_Erika"||P2name="Furudo Erika"||((P2name="Lam Bat"||P2name="Jessi Rono")&&enemynear,var(57)=0)||P2name="Battler-B"||P2name="Battler B"||P2name="BattlerB"
trigger4=P2name="Dlanor A Knox"||P2name="Dlanor_A_Knox"||P2name="Dlanor-A-Knox"||P2name="Dlanor.A.Knox"||P2name="Dlanor"||P2name="B.Battler"||P2name="B_Battler"||P2name="B-Battler"||P2name="Black_Battler"||P2name="Rosaurum"||P2name="Jessica Ushiromiya_S"
trigger5=P2name="Black-Battler"||P2name="BlackBattler"||P2name="Battler.Black"||P2name="Battler_Black"||(P2name="Eva Roza"&&enemynear,var(57)=10000)||P2name="Erika_Furudo"||P2name="BattlerBlack"||P2name="Erika Furudo"||P2name="George"||P2name="B Battler"
trigger6=P2name="ushiromiya Rosa"||P2name="Battler-Black"||P2name="Black.Battler"||P2name="Black Battler"||P2name="kuroki_battler"||P2name="Dlanor A. Knox"||P2name="kuroki battler"||P2name="Dlanor A.Knox"||P2name="Battler Black"||P2name="Dlanor_A.Knox"
trigger7=P2name="Dlanor-A.Knox"
var(0)=4

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,9

[State ]
type=PlaySnd
trigger1=animelem=4
value=s0,ifelse(var(0)=0,88,0)+ifelse(var(0)=1,89,0)+ifelse(var(0)=2,90,0)+ifelse(var(0)=3,91,0)+ifelse(var(0)=4,80,0)
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=var(9)=0&&command="FF"&&movecontact&&hitpausetime>=1&&var(28)>=720
value=100
ignorehitpause=1

[State ]
type=varset
trigger1=var(9)=0&&var(12)!=1&&command="HJump"&&movehit&&HitPauseTime>=1
var(11)=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=var(9)=0&&command="Jump"&&movehit&&HitPauseTime>=1
value=40
ctrl=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;しゃがみ　弱
[Statedef 400]
type=C
movetype=A
physics=C
ctrl=0
anim=400+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=8*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(2)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=400&&animelem=2
value=401
elem=2

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(2)>=0
damage=ceil(18*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=C,NA
guardflag=L
hitflag=MFD
pausetime=9,10
priority=4,Hit
sparkno=-1
hitsound=s100,11
guardsound=s100,18
ground.type=low
ground.slidetime=8
ground.hittime=8
ground.velocity=-5.8
air.type=High
air.velocity=-3,-5
guard.sparkno=-1
yaccel=.48
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-6.5
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
down.cornerpush.veloff=-10
down.velocity=-2,-2
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=400

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(2)>=1
attr=C,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=60,-5
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-8
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-8
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=50
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=50
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitS"
ID=7012
pos=0,-8
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardS"
ID=6031
pos=0,-8
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=1
value=s100,10

[State ]
type=PlaySnd
trigger1=animelem=1&&prevstateno!=400
value=s0,81
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=11
ctrl=1

;しゃがみ　中
[Statedef 410]
type=C
movetype=A
physics=C
ctrl=0
anim=410+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=9*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=410&&animelem=3
value=411
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(59*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=C,NA
animtype=medium
guardflag=L
hitflag=MAFD
pausetime=11,12
priority=4,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,14
ground.type=low
ground.slidetime=11
ground.hittime=14
ground.velocity=-5.5
air.type=High
air.velocity=-3,-5
guard.sparkno=-1
yaccel=.48
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-10
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=410

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(3)>=1
attr=C,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=68,-45
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(8)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-40
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-40
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=80
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=80
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitM"
ID=7014
pos=0,-40
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardM"
ID=6032
pos=0,-40
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,82
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=11
ctrl=1

;しゃがみ　強
[Statedef 420]
type=C
movetype=A
physics=C
ctrl=0
anim=420+ifelse(fvar(22)>=6,1,0)
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=10*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(4)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=420&&animelem=4
value=421
elem=4

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(4)>=0
damage=ceil(75*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=C,NA
animtype=hard
guardflag=L
hitflag=MFD
pausetime=13,14
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.type=trip
ground.slidetime=14
ground.hittime=23
ground.velocity=-1.5,-9
air.type=High
air.velocity=-1.5,-6
guard.sparkno=-1
yaccel=.65
fall=1
fall.recover=0
ground.cornerpush.veloff=0
air.cornerpush.veloff=ifelse(enemynear,statetype=L,-10,0)
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=420

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(4)>=1
attr=C,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=105,-8
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movecontact
fvar(35)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)&&numtarget
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-8
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-8
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-8
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-8
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ];ダウン追い打ち移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!MoveGuarded&&fvar(21)=1&&numtarget
trigger1=target,stateno!=[5082,5085]
value=ifelse(numhelper(1216)=1,5084,5082)
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,83
channel=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10100)&&!numhelper(10200)&&!numhelper(10300)&&!numhelper(10400)&&!numhelper(10500)&&!numhelper(10600)&&!numhelper(10700)&&!numhelper(10800)&&!numhelper(10900)
triggerall=!numhelper(11000)&&!numhelper(11100)&&!numhelper(11200)&&!numhelper(11300)&&!numhelper(11400)&&!numhelper(11500)&&!numhelper(11600)&&!numhelper(11700)&&!numhelper(11800)&&!numhelper(11900)
triggerall=command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="attack touch"
ID=7063
pos=floor(-5*fvar(32)),floor(-40*fvar(33))
postype=p1
stateno=7063
facing=-1
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
triggerall=var(9)=0&&!numhelper(10000+(var(57)*100))&&command!="ATP"&&command="x"&&movecontact&&hitpausetime>=1
trigger1=var(28)>=720||var(31)=4
trigger2=numhelper(3000)
trigger2=helper(3000),var(27)=1
helpertype=normal
name="partner atttack"
ID=10000+(var(57)*100)
pos=-320,-110
postype=p1
stateno=10006
ignorehitpause=1
persistent=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=11
ctrl=1

;空中　弱
[Statedef 600]
type=A
movetype=A
physics=A
ctrl=0
anim=600
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=8*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(2)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=10&&anim=600&&animelem=2
value=601
elem=2

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(2)>=0
damage=ceil(22*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=A,NA
guardflag=HA
hitflag=MAF
pausetime=9,10
priority=4,Hit
sparkno=-1
hitsound=s100,11
guardsound=s100,18
ground.slidetime=8
ground.hittime=8
ground.velocity=-5
air.type=High
air.velocity=-2.5,-6.5
airguard.velocity=-4,1.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-7
air.cornerpush.veloff=0
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=600

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(2)>=1
attr=A,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=35,-50
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-88
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-88
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=50
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=50
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=5
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitS"
ID=7012
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardS"
ID=6031
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,10

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,84
channel=0

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

;空中　中
[Statedef 610]
type=A
movetype=A
physics=A
ctrl=0
anim=610
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=9*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=20&&anim=610&&animelem=3
value=611
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(53*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=A,NA
animtype=medium
guardflag=HA
hitflag=MAF
pausetime=11,12
priority=4,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,14
ground.slidetime=11
ground.hittime=14
ground.velocity=-6.5
air.type=High
air.velocity=-2.5,-6.5
airguard.velocity=-4,1.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-10
air.cornerpush.veloff=0
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=610

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(3)>=1
attr=A,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=62,-38
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-88
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-88
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=80
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=80
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=8
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitM"
ID=7014
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardM"
ID=6032
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movecontact
fvar(13)=1
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,85
channel=0

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

;空中　強
[Statedef 620]
type=A
movetype=A
physics=A
ctrl=0
anim=620
sprpriority=2

[State ]
type=Varset
trigger1=time=0
var(9)=0

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(9)=1
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
fvar(14)=10*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(4)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=30&&anim=620&&animelem=4
value=621
elem=4

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(4)>=0
damage=ceil(90*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=A,NA
animtype=medium
guardflag=HA
hitflag=MAF
pausetime=11,12
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.slidetime=11
ground.hittime=14
ground.velocity=-6.5
air.velocity=-2.5,-6.5
airguard.velocity=-4,1.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-10
air.cornerpush.veloff=0
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
ID=620

[State ];相殺
type=ReversalDef
trigger1=!movecontact&&!movereversed&&p2movetype=A&&animelemtime(4)>=1
attr=A,NA
reversal.attr=SCA,SA,NA
pausetime=20,20
sparkno=-1
hitsound=S100,27
NumHits=0
ID=20000
persistent=0
hitonce=1

[State ]
type=Varset
trigger1=numtarget(20000)=1
var(13)=40
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=numtarget(20000)=1
anim=6260
postype=p1
pos=75,-40
scale=1,1
sprpriority=10
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=EnvShake
trigger1=numtarget(20000)=1
time=20
freq=160
ampl=-4
ignorehitpause=1
persistent=0

[State ]
type=movehitreset
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetDrop
trigger1=numtarget(20000)=1
ignorehitpause=1
persistent=0

[State ]
type=TargetpowerAdd
trigger1=var(9)=0&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=var(9)=0&&movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-88
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-88
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(9)=0&&fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=var(9)=0&&MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=var(9)=0&&MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(9)=0&&movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(9)=0&&MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movecontact
fvar(13)=1
ignorehitpause=1
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,86
channel=0

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

;空中　特殊技　ボディプレス
[Statedef 630]
type=A
movetype=A
physics=A
ctrl=0
anim=630
sprpriority=2

[State ]
type=Varadd
trigger1=movehit
fvar(14)=12*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(3)>=0
var(15)=1
ignorehitpause=1

[State ]
type=changeanim
trigger1=fvar(7)>=40&&anim=630&&animelem=3
value=631
elem=3

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(3)>=0
damage=ceil(95*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=A,NA
animtype=medium
guardflag=HA
hitflag=MAF
pausetime=11,12
priority=5,Hit
sparkno=-1
hitsound=s100,16
guardsound=s100,17
ground.slidetime=11
ground.hittime=14
ground.velocity=-5.5
air.velocity=-2.5,-6.5
airguard.velocity=-4,1.5
guard.sparkno=-1
yaccel=.58
fall.recover=ifelse(var(19),0,1)
fall.recovertime=10
ground.cornerpush.veloff=-10
air.cornerpush.veloff=0
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=numtarget>=1&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-88
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-88
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0
ignorehitpause=1
persistent=0

[State ];FIRSTATTACK表示用被り制御
type=Varset
trigger1=var(13)=7
fvar(25)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=fvar(25)=0&&var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=movehit
value=150
ignorehitpause=1
persistent=0

[State ]
type=powerAdd
trigger1=MoveGuarded
value=150
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movehit
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=MoveGuarded
var(58)=15
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="hitL"
ID=7016
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-88
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=varrandom
trigger1=time=0
v=0
range=0,1

[State ]
type=PlaySnd
trigger1=animelem=1
value=s100,9

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,92+ifelse(var(0)=1,1,0)
channel=0

[state ];追撃可能フラグ
type=Varadd
trigger1=var(9)=0&&fvar(28)!=0&&fvar(7)=0&&movehit=1&&!movereversed
fvar(7)=1
ignorehitpause=1
persistent=0

[state ];Fall解除移行
type=TargetState
trigger1=var(9)=0&&movehit=1&&!movereversed&&!MoveGuarded&&fvar(28)>=2&&numtarget
trigger1=target,alive&&(target,stateno!=[5082,5085])&&(target,stateno!=[1210,1215])&&target,stateno!=1219&&(target,stateno!=[4716,4719])&&target,stateno!=4404
trigger1=(target,prevstateno!=[5082,5085])&&(target,prevstateno!=[1210,1215])&&target,prevstateno!=1219&&(target,prevstateno!=[4716,4719])&&target,prevstateno!=4404
value=5021
ignorehitpause=1
persistent=0

;ジャーマンスープレックス　つかみ
[Statedef 2000]
type=S
movetype=A
physics=S
ctrl=0
anim=ifelse((enemynear,stateno=[120,155]),2004,2000)
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=VelSet
trigger1=time=[5,12]
x=2.5

[State ]
type=VelSet
trigger1=time=13
x=0

[State ]
type=Helper
trigger1=time=13
helpertype=normal
name="land"
ID=47004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=time=13
helpertype=normal
name="land2"
ID=57004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=HitDef
Trigger1=animelem=1
attr=S,ST
hitflag=M
guardflag=M
priority=1,Miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
ground.velocity=-2.5,-4
air.velocity=-2.5,-4
yaccel=.48
fall.recover=0
getpower=0,0
guard.dist=0
hitonce=1
numhits=0
ID=2000

[State ]
type=TargetState
trigger1=movehit&&!MoveGuarded&&numtarget
value=2002
ID=2000
ignorehitpause=1

[State ]
type=ChangeState
trigger1=movehit&&!MoveGuarded&&numtarget
value=2001
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,1

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,94
channel=0

[State ]
type=Varset
trigger1=time=0
fvar(16)=0
ignorehitpause=1

[State ]
type=ChangeState
Trigger1=AnimTime=0
value=0
ctrl=1

;ジャーマンスープレックス　投げる
[Statedef 2001]
type=S
movetype=A
physics=S
ctrl=0
anim=2001
sprpriority=2

[State ]
type=Explod
trigger1=time=0
anim=2003
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-3
bindtime=-1
removeongethit=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varadd
trigger1=time=0
fvar(14)=18*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0&&var(25)=0
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
var(25)=1

[State ]
type=Width
trigger1=animelem=1&&FrontEdgeBodyDist<=40
edge=60,0

[State ]
type=TargetBind
trigger1=AnimElemTime(7)<=12
pos=floor(-10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(8)>=0&&AnimElemTime(8)<9
pos=floor(10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(9)>=0&&AnimElemTime(9)<9
pos=floor(60*fvar(32)),floor(-40*fvar(33))

[State ]
type=TargetBind
trigger1=animelem=10
pos=floor(120*fvar(32)),0

[State ]
type=Explod
trigger1=animelem=10
anim=6006
postype=p1
pos=floor(120*fvar(32)),0
scale=.5,.5
sprpriority=6
pausemovetime=100
supermovetime=100

[State ]
type=EnvShake
trigger1=animelem=10
time=10
freq=160
ampl=-4

[State ]
type=PlaySnd
trigger1=animelem=10
value=s100,6

[State ]
type=powerAdd
trigger1=animelem=10
value=333

[State ]
type=Varadd
trigger1=animelem=10
var(58)=33

[State ]
type=lifeAdd
trigger1=animelem=10&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil(29*fvar(29))

[State ]
type=TargetLifeAdd
trigger1=animelem=10
value=ceil(-145*fvar(29))

[State ]
type=hitadd
trigger1=animelem=10
value=1

[State ]
type=Varadd
trigger1=animelem=10
var(30)=1

[State ]
type=Helper
trigger1=numhelper(1216)=0&&animelem=10&&fvar(14)>=150
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=animelem=10&&fvar(14)>=150
value=1210
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=animelemtime(1)=0||animelemtime(4)=0||animelemtime(17)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(ifelse(animelemtime(1)=0,0,ifelse(animelemtime(4)=0,30,-22))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(1)=0||animelemtime(4)=0||animelemtime(17)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(ifelse(animelemtime(1)=0,0,ifelse(animelemtime(4)=0,30,-22))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(17)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(27*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(17)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(27*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=varrandom
trigger1=animelem=1
v=0
range=0,1

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,95+ifelse(var(0)=1,1,0)
channel=0

[State ]
type=varrandom
trigger1=animelem=6
v=0
range=0,2

[State ]
type=PlaySnd
trigger1=animelem=6
value=s0,97+ifelse(var(0)=1,1,ifelse(var(0)=2,2,0))
channel=0

[State ]
type=ChangeState
Trigger1=AnimTime=0
value=0
ctrl=1

;七姉妹召喚（レヴィアタン）
[Statedef 2100]
type=S
movetype=A
physics=S
ctrl=0
anim=2100
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=8
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=8
anim=6049
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6049

[State ]
type=PlaySnd
trigger1=animelem=9
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,104
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelemtime(8)=3
helpertype=normal
name="mahoujin"
ID=2101
pos=40,5
postype=p2
stateno=2101
facing=-1

[State ]
type=Helper
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;七姉妹召喚（ベルフェゴール）
[Statedef 2200]
type=S
movetype=A
physics=S
ctrl=0
anim=2100
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=8
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=8
anim=6049
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6049

[State ]
type=PlaySnd
trigger1=animelem=9
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,105
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=9
helpertype=normal
name="mahoujin"
ID=2201
pos=floor(40*fvar(32)),floor(5*fvar(33))
postype=p2
stateno=2101
facing=-1

[State ]
type=Helper
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;七姉妹召喚（サタン）
[Statedef 2300]
type=S
movetype=A
physics=S
ctrl=0
anim=2100
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=8
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=8
anim=6049
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=PlaySnd
trigger1=animelem=9
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,106
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=9
helpertype=normal
name="mahoujin"
ID=2301
pos=floor(40*fvar(32)),floor(5*fvar(33))
postype=p2
stateno=2101
facing=-1

[State ]
type=Helper
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;マモン召喚（弱）
[Statedef 2400]
type=S
movetype=A
physics=S
ctrl=0
anim=2400
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=7
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=7
anim=6061
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6061

[State ]
type=PlaySnd
trigger1=animelem=8
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,108
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=8
helpertype=normal
name="mahoujin"
ID=2401
pos=floor(80*fvar(32)),floor(5*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;マモン召喚（中）
[Statedef 2500]
type=S
movetype=A
physics=S
ctrl=0
anim=2400
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=7
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=7
anim=6061
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6061

[State ]
type=PlaySnd
trigger1=animelem=8
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,109
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=8
helpertype=normal
name="mahoujin"
ID=2501
pos=floor(80*fvar(32)),floor(5*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;マモン召喚（強）
[Statedef 2600]
type=S
movetype=A
physics=S
ctrl=0
anim=2400
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=7
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=7
anim=6061
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=PlaySnd
trigger1=animelem=8
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,110
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=8
helpertype=normal
name="mahoujin"
ID=2601
pos=floor(80*fvar(32)),floor(5*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(8)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;さくたろう召喚（弱）
[Statedef 2700]
type=S
movetype=A
physics=S
ctrl=0
anim=2500
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=6
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=6
anim=6072
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6072

[State ]
type=PlaySnd
trigger1=animelem=7
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,112
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=7
helpertype=normal
name="sakutarou"
ID=2750
pos=floor(-40*fvar(32)),floor(-10*fvar(33))
postype=p1
stateno=2750

[State ]
type=Helper
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;さくたろう召喚（中）
[Statedef 2701]
type=S
movetype=A
physics=S
ctrl=0
anim=2500
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=6
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=6
anim=6072
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6072

[State ]
type=PlaySnd
trigger1=animelem=7
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,112
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=7
helpertype=normal
name="sakutarou"
ID=2750
pos=floor(40*fvar(32)),floor(-10*fvar(33))
postype=p1
stateno=2750

[State ]
type=Helper
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;さくたろう召喚（強）
[Statedef 2702]
type=S
movetype=A
physics=S
ctrl=0
anim=2500
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=6
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=6
anim=6072
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6072

[State ]
type=PlaySnd
trigger1=animelem=7
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=2
value=s0,112
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelem=7
helpertype=normal
name="sakutarou"
ID=2750
pos=floor(85*fvar(32)),floor(-10*fvar(33))
postype=p1
stateno=2750

[State ]
type=Helper
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(7)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

;さくたろう召喚〜命令
[Statedef 2710]
type=S
movetype=A
physics=S
ctrl=0
anim=2501
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=1
anim=6071
postype=p1
pos=floor(54*fvar(32)),floor(-88*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,113
channel=0

[State ]
type=Helper
triggerall=animelemtime(3)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
triggerall=animelemtime(3)>=1&&numhelper(3000)&&roundstate=2
triggerall=var(31)=16||helper(3000),var(26)=1
trigger1=helper(3000),var(35)=0&&((command="ATP"&&var(28)>=720&&power>=3000&&var(58)>=300)||(command="MetaSP"&&var(19)=1)||(command="Ranbu"&&power>=2000)||(command="SP1"&&power>=1000))
trigger2=power>=1000&&(command="SP2"||command="SP3")
trigger3=command="SP4"&&power>=1000&&numhelper(2750)=1
trigger3=helper(2750),stateno=2752||helper(2750),stateno=2755
value=4500-ifelse(command="MetaSP",100,ifelse(command="Ranbu",200,ifelse(command="SP1",500,ifelse(command="SP2",400,ifelse(command="SP3",300,ifelse(command="SP4",1770,0))))))

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;さくたろう召喚〜命令（空中）
[Statedef 2720]
type=A
movetype=A
physics=A
ctrl=0
anim=2502
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Explod
trigger1=animelem=1
anim=6075
ID=6075
postype=p1
pos=floor(57*fvar(32)),floor(-73*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,114
channel=0

;ずっこけ、さくたろ！〜命令
[Statedef 2730]
type=S
movetype=A
physics=S
ctrl=0
anim=2501
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=VelSet
trigger1=vel x>0&&(prevstateno=[100,101])
x=fvar(18)-(time*.16)

[State ]
type=VelSet
trigger1=vel x<0&&(prevstateno=[100,101])
x=0

[State ]
type=Varset
trigger1=vel x=0
fvar(18)=0

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Poweradd
trigger1=animelem=1&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-1000

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Explod
trigger1=animelem=1
anim=6071
postype=p1
pos=floor(54*fvar(32)),floor(-88*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,115
channel=0

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelemtime(3)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
trigger1=animelemtime(3)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
value=4400

;ずっこけ、さくたろ！〜命令（空中）
[Statedef 2740]
type=A
movetype=A
physics=A
ctrl=0
anim=2502
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=Poweradd
trigger1=animelem=1&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-1000

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Explod
trigger1=animelem=1
anim=6075
ID=6075
postype=p1
pos=floor(57*fvar(32)),floor(-73*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,116
channel=0

;ダブルジャーマンスープレックス　つかみ
[Statedef 4000]
type=S
movetype=A
physics=S
ctrl=0
anim=ifelse((enemynear,stateno=[120,155]),4004,4000)
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=NotHitBy
trigger1=time<=31
value=SCA
time=1

[State ]
type=Pause
trigger1=animelem=2
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=2||(var(16)=[1,30])
var(16)=1

[State ]
type=Poweradd
trigger1=animelem=2&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-1000

[State ]
type=Explod
triggerall=animelem=2
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=2
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=(time=[1,5])||(time=[26,30])
var(0)=ifelse((time=[1,5]),20,-20)

[State ]
type=BGPalFX
trigger1=time=[1,31]
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=2
anim=6034
postype=p1
pos=floor(5*fvar(32)),floor(-80*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,19

[State ]
type=VelSet
trigger1=time=[32,39]
x=2.5

[State ]
type=VelSet
trigger1=time=40
x=0

[State ]
type=Helper
trigger1=time=40
helpertype=normal
name="land"
ID=47004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=time=40
helpertype=normal
name="land2"
ID=57004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=HitDef
Trigger1=animelem=1
attr=S,HT
hitflag=M
guardflag=M
priority=1,Miss
sparkno=-1
sprpriority=1
p1facing=1
p2facing=1
fall.recover=0
ground.velocity=2.5,-4
air.velocity=2.5,-4
yaccel=.48
getpower=0,0
guard.dist=0
hitonce=1
numhits=0
ID=4000

[State ]
type=TargetState
trigger1=movehit&&!MoveGuarded&&numtarget
value=4002
ID=4000
ignorehitpause=1

[State ]
type=ChangeState
trigger1=movehit&&!MoveGuarded&&numtarget
value=4001
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,100
channel=0

[State ]
type=ChangeState
Trigger1=AnimTime=0
value=0
ctrl=1

;ダブルジャーマンスープレックス　投げる
[Statedef 4001]
type=S
movetype=A
physics=S
ctrl=0
anim=4001
sprpriority=2

[State ]
type=Explod
trigger1=time=30
anim=4003
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-3
bindtime=-1
removeongethit=1

[State ]
type=turn
trigger1=animtime=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varadd
trigger1=time=0
fvar(14)=21*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0&&var(25)=0
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
var(25)=1

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Pause
trigger1=animelem=1
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=1||(var(16)=[1,30])
var(16)=1

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=time<=4
var(0)=20

[State ]
type=Varadd
trigger1=time=[25,29]
var(0)=-20

[State ]
type=BGPalFX
trigger1=time<=30
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Helper
trigger1=animelem=1&&facing=1
helpertype=normal
name="catin dj"
ID=7020
pos=-260,0
postype=left
stateno=7020
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=1&&facing=-1
helpertype=normal
name="catin djH"
ID=7020
pos=260,0
postype=right
facing=-1
stateno=7020
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=animelem=1
anim=6034
postype=p1
pos=floor(5*fvar(32)),floor(-80*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Width
trigger1=animelem=1&&FrontEdgeBodyDist<=40
edge=60,0

[State ]
type=TargetBind
trigger1=AnimElemTime(1)>=31&&AnimElemTime(7)<=12
pos=floor(-10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(8)>=0&&AnimElemTime(8)<9
pos=floor(10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(9)>=0&&AnimElemTime(9)<9
pos=floor(60*fvar(32)),floor(-40*fvar(33))

[State ]
type=TargetBind
trigger1=AnimElemTime(10)>=0&&AnimElemTime(10)<10
pos=floor(100*fvar(32)),0

[State ]
type=SprPriority
trigger1=AnimElemTime(11)>=0&&AnimElemTime(12)<7
value=0

[State ]
type=TargetBind
trigger1=AnimElemTime(11)>=0&&AnimElemTime(12)<7
pos=floor(80*fvar(32)),0

[State ]
type=SprPriority
trigger1=AnimElemTime(13)>=0
value=2

[State ]
type=TargetBind
trigger1=AnimElemTime(13)>=0&&AnimElemTime(13)<6
pos=floor(50*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(14)>=0&&AnimElemTime(14)<7
pos=floor(50*fvar(32)),floor(10*fvar(33))

[State ]
type=TargetBind
trigger1=AnimElemTime(15)>=0&&AnimElemTime(18)<12
pos=floor(50*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(19)>=0&&AnimElemTime(19)<9
pos=floor(30*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(20)>=0&&AnimElemTime(20)<9
pos=floor(-30*fvar(32)),floor(-40*fvar(33))

[State ]
type=TargetBind
trigger1=animelem=21
pos=floor(-90*fvar(32)),0

[State ]
type=Explod
trigger1=animelem=10
anim=6006
postype=p1
pos=floor(100*fvar(32)),0
scale=.5,.5
sprpriority=6

[State ]
type=Explod
trigger1=animelem=10
anim=6085
postype=p1
pos=floor(95*fvar(32)),floor(10*fvar(33))
scale=1,1
sprpriority=7

[State ]
type=Explod
trigger1=animelem=21
anim=6006
postype=p1
pos=floor(-90*fvar(32)),0
scale=.5,.5
sprpriority=6

[State ]
type=Explod
trigger1=animelem=21
anim=6058
postype=p1
pos=floor(-70*fvar(32)),floor(-5*fvar(33))
scale=.8,.8
sprpriority=-6

[State ]
type=Explod
trigger1=animelem=22
anim=6085
postype=p1
pos=floor(-90*fvar(32)),floor(10*fvar(33))
scale=1,1
sprpriority=7
facing=-1

[State ]
type=Helper
trigger1=animelem=21
helpertype=normal
name="kemuriU"
ID=67001
pos=floor(-90*fvar(32)),floor(-10*fvar(33))
postype=p1
stateno=7001

[State ]
type=Helper
trigger1=animelem=21
helpertype=normal
name="kemuriU2"
ID=77001
pos=floor(-90*fvar(32)),floor(-10*fvar(33))
postype=p1
stateno=7001

[State ]
type=Helper
trigger1=animelem=21
helpertype=normal
name="land"
ID=67004
postype=p1
pos=floor(-90*fvar(32)),0
stateno=7004

[State ]
type=Helper
trigger1=animelem=21
helpertype=normal
name="land2"
ID=77004
postype=p1
pos=floor(-90*fvar(32)),0
stateno=7004

[State ]
type=EnvShake
trigger1=animelem=10||animelem=21
time=10
freq=160
ampl=-4

[State ]
type=PlaySnd
trigger1=animelem=10||animelem=21
value=s100,6

[State ]
type=Varadd
trigger1=animelem=10
var(58)=10

[State ]
type=Varadd
trigger1=animelem=21
var(58)=30

[State ]
type=lifeAdd
trigger1=animelem=21&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil(50*fvar(29))

[State ]
type=TargetLifeAdd
trigger1=animelem=21
value=ceil(-250*fvar(29))

[State ]
type=hitadd
trigger1=animelem=10||animelem=21
value=1

[State ]
type=Varadd
trigger1=animelem=10||animelem=21
var(30)=1

[State ]
type=Helper
trigger1=animelem=21&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
helpertype=normal
name="MASSACRE"
ID=7077
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7077
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=numhelper(1216)=0&&animelem=21&&fvar(14)>=150
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=animelem=21&&fvar(14)>=150
value=1210
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=animelemtime(2)=0||animelemtime(4)=0||animelemtime(28)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(ifelse(animelemtime(2)=0,0,ifelse(animelemtime(4)=0,30,-5))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(2)=0||animelemtime(4)=0||animelemtime(28)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(ifelse(animelemtime(2)=0,0,ifelse(animelemtime(4)=0,30,-5))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(28)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(42*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(28)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(42*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,101
channel=0

[State ]
type=PlaySnd
trigger1=animelem=6
value=s0,102
channel=0

[State ]
type=PlaySnd
trigger1=animelem=16
value=s0,103
channel=0

[State ]
type=ChangeState
Trigger1=AnimTime=0
value=0
ctrl=1

;ベルゼブブ・アスモデウス召喚
[Statedef 4100]
type=S
movetype=A
physics=S
ctrl=0
anim=4250
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=8
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=8
anim=6049
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6049

[State ]
type=PlaySnd
trigger1=animelem=9
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,107
channel=0

[State ]
type=Helper
trigger1=animelem=9
helpertype=normal
name="mahoujin"
ID=4101
pos=floor(40*fvar(32)),floor(5*fvar(33))
postype=p2
stateno=2101
facing=-1

[State ]
type=NotHitBy
trigger1=time=[5,37]
value=SCA
time=1

[State ]
type=Pause
trigger1=animelem=3
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=3||(var(16)=[1,30])
var(16)=1

[State ]
type=Poweradd
trigger1=animelem=1&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-1000

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=(time=[5,9])||(time=[30,34])
var(0)=ifelse((time=[5,9]),20,-20)

[State ]
type=BGPalFX
trigger1=time=[5,35]
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=3
anim=6034
postype=p1
pos=floor(4*fvar(32)),floor(-90*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3&&facing=1
helpertype=normal
name="catin ba"
ID=7023
pos=-260,0
postype=left
stateno=7023
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3&&facing=-1
helpertype=normal
name="catin baH"
ID=7023
pos=260,0
postype=right
facing=-1
stateno=7023
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kaiten mahouzinL"
ID=7027
postype=p1
stateno=7027
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kaiten mahouzinS"
ID=7028
postype=p1
stateno=7028
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=animelemtime(7)=7&&facing=1
anim=6056
postype=left
pos=160,400
scale=2,2
vel=0,-6
sprpriority=90

[State ]
type=Explod
trigger1=animelemtime(7)=7&&facing=-1
anim=6056
postype=right
pos=-160,400
scale=2,2
vel=0,-6
sprpriority=90
facing=-1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,19

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
trigger1=animelemtime(9)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
value=4400

;七杭召喚
[Statedef 4200]
type=S
movetype=A
physics=S
ctrl=0
anim=4200
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=Explod
trigger1=animelem=8
anim=6036
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6036

[State ]
type=Explod
trigger1=animelem=8
anim=6061
postype=p1
pos=floor(4*fvar(32)),floor(-83*fvar(33))
scale=.5*fvar(32),.8*fvar(33)
sprpriority=3
bindtime=-1
removeongethit=1
ID=6061

[State ]
type=PlaySnd
trigger1=animelem=9
value=s100,8

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,111
channel=0

[State ]
type=NotHitBy
trigger1=time=[5,37]
value=SCA
time=1

[State ]
type=Pause
trigger1=animelem=3
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=3||(var(16)=[1,30])
var(16)=1

[State ]
type=Poweradd
trigger1=animelem=1&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-1000

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=(time=[5,9])||(time=[30,34])
var(0)=ifelse((time=[5,9]),20,-20)

[State ]
type=BGPalFX
trigger1=time=[5,35]
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=3
anim=6034
postype=p1
pos=floor(4*fvar(32)),floor(-90*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3&&facing=1
helpertype=normal
name="catin nanakui"
ID=7029
pos=-260,0
postype=left
stateno=7029
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3&&facing=-1
helpertype=normal
name="catin nanakuiH"
ID=7029
pos=260,0
postype=right
facing=-1
stateno=7029
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kaiten mahouzinL"
ID=7027
postype=p1
stateno=7027
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kaiten mahouzinS"
ID=7028
postype=p1
stateno=7028
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,19

[State ]
type=Helper
trigger1=animelemtime(9)=0
helpertype=normal
name="mahoujin1"
ID=4201
pos=floor(8*fvar(32)),floor(-74*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(9)=7
helpertype=normal
name="mahoujin2"
ID=4211
pos=floor(-19*fvar(32)),floor(-25*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(9)=14
helpertype=normal
name="mahoujin3"
ID=4221
pos=floor(-25*fvar(32)),floor(-108*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(9)=21
helpertype=normal
name="mahoujin4"
ID=4231
pos=floor(5*fvar(32)),floor(-39*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=numhelper(10400)=0&&animelemtime(9)=28
helpertype=normal
name="mahoujin5"
ID=4241
pos=floor(-37*fvar(32)),floor(-78*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(9)=35
helpertype=normal
name="mahoujin6"
ID=4251
pos=floor(-5*fvar(32)),floor(-111*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(11)=2
helpertype=normal
name="mahoujin7"
ID=4261
pos=floor(-30*fvar(32)),floor(-38*fvar(33))
postype=p1
stateno=2101

[State ]
type=Helper
trigger1=animelemtime(8)=1&&facing=1
helpertype=normal
name="haikeijoushou"
ID=4270
pos=-200,100
postype=left
stateno=4270

[State ]
type=Helper
trigger1=animelemtime(8)=1&&facing=-1
helpertype=normal
name="haikeijoushouH"
ID=4270
pos=200,100
postype=right
stateno=4270
facing=-1

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

[State ]
type=Helper
trigger1=animelemtime(10)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
helpertype=normal
name="SP CANCEL"
ID=7078
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7078
supermovetime=100
pausemovetime=100

[State ]
type=ChangeState
trigger1=animelemtime(10)>=1&&numhelper(3000)&&roundstate=2
trigger1=(var(31)=16||helper(3000),var(26)=1)&&helper(3000),var(35)=0&&command="MetaSP"&&var(19)=1
value=4400

;エンジェリック・ランブル　ダッシュ
[Statedef 4300]
type=S
movetype=A
physics=S
ctrl=0
anim=4300
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=VarSet
trigger1=time=0
fvar(4)=0

[State ];お兄ちゃんどいて！そいつ殺せない！判定
type=VarSet
trigger1=numhelper(3001)
trigger1=(helper(3001),var(49)=1&&helper(3001),var(47)=1)||(helper(3001),var(49)=2&&helper(3001),var(48)=1)
fvar(4)=4
persistent=0

[State ];戦人判定
type=VarSet
trigger1=fvar(4)!=4&&numhelper(3001)
trigger1=helper(3001),var(49)=[1,2]
fvar(4)=1
persistent=0

[State ];ベアトリーチェ判定
type=VarSet
trigger1=fvar(4)!=4&&P2name="beatrice"
fvar(4)=2
persistent=0

[State ];キュゥべえ判定
type=VarSet
trigger1=fvar(4)!=4&&(P2name="QB"||P2name="cubee")
fvar(4)=3
persistent=0

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,117+ifelse(fvar(4)=1,2,0)
channel=0

[State ]
type=Explod
trigger1=animelem=4
anim=6003
postype=p1
pos=-40,10
scale=.5*fvar(32),.5*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land"
ID=7037
postype=p1
stateno=7037
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land2"
ID=17037
postype=p1
stateno=7037
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(4)=1
helpertype=normal
name="land"
ID=7009
pos=floor(00*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7009
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(4)=1
helpertype=normal
name="land2"
ID=17009
pos=floor(0*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7009
pausemovetime=100
supermovetime=100

[State ]
type=NotHitBy
trigger1=time=[0,32]
value=SCA
time=1

[State ]
type=Pause
trigger1=animelem=1
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=1||(var(16)=[1,30])
var(16)=1

[State ]
type=Poweradd
trigger1=animelem=1&&var(31)!=3&&numhelper(3000)
trigger1=helper(3000),var(25)=0
value=-2000

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6325
postype=p1
pos=0,floor(-60*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=0
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
triggerall=animelem=1
trigger1=var(31)=3
trigger2=numhelper(3000)
trigger2=helper(3000),var(25)=1
anim=6324
postype=p1
pos=0,floor(-60*fvar(33))
scale=.475*fvar(32),.475*fvar(33)
sprpriority=-1
ID=6324
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=modifyexplod
trigger1=numexplod(6324)
ID=6324
scale=.475*fvar(32)+fvar(25),.475*fvar(33)+fvar(25)

[State ]
type=Varadd
trigger1=numexplod(6324)
fvar(25)=.02*fvar(32)

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=(time=[1,5])||(time=[26,30])
var(0)=ifelse((time=[1,5]),20,-20)

[State ]
type=BGPalFX
trigger1=time=[1,30]
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=1
anim=6034
postype=p1
pos=floor(5*fvar(32)),floor(-77*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=1
value=s100,19

[State ]
type=VelSet
trigger1=animelemtime(3)>=1
x=8

[State ]
type=AfterImage
trigger1=animelem=3
time=500
length=5
palbright=0,0,0
palcontrast=200,200,200
palpostbright=0,0,0
paladd=0,0,0
palmul=.8,.8,.8
timegap=2
framegap=1
trans=add1

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))&&animelemtime(4)>=0
var(15)=1
ignorehitpause=1

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&animelemtime(4)>=0
attr=S,HA
damage=0,0
animtype=hard
guardflag=M
hitflag=MAF
guard.pausetime=10,10
priority=7,Hit
sparkno=-1
hitsound=s100,28
guardsound=s100,14
ground.slidetime=0
guard.slidetime=30
ground.hittime=30
ground.velocity=0,0
guard.velocity=-8
air.velocity=0,0
guard.sparkno=-1
yaccel=.48
forcestand=1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4300
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
getpower=0,0

[State ]
type=lifeAdd
trigger1=movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-60
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(25)=1&&var(15)=1&&movehit
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(25)=0&&var(15)=1&&movehit
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=TargetState
trigger1=movehit=1&&!MoveGuarded&&(enemynear,teammode=single ||enemynear,teammode=turns)&&numtarget
value=4305
ID=4300
ignorehitpause=1
persistent=0

[State ]
type=TargetBind
trigger1=movehit&&(enemynear,teammode=single ||enemynear,teammode=turns)
time=1
ID=4300
pos=50,0

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=MoveGuarded
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="ranbu hit"
ID=37038
pos=0,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=MoveGuarded
helpertype=normal
name="guardL"
ID=6033
pos=0,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=NotHitBy
trigger1=!MoveGuarded&&movehit
value=SCA
time=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=movehit&&!MoveGuarded&&numtarget
value=4302
ignorehitpause=1

[State ]
type=ChangeState
trigger1=time=75||(!movehit&&MoveGuarded)
value=4301

;エンジェリック・ランブル　乱舞
[Statedef 4302]
type=S
movetype=A
physics=S
ctrl=0
anim=4301
sprpriority=2

[State ]
type=AssertSpecial
trigger1=1
flag=unguardable
ignorehitpause=1

[State ]
type=VelSet
trigger1=time=0
x=0
y=0

[State ]
type=posadd
trigger1=time=0
x=-5

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=3
value=s0,76

[State ]
type=PlaySnd
trigger1=animelem=3||animelem=20
value=s100,15

[State ]
type=PlaySnd
trigger1=animelem=9
value=s0,77

[State ]
type=PlaySnd
trigger1=animelem=9||animelem=28
value=s100,12

[State ]
type=PlaySnd
trigger1=animelem=14
value=s0,125

[State ]
type=PlaySnd
trigger1=animelem=14
value=s100,10

[State ]
type=PlaySnd
trigger1=animelem=20
value=s0,82

[State ]
type=PlaySnd
trigger1=animelem=28
value=s0,83

[State ]
type=PlaySnd
trigger1=animelem=36
value=s0,87

[State ]
type=PlaySnd
trigger1=animelem=36
value=s100,9

[State ]
type=Explod
trigger1=animelem=38
anim=6033
postype=p1
pos=floor(-25*fvar(32)),floor(-79*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=40
value=s100,5

[State ]
type=PlaySnd
trigger1=animelem=40&&fvar(4)=4
value=s0,264

[State ]
type=VelSet
trigger1=animelemtime(41)>=1
x=-6

[State ]
type=VelSet
trigger1=animelem=41
y=-5

[State ]
type=HitDef
trigger1=AnimElem=4||AnimElem=10||AnimElem=15||AnimElem=29
attr=S,HA
damage=0,0
animtype=hard
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,28
guardsound=s100,14
ground.type=low
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.type=High
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4300
getpower=0,0

[State ]
type=HitDef
trigger1=AnimElem=21
attr=S,HA
damage=0,0
animtype=hard
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,28
guardsound=s100,14
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4300
getpower=0,0

[State ]
type=HitDef
trigger1=AnimElem=37
attr=S,HA
damage=0,0
animtype=hard
guardflag=M
hitflag=MAF
pausetime=0,60
priority=7,Hit
sparkno=-1
hitsound=s100,27
guardsound=s100,14
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4301
getpower=0,0

[State ]
type=TargetBind
trigger1=movehit&&animelemtime(40)<=1&&(enemynear,teammode=single ||enemynear,teammode=turns)
time=1
ID=4300
pos=50,0

[State ]
type=lifeAdd
trigger1=movehit=1&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit=1
var(58)=12
ignorehitpause=1

[State ]
type=Varadd
trigger1=MoveGuarded=1
var(58)=12
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(4)=[0,2])
helpertype=normal
name="rabu hit1"
ID=7038
pos=-10,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(4)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(10)=[0,2])
helpertype=normal
name="ranbu hit2"
ID=7038
pos=20,-65
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(10)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(15)=[0,2])
helpertype=normal
name="ranbu hit3"
ID=7038
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(15)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(21)=[0,2])
helpertype=normal
name="ranbu hit4"
ID=7038
pos=0,-110
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(21)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(29)=[0,2])
helpertype=normal
name="ranbu hit5"
ID=7038
pos=0,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(29)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(37)=[0,2])
helpertype=normal
name="ranbu hit6"
ID=37059
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(37)=[0,2])
helpertype=normal
name="chou hitmahoujinL"
ID=7033
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit=1&&(animelemtime(37)=[0,2])
helpertype=normal
name="ranbuhiten"
ID=7039
pos=0,-80
postype=p1
stateno=7012
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit=1&&(animelemtime(37)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=animelem=40
helpertype=normal
name="land"
ID=7011
pos=floor(10*fvar(32)),floor(4*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100
facing=-1

[State ]
type=Helper
trigger1=animelem=40
helpertype=normal
name="land2"
ID=17011
pos=floor(10*fvar(32)),floor(4*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100
facing=-1

[State ]
type=VelAdd
trigger1=animelemtime(41)>=1
y=.58

[State ]
type=StateTypeSet
trigger1=animelemtime(41)>=1
statetype=A

[State ]
type=ChangeState
trigger1=animelemtime(42)>=1&&Vel Y>0&&Pos Y>=10
value=4303

;エンジェリック・ランブル　飛び蹴り
[Statedef 4303]
type=S
movetype=A
physics=S
ctrl=0
anim=4302
sprpriority=2

[State ]
type=Varadd
trigger1=movehit
fvar(14)=18*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=AssertSpecial
trigger1=1
flag=unguardable
ignorehitpause=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1
ignorehitpause=1

[State ]
type=VelSet
trigger1=time<=10&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time<=10&&Pos Y>=0
y=0

[State ]
type=Pause
trigger1=animelem=4
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=4||(var(16)=[1,30])
var(16)=1

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=time=[8,12]
var(0)=20

[State ]
type=Varadd
trigger1=time=[33,37]
var(0)=-20

[State ]
type=BGPalFX
trigger1=time=[8,37]
time=1
mul=255-var(0),255-var(0),255-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=4
anim=6034
postype=p1
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=1
helpertype=normal
name="catin ar"
ID=7042
pos=-321,0
postype=left
stateno=7042
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=-1
helpertype=normal
name="catin arH"
ID=7042
pos=321,0
postype=right
facing=-1
stateno=7042
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,19

[State ]
type=PlaySnd
trigger1=animelem=4&&(fvar(4)=[0,3])
value=s0,118+ifelse(fvar(4)=1,2,ifelse(fvar(4)=2,64,ifelse(fvar(4)=3,136,0)))
channel=0

[State ]
type=VelSet
trigger1=animelemtime(5)>=1
x=6

[State ]
type=VelSet
trigger1=animelem=5
y=-9

[State ]
type=VelAdd
trigger1=animelemtime(5)>=1
y=.58

[State ]
type=HitDef
trigger1=AnimElem=9
attr=S,HA
damage=ceil(225*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.2,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
animtype=diagup
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,29
guardsound=s100,17
ground.slidetime=8
ground.hittime=8
ground.velocity=-6,-10
air.velocity=-6,-10
guard.sparkno=-1
yaccel=.48
fall=1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
getpower=0,0
persistent=0

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=movehit&&numhelper(3000)
trigger1=helper(3000),fvar(12)=0
trigger1=var(31)=15||palno=12
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit&&numhelper(3000)
trigger1=helper(3000),fvar(12)=0
trigger1=var(31)=15||palno=12
helpertype=normal
name="MASSACRE"
ID=7077
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7077
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=MoveGuarded
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=movehit
anim=6088
postype=p2
pos=0,-80
scale=.8,.8
sprpriority=20
facing=-1
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=movehit
anim=6090
postype=p2
pos=0,-40
scale=.5,.5
sprpriority=20
facing=-1
ignorehitpause=1
persistent=0
bindtime=-1

[State ]
type=Varset
trigger1=time=0
fvar(16)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
fvar(16)=1
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit
time=10
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=numhelper(1216)=0&&movehit&&!MoveGuarded&&numtarget&&fvar(14)>=150
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=movehit&&!MoveGuarded&&numtarget&&fvar(21)=0&&fvar(14)>=150
value=1210
ignorehitpause=1
persistent=0

[State ]
type=AngleDraw
trigger1=1
scale=1,1

[State ]
type=AngleAdd
trigger1=animelem=8
value=25

[State ]
type=ChangeState
trigger1=animelemtime(8)>=1&&Pos Y>=-20
value=4304

;エンジェリック・ランブル　着地
[Statedef 4304]
type=S
movetype=A
physics=S
ctrl=0
anim=4303
sprpriority=2

[State ]
type=AngleDraw
trigger1=1
scale=1,1

[State ]
type=Angleset
trigger1=time=0
value=0

[State ]
type=NotHitBy
trigger1=animelemtime(3)<=4
value=SCA
time=1
ignorehitpause=1

[State ]
type=VelSet
trigger1=time<=4&&Pos Y>=0
y=0

[State ]
type=PosSet
trigger1=time<=4&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,6

[State ]
type=EnvShake
trigger1=animelem=2
time=10
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=VelSet
trigger1=animelem=2
x=5
y=-4

[State ]
type=VelAdd
trigger1=animelemtime(2)>=1&&animelemtime(3)<=4
y=.58

[State ]
type=VelSet
trigger1=animelem=4
x=0
y=0

[State ]
type=PosSet
trigger1=animelem=4
y=0

[State ]
type=Explod
trigger1=animelem=1
anim=6085
postype=p1
pos=20,20
ownpal=1
sprpriority=7

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1

;エンジェリック・ランブル　ダッシュストップ
[Statedef 4301]
type=S
movetype=A 
physics=S
anim=101
sprpriority=2
ctrl=0

[State ]
type=Varset
trigger1=time=0&&prevstateno=4600
var(28)=0

[State ]
type=Varset
trigger1=time=0&&prevstateno=4600
var(13)=52+var(57)

[State ]
type=varset
trigger1=time=0&&prevstateno=4600
var(26)=var(57)

[State ]
type=Helper
trigger1=time=0&&prevstateno=4600
helpertype=normal
name="partner normal"
ID=10000+(var(57)*100)
pos=-290,-100
postype=p1
stateno=10000

[State ]
type=Explod
trigger1=time=0&&(prevstateno=4500||prevstateno=4600)
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=PlaySnd
trigger1=time=0
value=s100,4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7010
pos=floor(10*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7010
facing=-1

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17010
pos=floor(10*fvar(32)),floor(2*fvar(33))
postype=p1
stateno=7010
facing=-1

[State ]
type=StateTypeSet
trigger1=vel x>0
physics=N

[State ]
type=VelSet
trigger1=vel x>0
x=const(velocity.run.fwd.x)-(time*.2)

[State ]
type=VelSet
trigger1=vel x<0
x=0

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;シーユーアゲイン　ジャンプ
[Statedef 4400]
type=A
movetype=A
physics=S
ctrl=0
anim=4400
sprpriority=2

[State ]
type=PalFX
trigger1=time=0
time=0

[State ]
type=RemoveExplod
trigger1=time=0&&((prevstateno=[2100,2710])||(prevstateno=[4100,4200]))
ID=6036

[State ]
type=RemoveExplod
trigger1=time=0&&((prevstateno=[2100,2710])||prevstateno=4100)
ID=6049

[State ]
type=RemoveExplod
trigger1=time=0&&((prevstateno=[2100,2710])||prevstateno=4200)
ID=6061

[State ]
type=RemoveExplod
trigger1=time=0&&(prevstateno=[2100,2710])
ID=6072

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="ange"
ID=4403
postype=p1
stateno=4403
pausemovetime=1000
supermovetime=1000

[State ]
type=ChangeAnim
trigger1=numhelper(4403)=0&&animelem=3
value=4407
elem=3

[State ]
type=Varset
trigger1=time=0&&(var(23)=1||prevstateno=151||prevstateno=153||prevstateno=155||prevstateno=5120)
var(13)=5

[State ]
type=PlaySnd
trigger1=animelem=1
value=s0,131
channel=0

[State ]
type=Explod
trigger1=animelem=4
anim=6003
postype=p1
pos=floor(-40*fvar(32)),floor(10*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land"
ID=7037
postype=p1
stateno=7037
supermovetime=100
pausemovetime=100

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Pause
trigger1=animelem=1
time=115
movetime=115

[State ]
type=Varadd
trigger1=animelem=1||(var(16)=[1,114])
var(16)=1

[State ]
type=Explod
trigger1=animelem=1
anim=6034
postype=p1
pos=floor(2*fvar(32)),floor(-74*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=1
value=s100,19

[State ]
type=Explod
trigger1=animelem=1
anim=6006
postype=p1
pos=floor(-2*fvar(32)),0
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-6
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="jump"
ID=7006
postype=p1
stateno=7000
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=animelem=3
anim=6001
postype=p1
pos=floor(-10*fvar(32)),floor(10*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=11
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kemuriU"
ID=27001
postype=p1
pos=0,floor(5*fvar(33))
stateno=7001
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kemuriU2"
ID=37001
postype=p1
pos=0,floor(5*fvar(33))
stateno=7001
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kemuriUL"
ID=47001
postype=p1
pos=0,floor(5*fvar(33))
stateno=7001
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=3
helpertype=normal
name="kemuriUL2"
ID=57001
postype=p1
pos=0,floor(5*fvar(33))
stateno=7001
pausemovetime=100
supermovetime=100

[State ]
type=ScreenBound
trigger1=animelemtime(3)>=1
value=0
movecamera=1,0

[State ]
type=VelSet
trigger1=animelemtime(3)>=1
x=0
y=-14

[State ]
type=VelSet
trigger1=animelemtime(3)>=1&&ScreenPos Y<=-30
x=0
y=0

[State ]
type=PlaySnd
trigger1=animelem=3
value=s100,2

[State ]
type=AfterImage
trigger1=animelem=3
time=600
length=5
palbright=0,0,0
palcontrast=200,200,200
palpostbright=0,0,0
paladd=0,0,0
palmul=.8,.8,.8
timegap=1
framegap=1
trans=add1

[State ]
type=AssertSpecial
trigger1=animelemtime(3)>=18
flag=noFG

[State ]
type=Helper
trigger1=animelemtime(3)=10&&facing=1
helpertype=normal
name="moon"
ID=4044
pos=0,-240
postype=left
stateno=4044
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=10&&facing=-1
helpertype=normal
name="moonH"
ID=4044
pos=0,-240
postype=right
facing=-1
stateno=4044
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=20&&facing=1
helpertype=normal
name="building"
ID=4045
pos=95+ceil(ifelse(var(42)>=161,var(42)/10,0)),0
postype=left
stateno=4045
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=20&&facing=-1
helpertype=normal
name="buildingH"
ID=4045
pos=-95-ceil(ifelse(var(42)>=161,var(42)/10,0)),0
postype=right
facing=-1
stateno=4045
pausemovetime=1000
supermovetime=1000

[State ]
type=Explod
trigger1=animelemtime(3)=10&&facing=1
anim=6342
ID=6342
postype=left
pos=160+ceil(ifelse(var(42)>=161,var(42)/5,0)),240
scale=1,1
bindtime=-1
sprpriority=201
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=animelemtime(3)=10&&facing=-1
anim=6342
ID=6342
postype=right
pos=-160-ceil(ifelse(var(42)>=161,var(42)/5,0)),240
facing=-1
scale=1,1
bindtime=-1
sprpriority=201
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(3)=18&&facing=1
helpertype=normal
name="catin sa"
ID=7049
pos=-200+ceil(ifelse(var(42)>=161,var(42)/5,0)),0
postype=left
stateno=7049
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=18&&facing=-1
helpertype=normal
name="catin saH"
ID=7049
pos=200-ceil(ifelse(var(42)>=161,var(42)/5,0)),0
postype=right
facing=-1
stateno=7049
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=18
helpertype=normal
name="kuro haikei"
ID=3003
pos=120,0
postype=left
stateno=3003
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=animelemtime(3)=48
helpertype=normal
name="aka haikei"
ID=3004
pos=120,0
postype=left
stateno=3004
pausemovetime=1000
supermovetime=1000

[State ]
type=ChangeState
trigger1=time=125
value=4401

;シーユーアゲイン　降下
[Statedef 4401]
type=A
movetype=A
physics=S
ctrl=0
anim=4401
sprpriority=2
velset=0,0

[State ]
type=Varset
trigger1=time=0
var(7)=0

[State ]
type=Varadd
trigger1=movehit
fvar(14)=72*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varadd
triggerall=movehit&&numhelper(1216)=0&&fvar(17)=0
trigger1=numhelper(3001)
trigger1=helper(3001),var(50)>=1
trigger2=var(31)=19||palno=12
fvar(14)=72*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ];対譲治専用
type=Varadd
triggerall=movehit&&numhelper(1216)=0&&fvar(17)=0&&numtarget
triggerall=target,name="ushiromiya George"||target,name="ushiromiya_George"||target,name="George ushiromiya"||target,name="George_ushiromiya"||target,name="George"
trigger1=numhelper(3001)
trigger1=helper(3001),var(50)>=1
trigger2=var(31)=19||palno=12
fvar(14)=9*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ];対エヴァ、ベルンカステル専用
type=Varadd
triggerall=movehit&&numhelper(1216)=0&&fvar(17)=0&&numtarget
triggerall=target,name="eva beatrice"||target,name="eva_beatrice"||target,name="eva-beatrice"||target,name="EvaBeatrice"||target,name="bernkastel"||((target,name="Ber Eri"||target,name="Eva Roza")&&target,var(57)=0)
trigger1=numhelper(3001)
trigger1=helper(3001),var(50)>=1
trigger2=var(31)=19||palno=12
fvar(14)=3*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ];対ドラノール、ラムダデルタ専用
type=Varadd
triggerall=movehit&&numhelper(1216)=0&&fvar(17)=0&&numtarget
triggerall=target,name="Dlanor A.Knox"||target,name="Dlanor_A.Knox"||target,name="Dlanor-A.Knox"||target,name="Dlanor A Knox"||target,name="Dlanor_A_Knox"||target,name="Dlanor-A-Knox"||target,name="Dlanor.A.Knox"||target,name="Dlanor"
trigger1=numhelper(3001)
trigger1=helper(3001),var(50)>=1
trigger2=var(31)=19||palno=12
fvar(14)=-9*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varadd
triggerall=movehit&&numhelper(1216)=0&&fvar(17)=0&&numtarget
triggerall=target,name="Dlanor A. Knox"||target,name="Lambdadelta"||(target,name="Lam Bat"&&target,var(57)=0)
trigger1=numhelper(3001)
trigger1=helper(3001),var(50)>=1
trigger2=var(31)=19||palno=12
fvar(14)=-9*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ];スタン値加算〜ブロッキング、シールド系対策
type=Varadd
trigger1=movehit=2&&enemynear,movetype!=H
fvar(14)=-72*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=10
ignorehitpause=1

[State ]
type=VelSet
trigger1=pos y<=-1
x=3

[State ]
type=VelSet
trigger1=time=0
y=6

[State ]
type=VelAdd
trigger1=1
y=.48

[State ]
type=ScreenBound
trigger1=1
value=0
movecamera=1,0
ignorehitpause=1

[State ]
type=PosSet
triggerall=time=0
trigger1=enemy,teammode=single ||enemy,teammode=turns
trigger2=numenemy>=2
trigger2=enemy,teammode=simul &&(enemynear,alive||(enemy,alive=0&&enemy(1),alive=0))
x=enemynear,pos x+ifelse(facing=1,-90,90)

[State ]
type=PosSet
trigger1=numenemy>=2
trigger1=time=0&&enemy,teammode=simul &&enemynear,alive=0&&enemynear(1),alive
x=enemynear(1),pos x+ifelse(facing=1,-90,90)

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="kouka"
ID=4046
postype=p1
stateno=4046
pausemovetime=1000
supermovetime=1000

[State ]
type=Varset
trigger1=!movecontact&&(p2movetype=A||(var(30)=0&&(var(31)=13||palno=12)))
var(15)=1
ignorehitpause=1

[State ]
type=HitDef
trigger1=!movecontact&&!movereversed&&time>=0
damage=ceil(240*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.2,0),1))),ceil(5*ifelse(var(31)=10||palno=12,2,1))
attr=A,HA
animtype=diagup
guardflag=H
hitflag=MAF
pausetime=10,10
priority=7,Hit
sparkno=-1
hitsound=s100,27
guardsound=s100,14
ground.slidetime=8
ground.hittime=23
ground.velocity=-6,-10
air.velocity=-6,-10
guard.sparkno=-1
yaccel=.48
fall=1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
palfx.time=ifelse(var(15),10,0)
palfx.sinadd=ifelse(var(15),255,0),0,0,ifelse(var(15),18,0)
persistent=0
ID=4400
getpower=0,0

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=numtarget>=1&&var(15)=1&&movehit&&(var(31)=5||palno=12)
helpertype=normal
name="COUNTER BOOST"
ID=7074
pos=0,-80
postype=p2
stateno=7074
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=var(15)=1&&movehit&&var(30)=0&&(var(31)=13||palno=12)
helpertype=normal
name="FORCE COUNTER"
ID=7073
pos=0,-80
postype=p2
facing=-1
stateno=7073
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varset
trigger1=var(25)=1&&var(15)=1&&movehit&&var(7)=0
var(13)=1
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(25)=0&&var(15)=1&&movehit&&var(7)=0
var(13)=7
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=var(25)=0&&var(15)=0&&var(13)=0&&var(31)!=13&&palno!=12&&movehit&&var(7)=0
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=movehit
var(7)=1
ignorehitpause=1

[State ]
type=Varset
triggerall=var(15)=1
trigger1=movecontact||(p2movetype!=A&&var(57)!=13&&palno!=12)||(p2movetype!=A&&var(57)=13&&palno!=12&&var(31)!=13)
trigger2=(var(30)!=0&&var(57)=13&&var(31)=13)||(var(30)!=0&&palno=12)
var(15)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(30)=1
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="hit ranbu"
ID=6123
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Explod
trigger1=movehit=4
anim=6090
postype=p2
pos=0,-40
scale=.5,.5
sprpriority=20
facing=-1
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0
bindtime=-1

[State ]
type=Varset
trigger1=time=0
fvar(16)=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit&&!MoveGuarded&&numtarget&&fvar(21)=0&&fvar(14)>=150
fvar(16)=1
ignorehitpause=1

[State ]
type=Varadd
trigger1=fvar(14)<=149&&movehit&&numtarget(4400)>=1
trigger1=target,stateno=5030
fvar(16)=1
persistent=0

[State ]
type=Helper
trigger1=MoveGuarded
helpertype=normal
name="guardL"
ID=6121
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(58)=20
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=MoveGuarded
var(58)=20
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=numhelper(1216)=0&&movehit&&!MoveGuarded&&numtarget&&fvar(14)>=150
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=movehit&&!MoveGuarded&&numtarget&&fvar(21)=0&&fvar(14)>=150
value=1210
ignorehitpause=1
persistent=0

[State ]
type=NotHitBy
trigger1=pos y>=0
value=SCA
time=1
ignorehitpause=1

[State ]
type=ChangeState
trigger1=pos y>=0
value=4402

;シーユーアゲイン　着地
[Statedef 4402]
type=S
movetype=A
physics=S
ctrl=0
anim=4402
sprpriority=2

[State ]
type=VelSet
trigger1=time=0
x=0

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="ange"
ID=4404
postype=p1
stateno=4404

[State ]
type=ChangeAnim
trigger1=numhelper(4404)=0&&time=0
value=4406

[State ]
type=ChangeAnim
trigger1=numhelper(4404)=0&&anim=4406&&animtime=0
value=4402
elem=3

[State ]
type=Explod
trigger1=time=0
anim=6115
postype=p1
scale=1.5*fvar(32),1.5*fvar(33)
sprpriority=600

[State ]
type=Explod
trigger1=time=0
anim=6006
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-6

[State ]
type=Explod
trigger1=time=0
anim=6116
postype=p1
scale=1*fvar(32),1*fvar(33)
sprpriority=-5

[State ]
type=Explod
trigger1=time=0
anim=6085
postype=p1
pos=floor(20*fvar(32)),floor(20*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=7

[State ]
type=Explod
trigger1=time=20
anim=6122
postype=p1
scale=1.5*fvar(32),1.5*fvar(33)
sprpriority=601

[State ]
type=EnvShake
trigger1=time=0
time=10
freq=160
ampl=-4

[State ]
type=PlaySnd
trigger1=time=0
value=s100,6

[State ]
type=PlaySnd
trigger1=time=0
value=s100,25

[State ]
type=VelSet
trigger1=time=0
y=0

[State ]
type=PosSet
trigger1=time=0
y=0

[State ]
type=AfterImage
trigger1=anim=4402&&animelem=3
time=0
length=5
palbright=0,0,0
palcontrast=200,200,200
palpostbright=0,0,0
paladd=0,0,0
palmul=.8,.8,.8
timegap=2
framegap=1
trans=add1

[State ]
type=ChangeAnim
trigger1=anim=4402&&animtime=0&&numhelper(3000)
trigger1=helper(3000),fvar(27)=0
value=4403

[State ]
type=ChangeAnim
trigger1=anim=4402&&animtime=0&&numhelper(3000)
trigger1=helper(3000),fvar(27)>=1
value=4404

[State ]
type=varrandom
trigger1=anim=4404&&animelem=1
v=0
range=1,3

[State ]
type=PlaySnd
trigger1=anim=4404&&animelem=2
value=s0,131+var(0)
channel=0

[State ]
type=PlaySnd
trigger1=anim=4404&&(animelem=4||animelem=8)
value=s100,35

[State ]
type=Explod
trigger1=anim=4404&&animelem=3
anim=6147
postype=p1
pos=-2,-63
scale=.5,.5
sprpriority=4

[State ]
type=Explod
trigger1=anim=4404&&animelem=7
anim=6148
postype=p1
pos=-4,-58
scale=.5,.5
sprpriority=4

[State ]
type=ChangeState
trigger1=animtime=0&&(anim=[4403,4404])
value=0
ctrl=1

;協力必殺技（右代宮戦人）下がる
[Statedef 4520]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="Battler"
ID=10200
pos=-352,-100
postype=p1
stateno=10214

[State ]
type=PlaySnd
trigger1=time=10
value=s0,235
channel=0

[State ]
type=PlaySnd
trigger1=time=20
value=s80,239

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-4.5

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4521

;協力必殺技（右代宮戦人)『黄金の真実』
[Statedef 4521]
type=S
movetype=A 
physics=S
anim=4501
sprpriority=2
ctrl=0

[State ]
type=Helper
trigger1=animelemtime(4)>=84&&animelemtime(8)<=67
helpertype=normal
name="ange bunshin"
ID=10225
postype=p1
stateno=10225
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=facing=1&&animelemtime(4)>=84&&animelemtime(8)<=67
helpertype=normal
name="battler bunshin"
ID=11225
pos=-floor(pos x-(helper(10200),pos x))-1,0
postype=p1
stateno=10225
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=facing=-1&&animelemtime(4)>=84&&animelemtime(8)<=67
helpertype=normal
name="battler bunshinH"
ID=11225
pos=floor(pos x-(helper(10200),pos x)),0
postype=p1
stateno=10225
pausemovetime=1000
supermovetime=1000

[State ]
type=Varset
trigger1=time=0
fvar(16)=0
ignorehitpause=1

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=BGPalFX
trigger1=time<=191
time=2
mul=150-ceil(fvar(25)),150-ceil(fvar(25)),150-ceil(fvar(25))
invertall=0

[State ]
type=Varadd
trigger1=animelemtime(4)>=1&&animelemtime(4)<=5
fvar(25)=10

[State ]
type=Varadd
trigger1=animelemtime(4)>=65&&animelemtime(4)<=69
fvar(25)=-10

[State ]
type=BGPalFX
trigger1=time=192
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=193
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=194
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=195
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=196
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=197
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=198
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=199
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=200
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=201
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=202
time=2
mul=256,256,256
invertall=0

[State ]
type=Pause
trigger1=GameTime%2=0&&animelemtime(3)<=4
time=1

[State ]
type=Explod
trigger1=animelem=4
anim=6034
postype=p1
pos=floor(9*fvar(32)),floor(-95*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,19

[State ]
type=PlaySnd
trigger1=animelem=4
value=s0,232

[State ]
type=Pause
trigger1=animelem=4
time=100
movetime=100

[State ]
type=Varadd
trigger1=animelem=4||(var(16)=[1,100])
var(16)=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Helper
trigger1=animelem=4&&facing=1
helpertype=normal
name="catin osa"
ID=7055
pos=-390,0
postype=left
stateno=7055
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=1
helpertype=normal
name="catin osb"
ID=7056
pos=-295,0
postype=left
stateno=7056
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=-1
helpertype=normal
name="catin osaH"
ID=7055
pos=390,0
postype=right
facing=-1
stateno=7055
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=-1
helpertype=normal
name="catin osbH"
ID=7056
pos=295,0
postype=right
facing=-1
stateno=7056
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=6311
ID=6311
postype=p1
pos=floor(15*fvar(32)),floor(-105*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=6311
ID=6311
postype=p1
pos=floor(15*fvar(32)),floor(-105*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=10231
ID=6311
postype=p1
pos=floor(-23*fvar(32)),floor(-93*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=10231
ID=6311
postype=p1
pos=floor(-23*fvar(32)),floor(-93*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=6311
ID=6311
postype=p1
pos=floor(-23*fvar(32)),floor(-93*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=6311
ID=6311
postype=p1
pos=floor(-23*fvar(32)),floor(-93*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=10231
ID=6311
postype=p1
pos=floor(15*fvar(32)),floor(-105*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=63
anim=10231
ID=6311
postype=p1
pos=floor(15*fvar(32)),floor(-105*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=6
bindtime=-1
facing=-1
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=time=63||time=68||time=73
value=s100,48

[State ]
type=Explod
trigger1=time=80||time=100||time=125||time=145
anim=10220
ID=10220
postype=p1
scale=500,500
ontop=1
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=time=40
value=s100,54

[State ]
type=Explod
trigger1=time=122
anim=10217
ID=10217
postype=p1
pos=floor(110*fvar(32)),floor(-80*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
removeongethit=1
bindtime=-1

[State ]
type=Helper
trigger1=time=101
helpertype=normal
name="mahoujinb"
ID=10216
pos=floor(85*fvar(32)),floor(-80*fvar(33))
postype=p1
stateno=10216
supermovetime=10
pausemovetime=10

[State ]
type=Helper
trigger1=time=101
helpertype=normal
name="mahoujinwakub"
ID=10218
pos=floor(85*fvar(32)),floor(-80*fvar(33))
postype=p1
stateno=10218
supermovetime=10
pausemovetime=10

[State ]
type=Helper
trigger1=time=101
helpertype=normal
name="mahoujinhikarib"
ID=10217
pos=floor(85*fvar(32)),floor(-80*fvar(33))
postype=p1
stateno=10217
supermovetime=10
pausemovetime=10

[State ]
type=Helper
trigger1=time=121
helpertype=normal
name="ougon no washi"
ID=10219
pos=floor(175*fvar(32)),floor(-80*fvar(33))
postype=p1
stateno=10219

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=2

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=54

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;協力必殺技（ルシファー）下がる　『煉獄の七姉妹』
[Statedef 4540]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=PlaySnd
trigger1=time=5
value=s0,248
channel=0

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-5

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4541

;協力必殺技（ルシファー)『煉獄の七姉妹』
[Statedef 4541]
type=S
movetype=A 
physics=S
anim=4503
sprpriority=2
ctrl=0

[State ]
type=Varset
trigger1=time=0
fvar(16)=0
ignorehitpause=1

[State ]
type=Varset
trigger1=time=0
fvar(4)=0

[State ]
type=BGPalFX
trigger1=time<=315
time=2
mul=150-ceil(fvar(4)),150-ceil(fvar(4)),150-ceil(fvar(4))
invertall=0

[State ]
type=Varadd
trigger1=animelemtime(5)>=1&&animelemtime(5)<=5
fvar(4)=10

[State ]
type=Varadd
trigger1=animelemtime(5)>=26&&animelemtime(5)<=30
fvar(4)=-10

[State ]
type=BGPalFX
trigger1=time=316
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=317
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=318
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=319
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=320
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=321
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=322
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=323
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=324
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=325
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=326
time=2
mul=256,256,256
invertall=0

[State ]
type=Helper
trigger1=animelemtime(14)>=1&&animelemtime(110)<=1
helpertype=normal
name="ange bunshin"
ID=12225
postype=p1
stateno=10225
pausemovetime=1000
supermovetime=1000

[State ]
type=Explod
trigger1=animelem=5
anim=6034
postype=p1
pos=floor(12*fvar(32)),floor(-140*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4
pausemovetime=1000
supermovetime=1000

[State ]
type=Explod
trigger1=animelem=5&&facing=1
anim=6314+ifelse(palno=2,1,0)
ID=6314
postype=left
pos=-50,135
bindtime=-1
sprpriority=-30
pausemovetime=1000
supermovetime=1000

[State ]
type=Explod
trigger1=animelem=5&&facing=-1
anim=6314+ifelse(palno=2,1,0)
ID=6314
postype=right
pos=50,135
facing=-1
bindtime=-1
sprpriority=-30
pausemovetime=1000
supermovetime=1000

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=Varset
trigger1=time=0
fvar(26)=0

[State ]
type=Varset
trigger1=time=0
fvar(27)=0

[State ]
type=modifyexplod
trigger1=numexplod(6314)
ID=6314
scale=.5+fvar(27),.5+fvar(27)

[State ]
type=Varadd
trigger1=animelemtime(5)=[41,52]
fvar(27)=.01

[State ]
type=PlaySnd
trigger1=animelem=5
value=s100,19

[State ]
type=Varadd
trigger1=animelem=5||(var(16)=[1,60])
var(16)=1

[State ]
type=Helper
trigger1=animelem=14
helpertype=normal
name="kyouryoku en"
ID=7072
pos=0,floor(-90*fvar(33))
postype=p1
stateno=7072

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=PlaySnd
trigger1=animelem=114
value=s0,250

[State ]
type=PlaySnd
trigger1=animelem=123
value=s0,251

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="Lucifer"
ID=10400
pos=floor(80*fvar(32)),0
postype=p1
stateno=10414
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="leviathan"
ID=10417
pos=floor(61*fvar(32)),floor(-9*fvar(33))
postype=p1
stateno=10417
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="mammon"
ID=10418
pos=floor(104*fvar(32)),floor(-6*fvar(33))
postype=p1
stateno=10418
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="belphegor"
ID=10419
pos=floor(92*fvar(32)),floor(-3*fvar(33))
postype=p1
stateno=10419
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="beelzebub"
ID=10425
pos=floor(68*fvar(32)),floor(3*fvar(33))
postype=p1
stateno=10425
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="satan"
ID=10426
pos=floor(56*fvar(32)),floor(6*fvar(33))
postype=p1
stateno=10426
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="asmodeus"
ID=10427
pos=floor(44*fvar(32)),floor(9*fvar(33))
postype=p1
stateno=10427
supermovetime=100
pausemovetime=100

[State ]
type=PlaySnd
trigger1=time=40
value=s80,446

[State ]
type=PlaySnd
trigger1=time=40
value=s80,444

[State ]
type=Explod
trigger1=time=0
anim=10416
ID=10416
postype=p1
scale=500,500
ontop=1
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="ken shoumetsu"
ID=10416
pos=floor(59*fvar(32)),floor(-65*fvar(33))
postype=p1
facing=-1
stateno=2104
pausemovetime=1000
supermovetime=1000

[State ]
type=Helper
trigger1=time=140&&facing=1
helpertype=normal
name="kui haikei leviathan"
ID=10437
pos=-100,-160
postype=left
stateno=10437

[State ]
type=Helper
trigger1=time=140&&facing=1
helpertype=normal
name="kui haikei asmodeus"
ID=10438
pos=-200,-200
postype=left
stateno=10438

[State ]
type=Helper
trigger1=time=140&&facing=1
helpertype=normal
name="kui haikei satan"
ID=10439
pos=360,-440
postype=left
stateno=10439

[State ]
type=Helper
trigger1=time=140&&facing=-1
helpertype=normal
name="kui haikei leviathanH"
ID=10437
pos=100,-160
postype=right
stateno=10437
facing=-1

[State ]
type=Helper
trigger1=time=140&&facing=-1
helpertype=normal
name="kui haikei asmodeusH"
ID=10438
pos=200,-200
postype=right
stateno=10438
facing=-1

[State ]
type=Helper
trigger1=time=140&&facing=-1
helpertype=normal
name="kui haikei satanH"
ID=10439
pos=-360,-440
postype=right
stateno=10439
facing=-1

[State ]
type=PlaySnd
trigger1=time=240
value=s80,442

[State ]
type=Explod
trigger1=time=0
anim=10412
ID=10412
postype=p1
pos=floor((10-ifelse((FrontEdgeDist<=160),100,0))*fvar(32)),floor(-100*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-10
pausemovetime=1000
supermovetime=1000

[State ]
type=Explod
trigger1=time=0
anim=10413
ID=10413
postype=p1
pos=floor((10-ifelse((FrontEdgeDist<=160),100,0))*fvar(32)),floor(-100*fvar(33))
sprpriority=-10
scale=1.05*fvar(32),.55*fvar(33)
pausemovetime=1000
supermovetime=1000

[State ]
type=modifyexplod
trigger1=time>=66
ID=10413
scale=1.05*fvar(32)+fvar(25),.55*fvar(33)+fvar(26)

[State ]
type=Varadd
trigger1=time>=66
fvar(25)=.05

[State ]
type=Varadd
trigger1=time>=66
fvar(26)=.01

[State ]
type=Pause
trigger1=animelem=5
time=100
movetime=100

[State ]
type=Pause
trigger1=GameTime%2=0&&animelemtime(4)<=1
time=1

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=4

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=56

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;アサルトタッチ　協力必殺技（紗音）下がる　『絶対守護障壁』
[Statedef 4570]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
v=28
value=0

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="Shannon"
ID=10700
pos=-320,-100
postype=p1
stateno=10714

[State ]
type=PlaySnd
trigger1=time=1
value=s0,247
channel=0

[State ]
type=PlaySnd
trigger1=time=18
value=s80,727

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-3

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4571

;アサルトタッチ　協力必殺技（紗音）
[Statedef 4571]
type=S
movetype=A 
physics=S
anim=4502
sprpriority=2
ctrl=0

[State ]
type=Varset
trigger1=time=0
fvar(16)=0

[State ]
type=BGPalFX
trigger1=time<=122
time=2
mul=150,150,150
invertall=0

[State ]
type=BGPalFX
trigger1=time=123
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=124
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=125
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=126
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=127
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=128
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=129
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=130
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=131
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=132
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=133
time=2
mul=256,256,256
invertall=0

[State ]
type=Pause
trigger1=GameTime%2=0&&animelemtime(3)<=5
time=1

[State ]
type=Varadd
trigger1=animelem=4||(var(16)=[1,100])
var(16)=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=7

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=59

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;協力必殺技（右代宮朱志香）下がる　『乙女のたしなみだぜ！今日は集まってくれてありがとォ！』
[Statedef 4605]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=PlaySnd
trigger1=time=1
value=s0,313

[State ]
type=PlaySnd
trigger1=time=30
value=s80,1024

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-.5

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4606

;アサルトタッチ　協力必殺技（右代宮朱志香）
[Statedef 4606]
type=S
movetype=A 
physics=S
anim=11908
ctrl=0

[State ]
type=SprPriority
trigger1=1
value=-3

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Width
trigger1=time=0&&FrontEdgeBodyDist<=120
edge=140,0

[State ]
type=TargetBind
trigger1=time=0
pos=floor(40*fvar(32)),ifelse((Const(size.head.pos.y)-target,Const(size.head.pos.y))>=0,0,Const(size.head.pos.y)-target,Const(size.head.pos.y))

[State ]
type=PlaySnd
trigger1=time=5
value=s80,1039

[State ]
type=BGPalFX
trigger1=time=0&&var(19)=0
time=10
mul=150,150,150
invertall=0

[State ]
type=Helper
trigger1=time=5
helpertype=normal
name="ushiromiya Jessica"
ID=11000
pos=400,-100
postype=p1
stateno=11014
facing=-1

[State ]
type=changeanim
trigger1=numhelper(11000)=1&&anim=11908
trigger1=helper(11000),anim=1860
value=1860

[State ]
type=PlaySnd
trigger1=numhelper(11000)=1
trigger1=helper(11000),var(0)=129
value=s100,46

[State ]
type=Explod
trigger1=numhelper(11000)=1
trigger1=helper(11000),var(0)=129
anim=11036
postype=p2
pos=target,Const(size.mid.pos.x),target,Const(size.mid.pos.y)
scale=1.2,1.2
sprpriority=6

[State ]
type=PosAdd
trigger1=numhelper(11000)=1&&anim=1860
trigger1=helper(11000),var(0)=130
x=floor(-15*fvar(32))

[State ]
type=Helper
trigger1=time=1
trigger2=numhelper(11000)=1&&anim=1860
trigger2=helper(11000),var(0)=130
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=time=1
trigger2=numhelper(11000)=1&&anim=1860
trigger2=helper(11000),var(0)=130
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=changeanim
trigger1=numhelper(11000)=1&&anim=1860
trigger1=helper(11000),var(0)=130
value=ifelse(fvar(27)=1,4509,ifelse(fvar(27)=2,4510,ifelse(fvar(27)=3,4511,ifelse(fvar(27)=5,4512,4513))))

[State ]
type=PlaySnd
trigger1=((anim=[4509,4511])&&animelem=2)||(anim=4512&&animelem=3)||(anim=4513&&animelemtime(1)=13)
value=s0,ifelse((fvar(27)=[1,2])||fvar(27)=5,317,ifelse(fvar(27)=3,315,314))

[State ]
type=PlaySnd
trigger1=(anim=4512&&animelemtime(1)=86)||(anim=4513&&animelemtime(1)=166)
value=s0,ifelse(anim=4513,320,316)

[State ]
type=PosAdd
trigger1=animtime=0&&(anim=[4509,4513])
x=floor(10*fvar(32))

[State ]
type=Helper
trigger1=anim=4513&&animelemtime(1)=156
helpertype=normal
name="ange_toumei"
ID=41019
postype=p1
stateno=11019

[State ]
type=Helper
trigger1=anim=4513&&animtime=0
helpertype=normal
name="master spark hikari"
ID=51018
pos=0,floor(-20*fvar(33))
postype=p1
stateno=11018

[State ]
type=Explod
trigger1=anim=4513&&animtime=0
anim=6063
postype=p1
pos=0,floor(-55*fvar(33))
scale=.8*fvar(32),.8*fvar(33)
sprpriority=9

[State ]
type=changeanim
trigger1=animtime=0&&(anim=[4509,4513])
value=4507

[State ]
type=Varadd
trigger1=var(8)>=1||((anim=[4509,4513])&&animelemtime(1)=47)
var(8)=1

[State ]
type=Varadd
trigger1=var(9)>=1
var(9)=1

[State ]
type=hitadd
trigger1=numhelper(11000)=1
trigger1=(helper(11000),var(0)=[1,121])&&(time%10=6||time%15=8)
trigger2=var(8)=143
value=1

[State ]
type=Varadd
trigger1=numhelper(11000)=1
trigger1=(helper(11000),var(0)=[1,121])&&(time%10=6||time%15=8)
trigger2=var(8)=143
var(30)=1

[State ]
type=Varadd
trigger1=numhelper(11000)=1
trigger1=(helper(11000),var(0)=[1,121])&&(time%10=6||time%15=8)
fvar(14)=2*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)

[State ]
type=TargetLifeAdd
triggerall=numtarget
trigger1=numhelper(11000)=1
trigger1=(helper(11000),var(0)=[1,121])&&(time%10=6||time%15=8)
trigger2=var(8)=143
value=ceil(ifelse(var(8)=143,-20,-4)*fvar(29)*fvar(30))
kill=0

[State ]
type=Helper
trigger1=var(8)=143
helpertype=normal
name="hitL"
ID=7016
pos=0,-90
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100

[State ]
type=PlaySnd
trigger1=var(8)=143
value=s100,16

[State ]
type=changeanim
trigger1=numhelper(11000)=1
trigger1=(fvar(9)=3&&(animtime=0&&anim=4507))||(anim=4508&&helper(11000),anim=11021&&helper(11000),animelemtime(27)=0)
value=4508
elem=1+ifelse(anim=4508&&helper(11000),anim=11021&&helper(11000),animelemtime(27)=0,43,0)

[State ]
type=turn
trigger1=anim=4508&&animelem=1

[State ]
type=PlaySnd
trigger1=anim=4508&&animelem=1
value=s0,290

[State ]
type=changestate
trigger1=animtime=0&&(anim=[4507,4508])
value=0
ctrl=1

;協力必殺技（右代宮譲治）下がる　『王者の教え』
[Statedef 4610]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="ushiromiya George"
ID=11100
pos=370,-100
postype=p1
stateno=11114
facing=-1

[State ]
type=PlaySnd
trigger1=time=1
value=s80,1131

[State ]
type=PlaySnd
trigger1=time=18
value=s80,1132

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-2.5

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4611

;アサルトタッチ　協力必殺技（右代宮譲治）
[Statedef 4611]
type=S
movetype=A 
physics=S
anim=4504
sprpriority=2
ctrl=0

[State ]
type=SprPriority
trigger1=animelemtime(14)<=2||animelemtime(18)>=1
value=2

[State ]
type=SprPriority
trigger1=animelemtime(15)>=1&&animelemtime(17)<=37
value=-1

[State ]
type=Width
trigger1=time=4&&FrontEdgeBodyDist<=120
edge=140,0

[State ]
type=TargetBind
trigger1=time=4
pos=floor(80*fvar(32)),0

[State ]
type=Varset
trigger1=time=0
fvar(16)=0

[State ]
type=Varset
trigger1=time=0||animelem=17||animelem=26||animelemtime(7)=1
fvar(4)=0

[State ]
type=Varset
trigger1=time=0||animelem=17||animelem=26||animelemtime(7)=1
fvar(25)=0

[State ]
type=BGPalFX
trigger1=animelemtime(7)>=1
time=1
add=256-floor(fvar(4)),256-var(0),256-var(0)
mul=256-ceil(fvar(25)),256-ceil(fvar(25)),256-ceil(fvar(25))
invertall=0

[State ]
type=Varset
trigger1=time=0||animelem=17||animelem=26
var(0)=0

[State ]
type=Varadd
trigger1=(animelemtime(7)=[15,34])||(animelemtime(17)=[15,34])||(animelemtime(26)=[15,33])||animelemtime(27)=1
var(0)=13

[State ]
type=Varadd
trigger1=(animelemtime(7)=[15,34])||(animelemtime(17)=[15,34])||(animelemtime(26)=[15,33])||animelemtime(27)=1
fvar(4)=7

[State ]
type=Varadd
trigger1=time=[319,329]
fvar(4)=12.6

[State ]
type=Varadd
trigger1=(animelemtime(7)=[15,34])||(animelemtime(17)=[15,34])||(animelemtime(26)=[15,33])||animelemtime(27)=1
fvar(25)=10

[State ]
type=Varadd
trigger1=time=[319,329]
fvar(25)=-20

[State ]
type=PalFX
trigger1=animelemtime(7)>=1
time=1
mul=0+ceil(fvar(26)),0+ceil(fvar(26)),0+ceil(fvar(26))
invertall=0

[State ]
type=Varset
trigger1=time=0||animelem=17||animelem=26
fvar(26)=0

[State ]
type=Varadd
trigger1=(animelemtime(7)=[15,34])||(animelemtime(17)=[15,34])||(animelemtime(26)=[15,33])||animelemtime(27)=1
fvar(26)=12.75

[State ]
type=BGPalFX
trigger1=animelemtime(6)<=4
time=2
add=0+floor(fvar(4)),0,0
mul=150-ceil(fvar(25)),150-ceil(fvar(25)),150-ceil(fvar(25))
invertall=0

[State ]
type=Varadd
trigger1=animelemtime(2)=[1,14]
fvar(4)=7.7

[State ]
type=Varadd
trigger1=animelemtime(2)=[1,14]
fvar(25)=6.6

[State ]
type=Varadd
trigger1=animelem=4||(var(16)=[1,100])
var(16)=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=AssertSpecial
trigger1=1
flag=unguardable
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=animelem=8
value=s0,259

[State ]
type=PlaySnd
trigger1=animelem=8||animelem=18
value=s100,13

[State ]
type=HitAdd
trigger1=animelem=8||animelem=18
value=1

[State ]
type=varadd
trigger1=animelem=8||animelem=18
v=30
value=1

[State ]
type=Helper
trigger1=animelem=8||animelem=18
helpertype=normal
name="hitM"
ID=7014
pos=40+ifelse(animelemtime(18)>=0,10,0),-100+ifelse(animelemtime(18)>=0,20,0)
postype=p1
stateno=7012
supermovetime=100
pausemovetime=100

[State ]
type=PlaySnd
trigger1=animelem=18
value=s0,261

[State ]
type=Explod
trigger1=animelem=18
anim=6033
postype=p1
pos=floor(-35*fvar(32)),floor(-79*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3

[State ]
type=TargetLifeAdd
trigger1=numtarget&&(animelem=8||animelem=18)
value=ceil(-60*fvar(29)*fvar(30))
kill=0

[State ]
type=varadd
trigger1=animelem=8||animelem=18
fvar(14)=10*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)

[State ]
type=PlaySnd
trigger1=animelem=26
value=s0,8

[State ]
type=PlaySnd
trigger1=animelem=34
value=s0,260

[State ]
type=Helper
trigger1=animelemtime(4)=0||animelemtime(15)=0||animelemtime(37)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(ifelse(animelemtime(4)=0,0,ifelse(animelemtime(15)=0,25,5))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(4)=0||animelemtime(15)=0||animelemtime(37)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(ifelse(animelemtime(4)=0,0,ifelse(animelemtime(15)=0,25,5))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=varadd
trigger1=movehit
fvar(14)=25*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)
ignorehitpause=1
persistent=0

[State ]
type=varadd
trigger1=movehit
var(30)=2
ignorehitpause=1
persistent=0

[State ]
type=HitDef
trigger1=animelem=38
attr=S,HA
damage=ceil(550*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))*fvar(29)*fvar(30)),0
animtype=up
guardflag=M
hitflag=MAFD
priority=7,Hit
sparkno=-1
hitsound=s100,13
guardsound=s100,16
ground.slidetime=24
ground.hittime=24
ground.velocity=0,-15
air.velocity=0,-15
guard.sparkno=-1
yaccel=.58
fall=1
fall.recover=0
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
numhits=2
getpower=0,0

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1

[State ]
type=lifeAdd
trigger1=movehit=1&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1

[State ]
type=lifeAdd
trigger1=(animelemtime(8)=1||animelemtime(18)=1)&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=6
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=movehit
value=s100,13
persistent=0

[State ]
type=PlaySnd
trigger1=movehit
value=s100,16
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="hit ranbu"
ID=6123
pos=0,-40
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="g hit1"
ID=14108
pos=0,-90
postype=p2
stateno=11108
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="g hit2"
ID=14109
pos=0,-90
postype=p2
stateno=11109
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=movehit
anim=6123
postype=p2
pos=0,-40
sprpriority=20
pausemovetime=100
supermovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="ranbu hiten"
ID=7039
pos=0,-40
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
ignorehitpause=1
facing=-1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="g hit1"
ID=14108
pos=0,-90
postype=p2
facing=-1
stateno=11108
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit
helpertype=normal
name="g hit2"
ID=14109
pos=0,-90
postype=p2
facing=-1
stateno=11109
supermovetime=100
pausemovetime=100
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=numhelper(1216)=0&&movehit&&!MoveGuarded&&fvar(14)>=150&&numtarget
trigger1=(target,stateno!=[5080,5150])&&(target,prevstateno!=[5080,5150])
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=movehit&&!MoveGuarded&&fvar(21)=0&&fvar(14)>=150&&numtarget
trigger1=(target,stateno!=[5080,5150])&&(target,prevstateno!=[5080,5150])
value=1210
ignorehitpause=1
persistent=0

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=11

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=63

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;アサルトタッチ　協力必殺技（古戸ヱリカ）下がる　『縁寿の選択〜手品』
[Statedef 4630]
type=S
movetype=A 
physics=S
anim=105
sprpriority=2
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=PlaySnd
trigger1=time=10
value=s0,273

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-4.8

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4631

;アサルトタッチ　協力必殺技（古戸ヱリカ）
[Statedef 4631]
type=S
movetype=A 
physics=S
anim=4505
sprpriority=2
ctrl=0

[State ]
type=Explod
trigger1=time=0&&facing=1
anim=6341
ID=6341
postype=left
pos=20,135
scale=.5,.5
bindtime=-1
sprpriority=-30
pausemovetime=100
supermovetime=100

[State ]
type=Explod
trigger1=time=0&&facing=-1
anim=6341
ID=6341
postype=right
pos=-20,135
facing=-1
scale=.5,.5
bindtime=-1
sprpriority=-30
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=Varset
trigger1=time=0
fvar(27)=0

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varrandom
trigger1=time=0
v=0
range=0,1

[State ];黄金夢想曲キャラ判定
type=Varset
triggerall=numtarget
trigger1=target,name="ushiromiya battler"||target,name="ushiromiya_battler"||target,name="battler ushiromiya"||target,name="battler_ushiromiya"||target,name="battler"||target,name="ushiromiya George"||target,name="ushiromiya_George"
trigger2=target,name="George ushiromiya"||target,name="George_ushiromiya"||target,name="George"||target,name="B.Battler"||target,name="B_Battler"||target,name="B-Battler"||target,name="B Battler"||target,name="BBattler"||target,name="Black_Battler"
trigger3=target,name="Black-Battler"||target,name="Black Battler"||target,name="BlackBattler"||target,name="Black.Battler"||target,name="Battler.B"||target,name="Battler_B"||target,name="Battler-B"||target,name="Battler B"||target,name="BattlerB"
trigger4=target,name="Battler.Black"||target,name="Battler_Black"||target,name="Battler-Black"||target,name="Battler Black"||target,name="BattlerBlack"||target,name="kuroki_battler"||target,name="kuroki battler"||target,name="Kanon"
trigger5=target,name="Ronove"||target,name="Willard H.Wright"||target,name="Willard H Wright"||target,name="Willard H_Wright"||target,name="Willard H-Wright"||target,name="Willard H.Wright"||target,name="Willard_H.Wright"||target,name="Willard-H.Wright"
trigger6=target,name="Willard.H.Wright"||target,name="Willard-H-Wright"||target,name="Willard.H Wright"||target,name="Willard.H-Wright"||target,name="Willard.H_Wright"||target,name="WillardHWright"||target,name="Willard"||target,name="batora"
trigger7=target,name="USHIROMIYA ANGE"||target,name="ushiromiya_ange"||target,name="ange ushiromiya"||target,name="ange_ushiromiya"||target,name="ange"||target,name="shannon"||target,name="shanon"||target,name="Lucifer"||target,name="eva beatrice"
trigger8=target,name="eva_beatrice"||target,name="eva-beatrice"||target,name="chiester410"||target,name="chiester 410"||target,name="chiester_410"||target,name="chiester-410"||target,name="Chiester410_S"||target,name="beatrice"||target,name="Jessica"
trigger9=target,name="ushiromiya Jessica"||target,name="ushiromiya_Jessica"||target,name="Jessica ushiromiya"||target,name="Jessica_ushiromiya"||target,name="ushiromiya Rosa"||target,name="ushiromiya_Rosa"||target,name="Rosa ushiromiya"
trigger10=target,name="Rosa_ushiromiya"||target,name="Furudo_Erika"||target,name="Furudo Erika"||target,name="Erika_Furudo"||target,name="Erika Furudo"||target,name="Dlanor A.Knox"||target,name="Dlanor_A.Knox"||target,name="Dlanor-A.Knox"
trigger11=target,name="Dlanor A Knox"||target,name="Dlanor_A_Knox"||target,name="Dlanor-A-Knox"||target,name="Dlanor.A.Knox"||target,name="Dlanor"||target,name="Virgilia"||target,name="Lambdadelta"||target,name="bernkastel"||target,name="EvaBeatrice"
trigger12=target,name="Jessica Ushiromiya_S"||target,name="Dlanor A. Knox"||target,name="Lam Bat"||target,name="Ber Eri"||target,name="Eva Roza"||target,name="Jessi Rono"||target,name="Rosaurum"
var(0)=1

[State ]
type=Varset
trigger1=numtarget
trigger1=target,name="bernkastel"||target,name="Lambdadelta"||((target,name="Lam Bat"||target,name="Ber Eri")&&enemynear,var(57)=0)
fvar(27)=1

[State ]
type=Varset
trigger1=numtarget
trigger1=target,name="ushiromiya battler"||target,name="ushiromiya_battler"||target,name="battler ushiromiya"||target,name="battler_ushiromiya"||target,name="battler"||target,name="batora"||(target,name="Lam Bat"&&enemynear,var(57)=10000)
fvar(27)=2

[State ]
type=Varset
trigger1=time=0
fvar(4)=0

[State ]
type=Varset
trigger1=numtarget
trigger1=target,Const(size.head.pos.y)>=-49
fvar(4)=1

[State ]
type=Varset
trigger1=numtarget
trigger1=target,Const(size.head.pos.y)<=-120
fvar(4)=2

[State ]
type=Helper
trigger1=facing=1&&time=10
helpertype=normal
name="erika bunshin1"
ID=11316
pos=60,-140
postype=left
stateno=11316

[State ]
type=Helper
trigger1=facing=1&&time=12
helpertype=normal
name="erika bunshin2"
ID=12316
pos=110+ceil(ifelse(var(42)>=161,var(42)/5,0)),-150
postype=left
stateno=11316

[State ]
type=Helper
trigger1=facing=1&&time=14
helpertype=normal
name="erika bunshin3"
ID=13316
pos=270+ceil(ifelse(var(42)>=161,var(42)/5,0)),-140
postype=left
stateno=11316

[State ]
type=Helper
trigger1=time=17
helpertype=normal
name="erika"
ID=11300
pos=80,-150
postype=p1
stateno=11314

[State ]
type=Helper
trigger1=facing=-1&&time=10
helpertype=normal
name="erika bunshin1H"
ID=11316
pos=-60,-140
postype=right
stateno=11316
facing=-1

[State ]
type=Helper
trigger1=facing=-1&&time=12
helpertype=normal
name="erika bunshin2H"
ID=12316
pos=-110-ceil(ifelse(var(42)>=161,var(42)/5,0)),-150
postype=right
stateno=11316
facing=-1

[State ]
type=Helper
trigger1=facing=-1&&time=14
helpertype=normal
name="erika bunshin3H"
ID=13316
pos=-270-ceil(ifelse(var(42)>=161,var(42)/5,0)),-140
postype=right
stateno=11316
facing=-1

[State ]
type=Helper
trigger1=time=45
helpertype=normal
name="kusari1"
ID=11317
pos=0,ceil(target,pos y+65)
postype=p2
stateno=11317
facing=-1

[State ]
type=Helper
trigger1=time=45
helpertype=normal
name="kusari2"
ID=12317
pos=5,ceil(target,pos y+65)
postype=p2
stateno=11317
facing=-1

[State ]
type=Helper
trigger1=time=45
helpertype=normal
name="kusari3"
ID=13317
pos=-5,ceil(target,pos y+65)
postype=p2
stateno=11317
facing=-1

[State ]
type=Helper
trigger1=time=45
helpertype=normal
name="land"
ID=27004
postype=p2
pos=0,2
stateno=7004

[State ]
type=Helper
trigger1=time=45
helpertype=normal
name="land2"
ID=37004
postype=p2
pos=0,2
stateno=7004

[State ]
type=PlaySnd
trigger1=time=10
value=s100,61

[State ]
type=PlaySnd
trigger1=time=10
value=s100,20

[State ]
type=PlaySnd
trigger1=time=10
value=s80,1337

[State ]
type=PlaySnd
trigger1=time=150
value=s100,65

[State ]
type=HitAdd
trigger1=time=150
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&helper(11300),animelem=66
value=1

[State ]
type=varadd
trigger1=time=150
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&(helper(11300),animelem=5||helper(11300),animelem=66)
var(30)=1

[State ]
type=TargetLifeAdd
trigger1=numtarget&&time=150
value=ceil(-330*fvar(29)*fvar(30))
kill=0

[State ]
type=varadd
trigger1=time=150
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&helper(11300),animelem=66
fvar(14)=30*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)

[State ]
type=TargetLifeAdd
trigger1=numtarget&&numhelper(11300)=1
trigger1=helper(11300),anim=11332&&helper(11300),animelem=66
value=ceil(-330*fvar(29)*fvar(30))
kill=1

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit=1&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1

[State ]
type=lifeAdd
triggerall=numhelper(3000)&&(var(31)=15||palno=12)
triggerall=helper(3000),fvar(12)=0
trigger1=time=150
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&helper(11300),animelem=66
value=ceil(40*fvar(29))
ignorehitpause=1

[State ]
type=Helper
triggerall=numhelper(3000)&&(var(31)=15||palno=12)
triggerall=helper(3000),fvar(12)=0
trigger1=time=150
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&helper(11300),animelem=66
helpertype=normal
name="MASSACRE"
ID=7077
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7077
supermovetime=100
pausemovetime=100
ignorehitpause=1

[State ];M回復値解除
type=parentvarset
triggerall=numhelper(3000)&&(var(31)=15||palno=12)
triggerall=helper(3000),fvar(12)=0
trigger1=time=151
trigger2=numhelper(11300)=1
trigger2=helper(11300),anim=11332&&helper(11300),animelem=67
fvar(20)=0
ignorehitpause=1

[State ]
type=Varset
trigger1=time=0
fvar(16)=0

[State ]
type=BGPalFX
trigger1=time<=393
time=2
mul=150,150,150
invertall=0

[State ]
type=PalFX
trigger1=numhelper(11300)=1
trigger1=helper(11300),anim=11332&&(helper(11300),animelemtime(35)=[1,10])
time=1
mul=256-helper(11300),var(1),256-helper(11300),var(1),256-helper(11300),var(1)
invertall=0

[State ]
type=BGPalFX
trigger1=time=394
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=395
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=396
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=397
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=398
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=399
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=400
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=401
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=402
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=403
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=404
time=2
mul=256,256,256
invertall=0

[State ]
type=Varset
trigger1=numhelper(3000)&&fvar(26)=0&&numhelper(11300)=1&&roundstate>=3
trigger1=helper(3000),fvar(18)=0&&helper(3000),var(38)=0&&helper(3000),var(44)=0&&helper(3000),var(45)=0&&helper(3000),var(46)=0&&helper(11300),anim=11332&&(helper(11300),animelemtime(66)=[0,2])
fvar(9)=3

[State ];特殊勝利判定2
type=Varset
trigger1=time=0
fvar(26)=0

[State ];特殊勝利判定2
type=Varset
trigger1=numhelper(3000)&&numhelper(11300)=1&&roundstate>=3
trigger1=helper(3000),fvar(18)=0&&helper(3000),var(38)=0&&helper(3000),var(44)=0&&helper(3000),var(45)=0&&helper(3000),var(46)=0&&helper(11300),anim=11332&&helper(11300),animelemtime(65)<=3
fvar(26)=1

[State ]
type=ChangeAnim
trigger1=time=370&&fvar(9)=3
value=4506
persistent=0

[State ]
type=PlaySnd
trigger1=time=370&&fvar(9)=3
value=s0,ifelse(var(0)=0,278,274)

[State ]
type=PlaySnd
trigger1=anim=4505&&animelem=4
value=s100,64

[State ]
type=Pause
trigger1=anim=4505&&GameTime%2=0&&animelemtime(3)<=5
time=1

[State ]
type=Varadd
trigger1=(anim=4505&&animelem=4)||(var(16)=[1,100])
var(16)=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=13

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=65

[State ]
type=ChangeState
trigger1=animtime=0
value=0
ctrl=1

;アサルトタッチ　協力必殺技（ウィラード・H・ライト）　『愛なき幻想を禁ず』
[Statedef 4660]
type=S
movetype=A
physics=S
ctrl=0
anim=4515
sprpriority=2
velset=0,0

[State ]
type=Width
trigger1=time=0&&FrontEdgeBodyDist<=80
edge=100,0

[State ]
type=Explod
trigger1=animelemtime(24)=10
anim=4516
ID=4516
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=2
supermovetime=100
pausemovetime=100
shadow=-1

[State ]
type=Explod
trigger1=animelem=25
anim=4517
ID=4517
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=2
supermovetime=99999999
pausemovetime=99999999
shadow=-1

[State ]
type=RemoveExplod
trigger1=animelem=26
ID=4517

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=Helper
trigger1=time=60
helpertype=normal
name="willard"
ID=11600
pos=-320,-100
postype=p1
stateno=11614

[State ]
type=BGPalFX
trigger1=time<=276
time=2
mul=150,150,150
invertall=0

[State ]
type=BGPalFX
trigger1=time=277
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=278
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=279
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=280
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=281
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=282
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=283
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=284
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=285
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=286
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=287
time=2
mul=256,256,256
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=4

[State ]
type=Explod
trigger1=time=0
anim=2003
postype=p1
scale=.5*fvar(32),.5*fvar(33)
sprpriority=-3
bindtime=-1
removeongethit=1

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varadd
trigger1=time=0
fvar(14)=30*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0&&var(25)=0
var(13)=6
ignorehitpause=1
persistent=0

[State ]
type=Varset
trigger1=time=0
var(25)=1

[State ]
type=TargetBind
trigger1=AnimElemTime(7)<=12
pos=floor(-10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(8)>=0&&AnimElemTime(8)<9
pos=floor(10*fvar(32)),0

[State ]
type=TargetBind
trigger1=AnimElemTime(9)>=0&&AnimElemTime(9)<9
pos=floor(60*fvar(32)),floor(-40*fvar(33))

[State ]
type=TargetBind
trigger1=animelem=10
pos=floor(120*fvar(32)),0

[State ]
type=Explod
trigger1=animelem=10
anim=6006
postype=p1
pos=floor(120*fvar(32)),0
scale=.5,.5
sprpriority=6
pausemovetime=100
supermovetime=100

[State ]
type=EnvShake
trigger1=animelem=10
time=10
freq=160
ampl=-4

[State ]
type=PlaySnd
trigger1=animelem=10
value=s100,6

[State ]
type=powerAdd
trigger1=animelem=10
value=333

[State ]
type=lifeAdd
trigger1=animelem=10&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil(29*fvar(29))

[State ]
type=TargetLifeAdd
trigger1=animelem=10
value=ceil(-195*fvar(29)*fvar(30))
kill=0

[State ]
type=hitadd
trigger1=animelem=10
value=1

[State ]
type=Varadd
trigger1=animelem=10
var(30)=1

[State ]
type=Helper
trigger1=animelemtime(1)=0||animelemtime(4)=0||animelemtime(17)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(ifelse(animelemtime(1)=0,0,ifelse(animelemtime(4)=0,30,-22))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(1)=0||animelemtime(4)=0||animelemtime(17)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(ifelse(animelemtime(1)=0,0,ifelse(animelemtime(4)=0,30,-22))*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(17)=0
helpertype=normal
name="land"
ID=7080
postype=p1
pos=floor(27*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelemtime(17)=0
helpertype=normal
name="land2"
ID=17080
postype=p1
pos=floor(27*fvar(32)),0
stateno=7080
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=6
value=s0,346
channel=0

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=16

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=68

[State ]
type=ChangeState
Trigger1=AnimTime=0
value=0
ctrl=1

;アサルトタッチ　協力必殺技（右代宮縁寿）下がる　『ダブルエンジェリック・ランブル』
[Statedef 4690]
type=S
movetype=A 
physics=S
anim=105
sprpriority=5
ctrl=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1

[State ]
type=Varset
trigger1=time=0
var(28)=0

[State ]
type=Helper
trigger1=time=10
helpertype=normal
name="ushiromiya ange"
ID=11900
pos=floor(90*fvar(32)),0
postype=p1
stateno=11914
facing=-1

[State ]
type=Pause
trigger1=GameTime%2=0
time=1

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=RemoveExplod
trigger1=time=0
ID=6282

[State ]
type=RemoveExplod
trigger1=time=0
ID=6280

[State ]
type=PlaySnd
trigger1=time=0
value=s100,5

[State ]
type=Explod
trigger1=time=0
anim=6284
ID=6284
postype=p1
pos=floor(81*fvar(32)),floor(-65*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=7

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land"
ID=7011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=Helper
trigger1=time=0
helpertype=normal
name="land2"
ID=17011
pos=0,floor(2*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100

[State ]
type=VelSet
trigger1=animelemtime(2)>=1
x=-2.5

[State ]
type=VelSet
trigger1=animelem=2
y=-3.8
persistent=0

[State ]
type=Veladd
trigger1=time>=5
y=.4

[State ]
type=VelSet
trigger1=time>=5&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time>=5&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=time>=5&&Pos Y>=0
value=s100,1
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=Helper
trigger1=time>=5&&Pos Y>=0
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100
persistent=0

[State ]
type=ChangeState
trigger1=time>=5&&Pos Y=0
value=4691

;アサルトタッチ　協力必殺技（右代宮縁寿）乱舞
[Statedef 4691]
type=S
movetype=A 
physics=S
anim=11906
sprpriority=5
ctrl=0

[State ]
type=BGPalFX
trigger1=1
time=2
mul=150,150,150
invertall=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1
ignorehitpause=1

[State ]
type=PlayerPush
trigger1=1
value=0

[State ]
type=Varset
trigger1=time=0
fvar(16)=0

[State ]
type=AssertSpecial
trigger1=1
flag=unguardable
ignorehitpause=1

[State ]
type=PlaySnd
trigger1=anim=11906&&animelem=3
value=s100,9

[State ]
type=Explod
trigger1=facing=1&&anim=11906&&animelem=14
anim=11907
ID=11907
postype=left
pos=var(42),120
vel=0,-.3
sprpriority=17
bindtime=-1

[State ]
type=Explod
trigger1=facing=-1&&anim=11906&&animelem=14
anim=11907
ID=11907
postype=right
pos=-var(42),120
vel=0,-.3
sprpriority=17
facing=-1
bindtime=-1

[State ]
type=Varset
trigger1=time=0
fvar(4)=0

[State ]
type=Varset
trigger1=time=0
fvar(25)=0

[State ]
type=Varadd
trigger1=(anim=11906&&animelem=14)||fvar(25)>=1
fvar(25)=1

[State ]
type=modifyexplod
trigger1=anim=11906&&animelemtime(14)>=0
ID=11907
scale=1.3-fvar(4),1.3-fvar(4)

[State ]
type=Varadd
trigger1=anim=11906&&(animelemtime(14)=[0,7])
fvar(4)=.1

[State ]
type=Varset
trigger1=anim=11906&&animelemtime(14)=8
fvar(4)=.8

[State ]
type=Varadd
trigger1=fvar(25)>=40
fvar(4)=-.1

[State ]
type=PlaySnd
trigger1=anim=11906&&animelem=6
value=s0,291

[State ]
type=Width
trigger1=anim=11906&&animtime=0&&FrontEdgeBodyDist<=60
edge=60,0

[State ]
type=Width
trigger1=anim=11906&&animtime=0&&BackEdgeBodyDist<=60
edge=0,60

[State ]
type=ChangeAnim
trigger1=anim=11906&&animtime=0
value=4301

[State ]
type=TargetBind
trigger1=anim=4301&&animelemtime(39)<=2
pos=floor(50*fvar(32)),0

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=3
value=s0,76

[State ]
type=PlaySnd
trigger1=anim=4301&&(animelem=3||animelem=20)
value=s100,15

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=9
value=s0,77

[State ]
type=PlaySnd
trigger1=anim=4301&&(animelem=9||animelem=28)
value=s100,12

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=14
value=s0,125

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=14
value=s100,10

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=20
value=s0,82

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=28
value=s0,83

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=36
value=s0,87

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=36
value=s100,9

[State ]
type=Explod
trigger1=anim=4301&&animelem=38
anim=6033
postype=p1
pos=floor(-25*fvar(32)),floor(-79*fvar(33))
scale=.5*fvar(32),.5*fvar(33)
sprpriority=3
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=anim=4301&&animelem=40
value=s100,5

[State ]
type=VelSet
trigger1=anim=4301&&animelemtime(41)>=1
x=-6

[State ]
type=VelSet
trigger1=anim=4301&&animelem=41
y=-5

[State ]
type=HitDef
trigger1=anim=4301&&(AnimElem=4||AnimElem=10||AnimElem=15||AnimElem=29)
attr=S,HA
damage=ceil(25*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))*fvar(29)*fvar(30)),0
animtype=hard
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,28
guardsound=s100,14
ground.type=low
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.type=High
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4300
getpower=0,0
kill=0

[State ]
type=HitDef
trigger1=anim=4301&&AnimElem=21
attr=S,HA
damage=ceil(25*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))*fvar(29)*fvar(30)),0
animtype=hard
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,28
guardsound=s100,14
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4300
getpower=0,0
kill=0

[State ]
type=HitDef
trigger1=anim=4301&&AnimElem=37
attr=S,HA
damage=ceil(25*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))*fvar(29)*fvar(30)),0
animtype=hard
guardflag=M
hitflag=MAF
pausetime=0,60
priority=7,Hit
sparkno=-1
hitsound=s100,27
guardsound=s100,14
ground.slidetime=8
ground.hittime=60
ground.velocity=0,0
air.velocity=0,0
yaccel=.48
forcestand=1
guard.sparkno=-1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
ID=4301
getpower=0,0
kill=0

[State ]
type=lifeAdd
trigger1=movehit=1&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(4)=[0,2])
helpertype=normal
name="ranbu hit1"
ID=7038
pos=-10,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(4)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(10)=[0,2])
helpertype=normal
name="ranbu hit2"
ID=7038
pos=20,-65
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(10)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(15)=[0,2])
helpertype=normal
name="ranbu hit3"
ID=7038
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(15)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(21)=[0,2])
helpertype=normal
name="ranbu hit4"
ID=7038
pos=0,-110
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(21)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(29)=[0,2])
helpertype=normal
name="ranbu hit5"
ID=7038
pos=0,-60
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(29)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&movehit=1&&(animelemtime(37)=[0,2])
helpertype=normal
name="ranbu hit6"
ID=37059
pos=0,-80
postype=p2
stateno=7012
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=EnvShake
trigger1=anim=4301&&movehit=1&&(animelemtime(37)=[0,2])
time=5
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=anim=4301&&animelem=40
helpertype=normal
name="land"
ID=7011
pos=floor(10*fvar(32)),floor(4*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100
facing=-1

[State ]
type=Helper
trigger1=anim=4301&&animelem=40
helpertype=normal
name="land2"
ID=17011
pos=floor(10*fvar(32)),floor(4*fvar(33))
postype=p1
stateno=7011
supermovetime=100
pausemovetime=100
facing=-1

[State ]
type=VelAdd
trigger1=anim=4301&&animelemtime(41)>=1
y=.58

[State ]
type=StateTypeSet
trigger1=anim=4301&&animelemtime(41)>=1
statetype=A

[State ]
type=ChangeState
trigger1=anim=4301&&animelemtime(42)>=1&&Vel Y>0&&Pos Y>=10
value=4692

;アサルトタッチ　協力必殺技（右代宮縁寿）飛び蹴り
[Statedef 4692]
type=S
movetype=A 
physics=S
anim=4302
sprpriority=5
ctrl=0

[State ]
type=AssertSpecial
trigger1=1
flag=unguardable
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
fvar(14)=15*ifelse(helper(3001),var(50)>=1||var(31)=19||palno=12,2,1)*ifelse(var(15)=1,1.5,1)
ignorehitpause=1
persistent=0

[State ]
type=NotHitBy
trigger1=1
value=SCA
time=1
ignorehitpause=1

[State ]
type=PlayerPush
trigger1=1
value=0

[State ]
type=VelSet
trigger1=time<=10&&Pos Y>=0
x=0
y=0

[State ]
type=PosSet
trigger1=time<=10&&Pos Y>=0
y=0

[State ]
type=Pause
trigger1=animelem=4
time=30
movetime=30

[State ]
type=Varadd
trigger1=animelem=4||(var(16)=[1,30])
var(16)=1

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land"
ID=7004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4
helpertype=normal
name="land2"
ID=17004
postype=p1
stateno=7004
pausemovetime=100
supermovetime=100

[State ]
type=Varset
trigger1=time=0
var(0)=0

[State ]
type=Varadd
trigger1=time=[8,12]
var(0)=10

[State ]
type=Varadd
trigger1=time=[33,37]
var(0)=-10

[State ]
type=BGPalFX
trigger1=1
time=1
mul=150-var(0),150-var(0),150-var(0)
invertall=0

[State ]
type=Explod
trigger1=animelem=4
anim=6034
postype=p1
scale=1*fvar(32),1*fvar(33)
sprpriority=6
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=1
helpertype=normal
name="catin dar"
ID=7042
pos=-320,0
postype=left
stateno=7042
pausemovetime=100
supermovetime=100

[State ]
type=Helper
trigger1=animelem=4&&facing=-1
helpertype=normal
name="catin darH"
ID=7042
pos=320,0
postype=right
facing=-1
stateno=7042
pausemovetime=100
supermovetime=100

[State ]
type=PlaySnd
trigger1=animelem=4
value=s100,19

[State ]
type=PlaySnd
trigger1=animelem=4
value=s0,292
channel=0

[State ]
type=VelSet
trigger1=animelemtime(5)>=1
x=6

[State ]
type=VelSet
trigger1=animelem=5
y=-9

[State ]
type=VelAdd
trigger1=animelemtime(5)>=1
y=.58

[State ]
type=HitDef
trigger1=AnimElem=9
attr=S,HA
damage=ceil(500*(ifelse(var(15)=1,1.1+ifelse(var(31)=5||palno=12,.4,0),1))*fvar(29)*fvar(30)),0
animtype=diagup
guardflag=M
hitflag=MAF
priority=7,Hit
sparkno=-1
hitsound=s100,29
guardsound=s100,17
ground.slidetime=8
ground.hittime=8
ground.velocity=0,-10
air.velocity=0,-10
guard.sparkno=-1
yaccel=.48
fall=1
fall.recover=0
p1facing=1
p2facing=1
ground.cornerpush.veloff=0
air.cornerpush.veloff=0
persistent=0
getpower=0,0

[State ]
type=TargetpowerAdd
trigger1=numtarget>=1&&movehit&&(var(31)=6||palno=12)
value=-floor((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.5))
ignorehitpause=1
persistent=0

[State ]
type=lifeAdd
trigger1=movehit&&numhelper(3000)
trigger1=helper(3000),fvar(12)=0
trigger1=var(31)=15||palno=12
value=ceil((enemynear(numenemy>1&&enemynear,life=0),gethitvar(damage)*.2))
ignorehitpause=1
persistent=0

[State ]
type=Helper
trigger1=movehit&&numhelper(3000)&&(var(31)=15||palno=12)
trigger1=helper(3000),fvar(12)=0
helpertype=normal
name="MASSACRE"
ID=7077
pos=0,floor(-70*fvar(33))
postype=p1
stateno=7077
supermovetime=100
pausemovetime=100
persistent=0
ignorehitpause=1

[State ]
type=Varadd
trigger1=movehit
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Varadd
trigger1=MoveGuarded
var(58)=12
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=movehit
anim=6088
postype=p2
pos=0,-80
scale=.8,.8
sprpriority=20
facing=-1
ignorehitpause=1
persistent=0

[State ]
type=Explod
trigger1=movehit
anim=6090
postype=p2
pos=0,-40
scale=.5,.5
sprpriority=20
facing=-1
ignorehitpause=1
persistent=0
bindtime=-1

[State ]
type=Varadd
trigger1=movehit
fvar(16)=1
ignorehitpause=1

[State ]
type=EnvShake
trigger1=movehit
time=10
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=Helper
trigger1=numhelper(1216)=0&&movehit&&!MoveGuarded&&numtarget&&fvar(14)>=150
helpertype=normal
name="STUN"
ID=1216
postype=p2
stateno=1216
persistent=0
ignorehitpause=1

[State ];スタン移行
type=TargetState
trigger1=movehit&&!MoveGuarded&&numtarget&&fvar(21)=0&&fvar(14)>=150
value=1210
ignorehitpause=1
persistent=0

[State ]
type=AngleDraw
trigger1=1
scale=1,1

[State ]
type=AngleAdd
trigger1=animelem=8
value=25

[State ]
type=ScreenBound
trigger1=1
value=0
movecamera=0,0

[State ]
type=ChangeState
trigger1=animelemtime(8)>=1&&Pos Y>=-20
value=4693

;アサルトタッチ　協力必殺技（右代宮縁寿）着地
[Statedef 4693]
type=S
movetype=A
physics=S
ctrl=0
anim=4303
sprpriority=5

[State ]
type=AngleDraw
trigger1=1
scale=1,1

[State ]
type=Angleset
trigger1=time=0
value=0

[State ]
type=NotHitBy
trigger1=animelemtime(3)<=4
value=SCA
time=1
ignorehitpause=1

[State ]
type=VelSet
trigger1=time<=4&&Pos Y>=0
y=0

[State ]
type=PosSet
trigger1=time<=4&&Pos Y>=0
y=0

[State ]
type=PlaySnd
trigger1=animelem=2
value=s100,6

[State ]
type=EnvShake
trigger1=animelem=2
time=10
freq=160
ampl=-4
persistent=0
ignorehitpause=1

[State ]
type=VelSet
trigger1=animelem=2
x=5
y=-4

[State ]
type=VelAdd
trigger1=animelemtime(2)>=1&&animelemtime(3)<=4
y=.58

[State ]
type=VelSet
trigger1=animelem=4
x=0
y=0

[State ]
type=PosSet
trigger1=animelem=4
y=0

[State ]
type=Explod
trigger1=animelem=1
anim=6085
postype=p1
pos=floor(20*fvar(32)),floor(20*fvar(33))
scale=1*fvar(32),1*fvar(33)
sprpriority=7

[State ]
type=BGPalFX
trigger1=time<=41
time=2
mul=150,150,150
invertall=0

[State ]
type=BGPalFX
trigger1=time=42
time=2
mul=160,160,160
invertall=0

[State ]
type=BGPalFX
trigger1=time=43
time=2
mul=170,170,170
invertall=0

[State ]
type=BGPalFX
trigger1=time=44
time=2
mul=180,180,180
invertall=0

[State ]
type=BGPalFX
trigger1=time=45
time=2
mul=190,190,190
invertall=0

[State ]
type=BGPalFX
trigger1=time=46
time=2
mul=200,200,200
invertall=0

[State ]
type=BGPalFX
trigger1=time=47
time=2
mul=210,210,210
invertall=0

[State ]
type=BGPalFX
trigger1=time=48
time=2
mul=220,220,220
invertall=0

[State ]
type=BGPalFX
trigger1=time=49
time=2
mul=230,230,230
invertall=0

[State ]
type=BGPalFX
trigger1=time=50
time=2
mul=240,240,240
invertall=0

[State ]
type=BGPalFX
trigger1=time=51
time=2
mul=250,250,250
invertall=0

[State ]
type=BGPalFX
trigger1=time=52
time=2
mul=256,256,256
invertall=0

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(26)=19

[State ]
type=varset
trigger1=animtime=0&&roundstate<=2
var(13)=71

[State ]
type=ChangeState
trigger1=AnimTime=0
value=0
ctrl=1
