[Data]
Life = 1140
Power = 3334
Attack = 100
Defence = 100
Fall.Defence_Up = 50
Liedown.Time = 30
AirJuggle = 15
SparkNo = -1
Guard.SparkNo = -1
KO.Echo = 0
VolumeScale = 100
IntPersistIndex = 13
FloatPersistIndex = 9

[Size]
xscale = 1
yscale = 1
ground.back = 12
ground.front = 13
air.back = 12
air.front = 13
height = 65
attack.dist = 160
proj.attack.dist = 90
proj.doscale = 0
head.pos = 0, -85
mid.pos = 0, -55
shadowoffset = 0
draw.offset = 0,0

[Velocity]
walk.fwd  = 2.8
walk.back = -1.75
run.fwd  = 4.6, 0
run.back = -4.5,-3.8
jump.neu = 0,-10.801
jump.back = -1.785
jump.fwd = 2.595
runjump.back = -1.785,-10.801
runjump.fwd = 2.595,-10.801
airjump.neu = 0,-10.5
airjump.back = -1.81
airjump.fwd = 2.61
air.gethit.groundrecover = -.4,-5.401
air.gethit.airrecover.mul = 0,0
air.gethit.airrecover.add = -1,-5.1
air.gethit.airrecover.back = -3
air.gethit.airrecover.fwd = 3
air.gethit.airrecover.up = -10.5
air.gethit.airrecover.down = -8.4

[Movement]
airjump.num = 0
airjump.height = 35
yaccel = .6
stand.friction = .85
crouch.friction = .82
stand.friction.threshold = 2
crouch.friction.threshold = .05
air.gethit.groundlevel = 25
air.gethit.groundrecover.ground.threshold = 0
air.gethit.groundrecover.groundlevel = 0
air.gethit.airrecover.threshold = -9999
air.gethit.airrecover.yaccel = .6
air.gethit.trip.groundlevel = 15
down.bounce.offset = 0, 20
down.bounce.yaccel = .4
down.bounce.groundlevel = 12
down.friction.threshold = .05

;---------------------------------------------------------------------------
; タイムオーバーで負けた時
[Statedef 170]
Ctrl = 0
Anim = 170
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 2

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s170, Var(1)
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 2
Trigger1 = AnimElem = 2
Value = s180, 3
Channel = 1

[State ]
Type = AssertSpecial
Trigger1 = Time < 151
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 勝った動作１
[Statedef 180]
Ctrl = 0
Anim = 181
VelSet = 0,0

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 3

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s180, Var(1)
Channel = 1

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SCA
Time = 1

[State ]
Type = AssertSpecial
Trigger1 = Var(1) = 0
Trigger1 = Time <= 120
Trigger2 = Var(1) = 1 || Var(1) = 2
Trigger2 = Time <= 150
Trigger3 = Var(1) = 3
Trigger3 = Time <= 130
Flag = RoundNotOver

;---------------------------------------------------------------------------
; 開始前の動作 1
[Statedef 191]
Ctrl = 0
Anim = 190
VelSet = 0,0

[State ]
Type = ChangeState
Trigger1 = Enemy,Name = "Tohno_Shiki" || Enemy,Name = "shiki_tohno" || Enemy,Name = "Len"
Trigger1 = Time = 0
Value = 192

[State ]
Type = ChangeState
Trigger1 = Enemy,Name = "Kohaku"
Trigger1 = Time = 0
Value = 193

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = VarRandom
Trigger1 = Time = 20
V = 1
Range = 3

[State ]
Type = PlaySnd
Trigger1 = Time = 20
Value = s190, Var(1)
Channel = 4

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 2
[Statedef 192]
Ctrl = 0
Anim = 190
VelSet = 0,0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = PlaySnd
Trigger1 = Enemy,Name != "Len"
Trigger1 = AnimElem = 2
Value = s191, 0
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Enemy,Name = "Len"
Trigger1 = AnimElem = 2
Value = s192, 0
Channel = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 開始前の動作 対琥珀
[Statedef 193]
Ctrl = 0
Anim = 192
VelSet = 0,0

[State ]
Type = AssertSpecial
Trigger1 = 1
Flag = Intro

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s3055, 0

[State ]
Type = EnvShake
Trigger1 = Time = [0,217]
Time  = 3
Ampl  = 3
Freq  = 120
Persistent = 3

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0

;---------------------------------------------------------------------------
; 挑発
[Statedef 195]
Ctrl = 0
Anim = 195
Physics = S
Sprpriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s195, 0
Channel = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C5A
[Statedef 200]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 200
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElemNo(0) = 1 && AnimTime < 0
Player = 6,-6

[State ]
Type = Width
Trigger1 = AnimElemNo(0) = [2,7]
Player = 10,-7

[State ]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
GuardFlag = M
HitFlag = MAFD
PauseTime = 6, 7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6, 7
HitSound = s10,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Down.Velocity = -4,-2*FVar(36)
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 200
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H5A
[Statedef 201]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 201
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
GuardFlag = M
HitFlag = MAFD
PauseTime = 6, 7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6, 7
HitSound = s10, 0
GuardSound = s120, 0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 201
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; F5A
[Statedef 202]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 202
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.78
FV = 1
Value = 0.78
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
GuardFlag = M
HitFlag = MAFD
PauseTime = 6, 7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6, 7
HitSound = s10, 0
GuardSound = s120, 0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 202
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E5A
[Statedef 203]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 203
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElemNo(0) = 1 && AnimTime < 0
Player = 6,-6

[State ]
Type = Width
Trigger1 = AnimElemNo(0) = [2,7]
Player = 10,-7

[State ]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = S, NA
Damage = Ceil(FVar(0)*(20-Var(4)%2))
GuardFlag = M
HitFlag = MAFD
PauseTime = 6, 7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6, 7
HitSound = s10, 0
GuardSound = s120, 0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 200
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)%10 = 0
V = 20
Value = Var(20)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;C5B
[Statedef 210]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 210
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
Trigger1 = AnimElem = 7, < 1
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 210
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 210
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;F5B
[Statedef 211]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 211
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 211
Trigger1 = Command != "B溜め"
Trigger1 = Time = [5,17]
Value = 212

[State ]
Type = ChangeState
Trigger1 = Anim = 211
Trigger1 = Time = 18
Value = 212

[State ]
Type = PlaySnd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = Anim = 212
Trigger1 = AnimElem = 1
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 2, = [0,1]
X = 5.5

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 3, = [0,1]
X = 4

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 3, = [2,3]
X = 2.5

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 4, = [0,1]
X = 1.5

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 4, = [2,3]
X = 0.5

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 5, = [0,2]
X = 0.8

[State ]
Type = PosAdd
Trigger1 = Anim = 212
Trigger1 = AnimElem = 5, = [3,4]
X = 0.5

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 212
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 211
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BEF5B
[Statedef 212]
Type    = S
MoveType= A
Physics = S

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 10700
ID = 10700
PosType = P1
Pos = 64,-73
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Time = [0,1]
X = 6.5

[State ]
Type = PosAdd
Trigger1 = Time = [2,3]
X = 4.5

[State ]
Type = PosAdd
Trigger1 = Time = [4,5]
X = 3.5

[State ]
Type = PosAdd
Trigger1 = Time = [6,7]
X = 2.5

[State ]
Type = PosAdd
Trigger1 = Time = [8,9]
X = 1.5

[State ]
Type = PosAdd
Trigger1 = Time = [10,11]
X = 0.5

[State ]
Type = PosAdd
Trigger1 = Time = [12,13]
X = 1.5

[State ]
Type = PosAdd
Trigger1 = Time = [14,16]
X = 0.5

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Air.HitTime = 30-Ceil(FVar(35))
Ground.Velocity = 0,-9*FVar(36)
Guard.Velocity = -5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5600
ID = 5600
P2Facing = 1
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
GetPower = Ceil(FVar(30)*120), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.5*FVar(31)*120)

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = 0
Guard.Velocity = -5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 5600
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*120), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*120)
GivePower = Floor(FVar(31)*120), Floor(0.5*FVar(31)*120)

[State ]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;E5B
[Statedef 213]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 213
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 10, < 0
Player = 5,-1

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = 11.8

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [5,7]
Attr = S, NA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 213
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)%10 = 0
V = 21
Value = Var(21)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BEC5C
[Statedef 220]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 220
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 220
Trigger1 = Command != "C溜め"
Trigger1 = Time = [10,26]
Value = 221

[State ]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,5]
X = 12

[State ]
Type = PosAdd
Trigger1 = AnimElem = 7, = [6,11]
X = 8

[State ]
Type = PosAdd
Trigger1 = AnimElem = 8, = [0,1]
X = 5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 9, = [0,1]
X = 2.5

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10102
ID = 10102
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10100
ID = 10100
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10101
ID = 10101
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s110, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 225
PosType = P1
Pos = 15,-12
StateNo = 225
Ownpal = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 3
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 8 || AnimElem = 9
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=8||AnimElem=9),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 220
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 8
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 221
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [9,10]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 222
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 5C
[Statedef 221]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
Trigger1 = Anim = 220 || Anim = 222
Trigger1 = AnimElem = 7, < 2
Value = 221

[State ]
Type = ChangeAnim
Trigger1 = Anim = 220 || Anim = 222
Trigger1 = AnimElem = 7, >= 2
Value = 221
Elem = 3

[State ]
Type = PosAdd
Trigger1 = AnimElem = 1, = [0,1]
X = 15.7

[State ]
Type = Helper
Trigger1 = AnimElem = 6
ID = 225
PosType = P1
Pos = 15,-12
StateNo = 225
Ownpal = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 4
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=4),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [2,3]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 221
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [4,5]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 222
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BEE5C
[Statedef 222]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 222
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 222
Trigger1 = Command != "C溜め"
Trigger1 = Time = [7,22]
Value = 221

[State ]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,5]
X = 14

[State ]
Type = PosAdd
Trigger1 = AnimElem = 7, = [6,11]
X = 10

[State ]
Type = PosAdd
Trigger1 = AnimElem = 8, = [0,1]
X = 7

[State ]
Type = PosAdd
Trigger1 = AnimElem = 9, = [0,1]
X = 4.5

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10102
ID = 10102
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10100
ID = 10100
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10101
ID = 10101
Postype = P1
Pos = -10,1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 3
IgnoreHitPause = 1
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s110, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 225
PosType = P1
Pos = 15,-12
StateNo = 225
Ownpal = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 3
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 3
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 8 || AnimElem = 9
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=8||AnimElem=9),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(40-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 220
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 8
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 221
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [9,10]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 222
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = VarSet
Trigger1 = Var(22)%10 = 0
V = 22
Value = Var(22)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H6A
[Statedef 230]
Type    = S
MoveType= A
Physics = S
Anim = 230
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimElem = 8, < 0
Player = 10,-6

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3
X = 15.7

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.80*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
AnimType = Medium
GuardFlag = M
HitFlag = MAFD
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound = s10,1
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 230
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;H6A2
[Statedef 231]
Type    = S
MoveType= A
Physics = S
Anim = 231
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 9, < 0
Player = 5,-1

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,1]
X = 11.8

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+2 && Var(6):= Var(6)+1
Trigger2 = MoveGuarded = 1
Trigger2 = Var(6):= Var(6)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [4,6]
Attr = S, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
AnimType = Hard
GuardFlag = M
HitFlag = MAFD
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 231
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(40+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C4B
[Statedef 240]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 240
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
TriggerAll = Anim = 240
Trigger1 = Command != "B溜め"
Trigger1 = Time = [25,95]
Trigger2 = Time > 95
Value = 241

[State ]
Type = VarAdd
Trigger1 = P2StateNo != [5120,5129]
Trigger1 = Var(49) > 0
V = 49
Value = -1

[State ]
Type = VarSet
Trigger1 = P2StateNo = [5120,5129]
V = 49
Value = 8

[State ]
Type = VarSet
Trigger1 = Anim != 240
V = 49
Value = 0

[State ]
Type = VarSet
Trigger1 = Anim = 240
Trigger1 = EnemyNear(Var(3)),Pos Y = 0
Trigger1 = P2Dist X = [102,177]
Trigger1 = Var(49) = 0
Trigger1 = Time >= 16
V = 47
Value = 1
Persistent = 16

[State ]
Type = PowerAdd
Trigger1 = Var(47) = 1
Value = 50

[State ]
Type = PlaySnd
Trigger1 = Anim = 240
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 240
Trigger1 = AnimElem = 4
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 240
Trigger1 = AnimElem = 5
Anim = 245
ID = 245
Postype = P1
Pos = 75,-5
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
RemoveTime = -1
RemoveOnGetHit = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 241
Anim = 246
ID = 246
Postype = P1
Pos = 75,-5
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
RemoveOnGetHit = 1
Persistent = 0

[State ]
Type = RemoveExplod
Trigger1 = Anim = 241
ID = 245

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 240
Trigger1 = P2StateNo != [150,159]
Trigger1 = AnimElem = 6
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(10-Var(4)%2))
HitFlag = H
Ground.Type = Trip
Ground.Velocity = -0.5,-4.1*FVar(36)
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 240
Kill = 0
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 240
Trigger1 = P2StateNo = [150,159]
Trigger1 = AnimElem = 6
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(10-Var(4)%2))
HitFlag = H-
Ground.Type = Trip
Ground.Velocity = -0.5,-4.1*FVar(36)
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 240
Kill = 0
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Anim = 241
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E4B
[Statedef 242]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 242
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Helper
TriggerAll = Anim = 242
Trigger1 = AnimElem = 5
StateNo = 9500
ID = 9501

[State ]
Type = PosSet
Trigger1 = NumHelper(9501) > 0
Trigger1 = FVar(25) = 0 && Pos X != Helper(9501),Pos X
X = Helper(9501),Pos X

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
TriggerAll = Anim = 242
Trigger1 = Command != "B溜め"
Trigger1 = Time = [22,92]
Trigger2 = Time > 92
Value = 241

[State ]
Type = VarAdd
Trigger1 = P2StateNo != [5120,5129]
Trigger1 = Var(49) > 0
V = 49
Value = -1

[State ]
Type = VarSet
Trigger1 = P2StateNo = [5120,5129]
V = 49
Value = 8

[State ]
Type = VarSet
Trigger1 = Anim != 242
V = 49
Value = 0

[State ]
Type = VarSet
Trigger1 = Anim = 242
Trigger1 = EnemyNear(Var(3)),Pos Y = 0
Trigger1 = P2Dist X = [102,177]
Trigger1 = Var(49) = 0
Trigger1 = Time >= 13
V = 47
Value = 1
Persistent = 8

[State ]
Type = PowerAdd
Trigger1 = Var(47) = 1
Value = 50

[State ]
Type = PlaySnd
Trigger1 = Anim = 242
Trigger1 = AnimElem = 5
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 242
Trigger1 = AnimElem = 4
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 242
Trigger1 = AnimElem = 5
Anim = 245
ID = 245
Postype = P1
Pos = 75,-5
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
RemoveTime = -1
RemoveOnGetHit = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 241
Anim = 246
ID = 246
Postype = P1
Pos = 75,-5
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
RemoveOnGetHit = 1
Persistent = 0

[State ]
Type = RemoveExplod
Trigger1 = Anim = 241
ID = 245

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 242
Trigger1 = P2StateNo != [150,159]
Trigger1 = AnimElem = 6
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(10-Var(4)%2))
HitFlag = H
Ground.Type = Trip
Ground.Velocity = -0.5,-4.1*FVar(36)
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 240
Kill = 0
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 242
Trigger1 = P2StateNo = [150,159]
Trigger1 = AnimElem = 6
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(10-Var(4)%2))
HitFlag = H-
Ground.Type = Trip
Ground.Velocity = -0.5,-4.1*FVar(36)
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 240
Kill = 0
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Anim = 241
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C6B
[Statedef 250]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 250
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 9600
ID = 9600

[State ]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 9700
ID = 9700

[State ]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 8, < 0
Player = 13,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s250, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 255
ID = 255
Postype = P1
Pos = 31,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 != 4
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,7]
Attr = S, NA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,4
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 250
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 = 4
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,7]
Attr = S, NA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,4
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 250
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(44+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = VarSet
Trigger1 = Var(23)%10 = 0
V = 23
Value = Var(23)+1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C6C
[Statedef 260]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 260
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,3]
X = 5.9

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s260, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 265
ID = 265
Postype = P1
Pos = 26,-1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 9
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(75-Var(4)%2)),Ceil(FVar(0)/FVar(3)*9)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s30,5
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
ForceStand = 1
YAccel = .6
ID = 260
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(23)/10 = 0
V = 23
Value = Var(23)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; H6C
[Statedef 261]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 261
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 2, >= 0
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,3]
X = 5.9

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s260, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 265
ID = 265
Postype = P1
Pos = 26,-1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 0
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 9
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(75-Var(4)%2)),Ceil(FVar(0)/FVar(3)*9)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s30,5
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
ForceStand = 1
YAccel = .6
ID = 260
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(23)/10 = 0
V = 23
Value = Var(23)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; F6C
[Statedef 262]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 262
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 262
Trigger1 = Command != "C溜め"
Trigger1 = Time = [5,16]
Value = 263
Elem = Cond(Time<8,1,Cond((Time=[11,13]),3,Cond(Time>13,4,2)))

[State ]
Type = ChangeState
Trigger1 = Anim = 262
Trigger1 = Time = 17
Value = 263

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PosAdd
Trigger1 = Anim = 263
Trigger1 = AnimElem = 5, = [0,3]
X = 5.85

[State ]
Type = PlaySnd
Trigger1 = Anim = 263
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 263
Trigger1 = AnimElem = 4
Value = s270, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 263
Trigger1 = AnimElem = 6
Anim = 275
ID = 275
Postype = P1
Pos = 40,3
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = ModifyExplod
Trigger1 = Anim = 263
Trigger1 = AnimElem = 7
ID = 275
SprPriority = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(262) > 0
Trigger1 = Target(262),StateNo = 5020 || Target(262),StateNo = 5080
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 263
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, NA
AnimType  = Hard
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(120-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(120-Var(4)%2)))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,14
Guard.Velocity = -9.5
Air.Velocity = -10,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
ForceStand = 1
YAccel = .6
ID = 262
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil((1-(Var(24)=0&&Var(50)=2)*0.55)*FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = VarSet
Trigger1 = Var(23)/10 = 0
V = 23
Value = Var(23)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BEF6C
[Statedef 263]
Type    = S
MoveType= A
Physics = S

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Anim = 10700
ID = 10700
PosType = P1
Pos = 8,-118
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 8, = [0,3]
X = 5.85

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s270, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 9
Anim = 275
ID = 275
Postype = P1
Pos = 40,3
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = ModifyExplod
Trigger1 = AnimElem = 10
ID = 275
SprPriority = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5700) > 0
Trigger1 = Target(5700),StateNo = [5750,5751]
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.45*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 10
Attr = S, NA
AnimType  = Medium
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(100-Var(4)%2)))
HitFlag = MAFD
GuardFlag = H
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = 0,14
Guard.Velocity = -6
Air.Velocity = 0,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5750
ID = 5700
P2Facing = 1
Guard.Kill = 0
Fall.Recover = 0
GetPower = Ceil((1-(Var(24)=0&&Var(50)=2)*0.55)*FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = VarSet
Trigger1 = Var(23)/10 = 0
V = 23
Value = Var(23)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C6C追加
[Statedef 270]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = Cond(Var(57)/10%10=1,270,272)
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0
Trigger2 = Anim = 271 && AnimElem = 7
V = 55
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 270 || Anim = 272
Trigger1 = Command != "C溜め"
Trigger1 = Time = [4,13]
Value = 271

[State ]
Type = ChangeState
Trigger1 = Anim = 270 || Anim = 272
Trigger1 = Time = 14
Value = 271

[State ]
Type = PosAdd
Trigger1 = Anim = 271
Trigger1 = AnimElem = 2, = [0,3]
X = 7.7

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = Anim = 271
Trigger1 = AnimElem = 2
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 271
Trigger1 = AnimElem = 2
Value = s270, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 271
Trigger1 = AnimElem = 3
Anim = 275
ID = 275
Postype = P1
Pos = 40,3
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = ModifyExplod
Trigger1 = Anim = 271
Trigger1 = AnimElem = 4
ID = 275
SprPriority = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 271
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10,-4),Cond(Var(50)=1,14,-2*FVar(36))
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 270
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Anim = 271
Trigger1 = AnimElem = 2, > 0
Trigger1 = AnimElem = 7, < 0
Trigger1 = Command = "236c"
V = 55
Value = 1

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll = Var(55) = 1
TriggerAll = Anim = 271
Trigger1 = Var(2) > 0
Trigger1 = AnimElem = 4, > 0
Trigger1 = AnimElem = 7, < 0
Trigger2 = Var(2) = 0
Trigger2 = AnimElem = 5, > 0
Trigger2 = AnimElem = 7, < 0
Value = 280

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BEC6C
[Statedef 271]
Type    = S
MoveType= A
Physics = S

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 8
V = 55
Value = 0

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 10700
ID = 10700
PosType = P1
Pos = 8,-125
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,3]
X = 7.7

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s270, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 275
ID = 275
Postype = P1
Pos = 40,3
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = ModifyExplod
Trigger1 = AnimElem = 5
ID = 275
SprPriority = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+(Anim=270)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Anim = 272
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 272
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5700) > 0
Trigger1 = Target(5700),StateNo = [5750,5751]
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 270
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = H
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10,-4),Cond(Var(50)=1,14,-2*FVar(36))
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 270
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 272
Trigger1 = P2StateType = S || P2StateType = C
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = M
GuardFlag = H
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10,-4),Cond(Var(50)=1,14,-2*FVar(36))
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 270
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 272
Trigger1 = P2StateType != S && P2StateType != C
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, NA
AnimType  = Hard
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(120-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(120-Var(4)%2)))
HitFlag = AFD
GuardFlag = H
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = 0,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5750
ID = 5700
P2Facing = 1
Guard.Kill = 0
Fall.Recover = 1-(P2MoveType=A)
GetPower = Ceil((1-(Var(24)=0&&Var(50)=2)*0.55)*FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = AnimElem = 3, > 0
Trigger1 = AnimElem = 8, < 0
Trigger1 = Command = "236c"
V = 55
Value = 1

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
TriggerAll = Var(55) = 1
Trigger1 = Var(2) > 0
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 8, < 0
Trigger2 = Var(2) = 0
Trigger2 = AnimElem = 6, > 0
Trigger2 = AnimElem = 8, < 0
Value = 280

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 翡翠三段クッキング
[Statedef 280]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 280
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = 0

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlayerPush
Trigger1 = AnimElem = 6, < 0
Value = 0
Persistent = 1

[State ]
Type = PosAdd
Trigger1 = AnimElem = 2, = [0,1]
X = 16

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,2]
Trigger2 = AnimElem = 4, = [0,2]
Trigger3 = AnimElem = 5, = [0,2]
X = 5.8

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s280, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 285
ID = 285
Postype = P1
Pos = 30,-2
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
IgnoreHitPause = 0
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [3,4]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Air.HitTime = 30-Ceil(FVar(35))
Ground.Velocity = 0,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
ForceStand = 1
P2StateNo = 5600
ID = 5600
P2Facing = 1
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [3,4]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
ForceStand = 1
YAccel = .6
ID = 5600
Guard.Kill = 0
Air.Fall = 1
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = Explod
Trigger1 = AnimElem = 4, < 1
Trigger1 = MoveHit = 1
Anim = 815
ID = 815
PosType = P1
Pos = 87,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;C2A
[Statedef 400]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 400
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 400
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2A
[Statedef 401]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 401
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 1
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = L
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 401
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2A
[Statedef 402]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 402
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 3
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = C, NA
Damage = Ceil(FVar(0)*(20-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 400
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*30), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*30)
GivePower = Floor(FVar(31)*30), Floor(0.5*FVar(31)*30)

[State ]
Type = VarSet
Trigger1 = Var(20)/10%10 = 0
V = 20
Value = Var(20)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;C2B
[Statedef 410]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 410
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = C, NA
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;F2B
[Statedef 411]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 411
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [5,6]
Attr = C, NA
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2B
[Statedef 412]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 412
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = AnimElem = 3
Value = s210, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = C, NA
Damage    = Ceil(FVar(0)*(55-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = C, NA
Damage    = Ceil(FVar(0)*(60-Var(4)%2))
AnimType  = Medium
HitFlag = MAFD
GuardFlag = L
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 410
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(28+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*60), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*60)
GivePower = Floor(FVar(31)*60), Floor(0.5*FVar(31)*60)

[State ]
Type = VarSet
Trigger1 = Var(21)/10%10 = 0
V = 21
Value = Var(21)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;C2C
[Statedef 420]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 420
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PosAdd
Trigger1 = Time = [5,7]
X = 0.95

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 6
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 6
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 8
StateNo = 425
ID = 425
Ownpal = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 9
Attr = C, NA
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,5
GuardSound = s120,0
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 420
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*110), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*110)
GivePower = Floor(FVar(31)*110), Floor(0.5*FVar(31)*110)

[State ]
Type = VarSet
Trigger1 = Var(22)/10%10 = 0
V = 22
Value = Var(22)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
;E2C
[Statedef 421]
Type    = C
MoveType= A
Physics = C
Ctrl = 0
Anim = 421
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PosAdd
Trigger1 = Time = [5,7]
X = 0.95

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 6
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 6
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 8
StateNo = 425
ID = 425
Ownpal = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.60
FV = 1
Value = 0.60
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [9,10]
Attr = C, NA
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
AnimType  = Hard
HitFlag = MAFD
GuardFlag = L
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,5
GuardSound = s120,0
Ground.Type = Trip
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -0.5,-4.1*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-0.5,-4),Cond(Var(50)=1,-4.1,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 420
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*110), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*110)
GivePower = Floor(FVar(31)*110), Floor(0.5*FVar(31)*110)

[State ]
Type = VarSet
Trigger1 = Var(22)/10%10 = 0
V = 22
Value = Var(22)+10

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 11
Ctrl = 1

;---------------------------------------------------------------------------
; F3C
[Statedef 430]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 430
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 9600
ID = 9600

[State ]
Type = Helper
Trigger1 = AnimElem = 6
StateNo = 9700
ID = 9700

[State ]
Type = Width
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 6, < 0
Player = 12,0

[State ]
Type = Width
Trigger1 = AnimElem = 6, >= 0
Trigger1 = AnimElem = 8, < 0
Player = 14,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s250, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 255
ID = 255
Postype = P1
Pos = 31,0
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,7]
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,5
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 430
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = VarSet
Trigger1 = Var(23)/100 = 0
V = 23
Value = Var(23)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; F3C追加
[Statedef 431]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 431
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 49
Value = 1

[State ]
Type = VarSet
Trigger1 = MoveContact || MoveReversed
Trigger2 = AnimTime = 0
V = 49
Value = 0
IgnoreHitPause = 1

[State ]
Type = Width
Trigger1 = AnimElem = 3, < 0
Player = 13,0

[State ]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s900, 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,1]
X = 19.5

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 1125
ID = 1125
Postype = P1
Pos = 34,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, NA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 431
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;CJA
[Statedef 600]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 600
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 4
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 != 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage  = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 = 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage  = Ceil(FVar(0)*(30-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJA
[Statedef 601]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 601
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Time = 4
Value = s30, 0
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage  = Ceil(FVar(0)*(20-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 600
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = VarSet
Trigger1 = Var(20)/100 = 0
V = 20
Value = Var(20)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;CJB
[Statedef 610]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 610
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 7
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [2,3]
Trigger1 = AnimElem = 2
Value = s610, Var(1)-2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
AnimType = Med
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "b"
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 8, < 0
Value = 615

;---------------------------------------------------------------------------
;HJB
[Statedef 611]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 611
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 7
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [2,3]
Trigger1 = AnimElem = 2
Value = s610, Var(1)-2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 616
ID = 616
PosType = P1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = -5

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
AnimType = Med
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 611
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;FJB
[Statedef 612]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 612
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 612
Trigger1 = Command != "B溜め"
Trigger1 = Time = [5,10]
Value = 613

[State ]
Type = ChangeState
Trigger1 = Anim = 612
Trigger1 = Time = 11
Value = 613

[State ]
Type = PlaySnd
Trigger1 = Anim = 613
Trigger1 = AnimElem = 1
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 613
Trigger1 = AnimElem = 2
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Anim = 613
Trigger1 = AnimElem = 1
V = 1
Range = 7
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = Anim = 613
Trigger1 = AnimElem = 1
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [2,3]
Trigger1 = Anim = 613
Trigger1 = AnimElem = 1
Value = s610, Var(1)-2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Anim = 613
Trigger1 = AnimElem = 2
Anim = 616
ID = 616
PosType = P1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = -5

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 613
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
AnimType = Med
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 611
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BEFJB
[Statedef 613]
Type    = A
MoveType= A
Physics = A

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 10700
ID = 10700
PosType = P1
Pos = 20,-65
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 4
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 7
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [2,3]
Trigger1 = AnimElem = 2
Value = s610, Var(1)-2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 616
ID = 616
PosType = P1
Scale = 0.5,0.5
Ownpal = 1
SprPriority = -5

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.85*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
AnimType = Med
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Air.Velocity = Cond(Var(50)=1,-2.6,-4),Cond(Var(50)=1,-11.1,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 611
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(32+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJB
[Statedef 614]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 614
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 7
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s200, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [2,3]
Trigger1 = AnimElem = 2
Value = s610, Var(1)-2
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.90
FV = 1
Value = 0.90
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,1
GuardSound = s120,0
AnimType = Med
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 610
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(24+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = VarSet
Trigger1 = Var(21)/100 = 0
V = 21
Value = Var(21)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "b"
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 8, < 0
Value = 615

;---------------------------------------------------------------------------
;JB追加
[Statedef 615]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 615
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 49
Value = 1

[State ]
Type = VarSet
Trigger1 = MoveContact || MoveReversed
Trigger2 = AnimElem = 7
V = 49
Value = 0
IgnoreHitPause = 1

[State ]
Type = VelSet
Trigger1 = Time = [0,4]
Y = 0

[State ]
Type = VelSet
Trigger1 = Time = 5
Y = -6.6

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 1
Trigger1 = P2StateType = A
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10.7,-4),Cond(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5700+(PrevStateNo=614)*10
ID = 5700
P2Facing = 1
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
GetPower = Ceil(FVar(30)*65), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*65)
GivePower = Floor(FVar(31)*65), Floor(0.5*FVar(31)*65)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(50) = 2 || P2StateType != A
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 3
Attr = A, NA
Damage = Ceil(FVar(0)*(70-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10.7,-4),Cond(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 9
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 5700
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*65), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*65)
GivePower = Floor(FVar(31)*65), Floor(0.5*FVar(31)*65)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;CJC
[Statedef 620]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 620
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 620
Trigger1 = Command != "C溜め"
Trigger1 = Time = [3,15]
Value = 621

[State ]
Type = ChangeState
Trigger1 = Anim = 620
Trigger1 = Time = 16
Value = 621

[State ]
Type = PlaySnd
Trigger1 = Anim = 621
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Anim = 621
Trigger1 = AnimElem = 1
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = Anim = 621
Trigger1 = AnimElem = 1
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Anim = 621
Trigger1 = AnimElem = 2
ID = 626
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 621
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*110), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*110)
GivePower = Floor(FVar(31)*110), Floor(0.5*FVar(31)*110)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BECJC
[Statedef 621]
Type    = A
MoveType= A
Physics = A

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -17,-84
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 619
ID = 619
PosType = P1
Pos = -Vel X,-Vel Y
Vel = 0.4,-0.4
Ownpal = 1
SprPriority = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 4
ID = 626
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 4
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 4
Value = s621+Var(1)*189, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.95
FV = 1
Value = 0.95
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = A, NA
Damage = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10.7,-4),Cond(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.5*FVar(31)*150)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;FJC
[Statedef 622]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 622
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 622
Trigger1 = Command != "C溜め"
Trigger1 = Time = [4,17]
Value = 623

[State ]
Type = ChangeState
Trigger1 = Anim = 622
Trigger1 = Time = 18
Value = 623

[State ]
Type = PlaySnd
Trigger1 = Anim = 623
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Anim = 623
Trigger1 = AnimElem = 1
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = Anim = 623
Trigger1 = AnimElem = 1
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Anim = 623
Trigger1 = AnimElem = 2
ID = 627
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 623
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*110), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*110)
GivePower = Floor(FVar(31)*110), Floor(0.5*FVar(31)*110)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BEFJC
[Statedef 623]
Type    = A
MoveType= A
Physics = A

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -17,-84
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 619
ID = 619
PosType = P1
Pos = -Vel X,-Vel Y
Vel = 0.4,-0.4
Ownpal = 1
SprPriority = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 4
ID = 627
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 4
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 4
Value = s621+Var(1)*189, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.95
FV = 1
Value = 0.95
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = A, NA
Damage = Ceil(FVar(0)*(110-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10.7,-4),Cond(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;EJC
[Statedef 624]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 624
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 624
Trigger1 = Command != "C溜め"
Trigger1 = Time = [3,14]
Value = 625

[State ]
Type = ChangeState
Trigger1 = Anim = 624
Trigger1 = Time = 15
Value = 625

[State ]
Type = PlaySnd
Trigger1 = Anim = 625
Trigger1 = AnimElem = 2
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = Anim = 625
Trigger1 = AnimElem = 1
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = Anim = 625
Trigger1 = AnimElem = 1
Value = s210+Var(1)*10, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = Anim = 625
Trigger1 = AnimElem = 2
ID = 628
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 625
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -6
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*110), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*110)
GivePower = Floor(FVar(31)*110), Floor(0.5*FVar(31)*110)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BEEJC
[Statedef 625]
Type    = A
MoveType= A
Physics = A

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = -17,-84
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 619
ID = 619
PosType = P1
Pos = -Vel X,-Vel Y
Vel = 0.4,-0.4
Ownpal = 1
SprPriority = 5

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 4
ID = 628
StateNo = 626
Ownpal = 1
Persistent = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 4
V = 1
Range = 3
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 4
Value = s621+Var(1)*189, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 6
Attr = A, NA
Damage = Ceil(FVar(0)*(120-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 16
Guard.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-10.7,-4),Cond(Var(50)=1,14,-2*FVar(36))
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 620
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.5*FVar(31)*150)

[State ]
Type = VarSet
Trigger1 = Var(22)/100 = 0
V = 22
Value = Var(22)+100

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;CJ6B
[Statedef 630]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 630
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 8, < 0
Trigger1 = Vel Y + Pos Y < 0
Player = 0,-3

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 5
StateNo = 635
ID = 635
Postype = P1
Pos = 60,-25
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;EJ6B
[Statedef 631]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 631
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 14, < 0
Trigger1 = Vel Y + Pos Y < 0
Player = 0,-3

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 10
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 5 || AnimElem = 11
StateNo = 635
ID = 635+(AnimElem = 11)
Postype = P1
Pos = 60,-25
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;CJ2C
[Statedef 640]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 640
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || Anim = 645
V = 55
Value = 0

[State ]
Type = VarSet
Trigger1 = Anim = 641
Trigger1 = MoveContact || MoveReversed
V = 55
Value = 1
IgnoreHitPause = 1

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 640
Trigger1 = Command != "C溜め"
Trigger1 = Time = [7,9]
Value = 641

[State ]
Type = ChangeState
Trigger1 = Anim = 640
Trigger1 = Time = 10
Value = 641

[State ]
Type = ChangeAnim
Trigger1 = Var(55) = 1
Trigger1 = Anim = 641
Trigger1 = AnimElem = 3, > 0
Value = 645

[State ]
Type = StateTypeSet
Trigger1 = Anim = 645
MoveType = I

[State ]
Type = PlaySnd
Trigger1 = Anim = 641
Trigger1 = AnimElem = 2
Value = s40, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 641
Trigger1 = AnimElem = 3
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = Anim = 641
Trigger1 = AnimElem = 2
Value = s621, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VelSet
Trigger1 = Anim = 640
Trigger2 = Anim = 641
Trigger2 = AnimElem = 3, < 0
X = 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Anim = 641
Trigger1 = AnimElem = 3
X = 3.7
Y = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 641 && AnimElemNo(0) = [3,4]
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 640
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;BECJ2C
[Statedef 641]
Type    = A
MoveType= A
Physics = A

[State ]
Type = VarSet
Trigger1 = Time = 0 || Anim = 645
V = 55
Value = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 640
Trigger1 = AnimElem = 4
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Anim = 640
Trigger1 = AnimElem = 4
Anim = 10700
ID = 10700
PosType = P1
Pos = 33,-43
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = VarSet
Trigger1 = MoveContact || MoveReversed
V = 55
Value = 1
IgnoreHitPause = 1

[State ]
Type = ChangeAnim
Trigger1 = Var(55) = 1
Trigger1 = Anim = 640
Value = 645

[State ]
Type = StateTypeSet
Trigger1 = Anim = 645
MoveType = I

[State ]
Type = PlaySnd
Trigger1 = Anim = 640
Trigger1 = AnimElem = 3
Value = s40, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 640
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 640
Trigger1 = AnimElem = 3
Value = s621, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VelSet
Trigger1 = Anim = 640
Trigger1 = AnimElem = 4, <= 0
X = 0
Y = 0

[State ]
Type = VelAdd
Trigger1 = Anim = 640
Trigger1 = AnimElem = 4, = [1,8]
X = 0.2
Y = -0.2

[State ]
Type = VelSet
Trigger1 = Anim = 640
Trigger1 = AnimElem = 5
X = 5.65 + Cond(Var(57)/10%10!=1,0.75,0)
Y = 6.42 + Cond(Var(57)/10%10!=1,1.3,0)

[State ]
Type = VelAdd
Trigger1 = Anim = 642
Trigger1 = AnimElem = 5, > 0
Y = .6

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(57)/10%10 = 1
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(57)/10%10 != 1
Trigger1 = MoveHit = 1 && FVar(1) > 0.80
FV = 1
Value = 0.80
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 = 1
Trigger1 = AnimElemNo(0) = [5,6]
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 640
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*70), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*70)
GivePower = Floor(FVar(31)*70), Floor(0.5*FVar(31)*70)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(57)/10%10 != 1
Trigger1 = AnimElemNo(0) = [5,6]
Attr = A, NA
Damage = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = HA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 640
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;FJ2C
[Statedef 642]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 642
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || Anim = 645
V = 55
Value = 0

[State ]
Type = VarSet
Trigger1 = MoveContact || MoveReversed
V = 55
Value = 1
IgnoreHitPause = 1

[State ]
Type = ChangeAnim
Trigger1 = Var(55) = 1
Trigger1 = Anim = 642
Value = 645

[State ]
Type = StateTypeSet
Trigger1 = Anim = 645
MoveType = I

[State ]
Type = PlaySnd
Trigger1 = Anim = 642
Trigger1 = AnimElem = 3
Value = s40, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 642
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Random%2= 0
Trigger1 = Anim = 642
Trigger1 = AnimElem = 3
Value = s621, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VelSet
Trigger1 = Time <= 13
X = 0
Y = 0

[State ]
Type = VelSet
Trigger1 = Anim = 642
Trigger1 = AnimElem = 4
X = 3.7
Y = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 642 && AnimElemNo(0) = [4,5]
Attr = A, NA
Damage = Ceil(FVar(0)*(60-Var(4)%2))
HitFlag = MAFD
GuardFlag = MA
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
AnimType = Hard
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
AirGuard.CtrlTime = 8
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 640
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

;---------------------------------------------------------------------------
;投げ・発動
[Statedef 800]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 800
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimTime = 0
V = 54
Value = 0

[State ]
Type = VelSet
TriggerAll = Time = 0
Trigger1 = PrevStateNo != [100,101]
X = 0
Y = 0

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 55
Value = Facing

[State ]
Type = VarSet
TriggerAll = Time = 2
Trigger1 = P2MoveType = A
Trigger2 = (P2StateNo != [100,104]) && P2MoveType != H && EnemyNear(Var(3)),Ctrl = 0
V = 54
Value = -1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = M-
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1Facing = Cond(Var(59)=0&&Command="holdback",-1,Cond(Var(59)!=0,Cond(Helper(25000),FVar(9)<Helper(25000),FVar(8),1,-1)*Facing,1))
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = P2StateNo != [150,159]
Trigger1 = P2BodyDist X = [-32,32]
Trigger1 = Time = 2
Attr = S, NT
HitFlag = MFD
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1Facing = Cond(Var(59)=0&&Command="holdback",-1,Cond(Var(59)!=0,Cond(Helper(25000),FVar(9)<Helper(25000),FVar(8),1,-1)*Facing,1))
P2Facing = 1
P1StateNo = 810
P2StateNo = 811
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s800, 0
Channel = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ・投げている自分
[Statedef 810]
Type    = S
MoveType= A
Physics = S
Anim = 810+Cond(Var(57)/10%10=4,1,0)

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarSet
Trigger1 = Time < 9
Trigger1 = NumTarget
Trigger1 = Target,StateNo != [811,812]
Trigger2 = Time = 9
V = 54
Value = 1-(Time=9)

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 9
FV = 39
Value = Cond(Target,Const(Size.Head.Pos.Y)>-90,-Target,Const(Size.Head.Pos.Y)-60,30)*(Time=0)

[State ]
Type = Explod
Trigger1 = Var(0)/10%10 = 0
Trigger1 = Var(54) = -1
Trigger1 = Time = 1
Anim = 21001
ID = 21000
PosType = Left
Pos = Const240P((TeamSide=2)*192), Const240P(114)
Scale = Const480P(1),Const480P(1)
RemapPal = 21000,1
BindTime = -1
Ownpal = 1
SprPriority = 6
SuperMoveTime = -1
PauseMoveTime = -1

[State ]
Type = Explod
Trigger1 = Var(0)/10%10 = 0
Trigger1 = Var(54) = -1
Trigger1 = Time = 1
Anim = 21002
ID = 21000
PosType = Left
Pos = Const240P((TeamSide=2)*192), Const240P(114)
Scale = Const480P(1),Const480P(1)
BindTime = -1
Ownpal = 1
SprPriority = 6
SuperMoveTime = -1
PauseMoveTime = -1

[State ]
Type = Explod
Trigger1 = Var(0)/10%10 = 0
Trigger1 = Var(54) = -1
Trigger1 = Time = 1
Anim = 21005
ID = 21000
PosType = Left
Pos = Const240P((TeamSide=2)*192), Const240P(114)
Scale = Const480P(1),Const480P(1)
BindTime = -1
Ownpal = 1
SprPriority = 6
SuperMoveTime = -1
PauseMoveTime = -1

[State ]
Type = Helper
Trigger1 = Var(0)%10 = 0
Trigger1 = Var(54) = -1
Trigger1 = Time = 1
StateNo = 15100
ID = 15101
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Ownpal = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s10, 2+(Anim=811)*4
Channel = 4

[State ]
Type = EnvShake
Trigger1 = AnimElem = 8
Time = 12+(Anim=811)*18
Freq = 90
Ampl = 4+(Anim=811)

[State ]
Type = Helper
Trigger1 = AnimElem = 8
StateNo = 16000
ID = 16004
PosType = P1
Pos = 33,-75
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 8
Anim = 815
ID = 815
PosType = P1
Pos = -2,-5
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5
Persistent = 0
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Pause
Trigger1 = Anim = 811
Trigger1 = AnimElem = 8
Time = 30
EndCmdBufTime = 30
PauseBG = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 2

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = AnimElem = 2
Value = s210+Var(1)*600, 0
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [0,1]
Trigger1 = Anim = 811
Trigger1 = AnimElem = 10
Value = s5000, 2+Var(1)
Channel = 1

[State ]
Type = Explod
Trigger1 = Anim = 811
Trigger1 = AnimElem = 8
Anim = 812
ID = 812
PosType = P1
Ownpal = 1
SprPriority = 3
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Anim = 811
Trigger1 = AnimElem = 8
Anim = 812
ID = 812
Postype = P1
Pos = 12,0
Vel = -0.5,0
Ownpal = 1
SprPriority = 3
RemoveTime = 24
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Anim = 811
Trigger1 = AnimElem = 8
Anim = 813
ID = 813
PosType = P1
Ownpal = 1
SprPriority = 4
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = Anim = 811
Trigger1 = AnimElem = 8
Anim = 813
ID = 813
Postype = P1
Pos = -12,0
Vel = 0.5,0
Ownpal = 1
SprPriority = 4
RemoveTime = 24
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = TargetBind
Trigger1 = AnimElem = 1, = [0,1]
Pos = 28, 0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 2, = [0,3]
Pos = 31, -33+FVar(39)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 3, = [0,3]
Pos = 31, -36+FVar(39)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 4, = [0,3]
Pos = 33, -34+FVar(39)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 5
Pos = 36, -33+FVar(39)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 6
Pos = 34, -32+FVar(39)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 7
Pos = 33, -32+FVar(39)

[State ]
Type = Width
Trigger1 = AnimElem = 8, <= 0
Edge = 36,0

[State ]
Type = Width
Trigger1 = AnimElem = 8, > 0
Trigger1 = AnimElem = 9, < 0
Edge = 39,0

[State ]
Type = TargetBind
Trigger1 = AnimElem = 8
Pos = 30, -15

[State ]
Type = TargetLifeAdd
Trigger1 = Anim = [810,811]
Trigger1 = AnimElem = 8
Value = -Ceil(FVar(0)*(Cond(Anim=810,100,250)-Var(4)%2)*Const(Data.Attack)*0.01)

[State ]
Type = TargetState
Trigger1 = Anim = 810 && Time < 39
Value = Cond(Time=38,812,811)

[State ]
Type = TargetState
Trigger1 = Anim = 811 && Time < 55
Value = Cond(Time=54,812,811)

[State ]
Type = VelSet
Trigger1 = Anim = 811
Trigger1 = Time = 58
X = -1
Y = -7.5

[State ]
Type = VelSet
Trigger1 = Anim = 811
Trigger1 = Time = 84
X = 0

[State ]
Type = VelAdd
Trigger1 = Anim = 811
Trigger1 = Time >= 59
Y = .6

[State ]
Type = StateTypeSet
Trigger1 = Anim = 811
Trigger1 = Time = 58
StateType = A
MoveType = H
Physics = N

[State ]
Type = HitFallSet
Trigger1 = Anim = 811
Trigger1 = Time = 58
Value = 1

[State ]
Type = ChangeState
Value = 860
Trigger1 = Var(59) <= 0
Trigger1 = (Var(13) = [1-(Var(57)%10=4),5]) || Var(57)%10 = 2 && FVar(29) = 2000
Trigger1 = Var(46) = 0
Trigger1 = Alive
Trigger1 = Anim = 811 && AnimElem = 11, > 0
Trigger1 = Command = "abc" || Command = "x"

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = Anim = 810
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

[State ]
Type = ChangeState
Trigger1 = Anim = 811
Trigger1 = Time = 84
Value = 5100

[State ]
Type = TargetBind
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = EnemyNear(Var(3)),Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Pos = 30, 0

[State ]
Type = Turn
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = EnemyNear(Var(3)),Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Trigger1 = Facing != Var(55)

[State ]
Type = TargetState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = EnemyNear(Var(3)),Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Value = 816

[State ]
Type = ChangeState
Trigger1 = Var(54) = 0
Trigger1 = Time = [1,7]
Trigger1 = EnemyNear(Var(3)),Command = "holdfwd" || EnemyNear(Var(3)),Command = "holdback"
Trigger1 = EnemyNear(Var(3)),Command = "x" || EnemyNear(Var(3)),Command = "a" && EnemyNear(Var(3)),Command = "z"
Value = 815

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 811]
Type    = S
MoveType= H
Physics = N
Anim = 5010
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = SelfState
Trigger1 = Time > 9 && P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
[Statedef 812]
Type    = A
MoveType= H
Physics = N
Anim = 5030
VelSet = -1,-8.8

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = ChangeAnim
Trigger1 = (Anim = [5030,5035]) && AnimTime = 0
Value = 5035+(Anim=5035||!SelfAnimExist(5035))*15

[State ]
Type = VelAdd
Trigger1 = 1
y = .6

[State ]
Type = HitFallSet
Trigger1 = Time = 30
Value = 1

[State ]
Type = SelfState
Trigger1 = Time = 30
Value = 5100

;---------------------------------------------------------------------------
;投げ抜け
[Statedef 815]
MoveType = H
Anim     = 5310
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarSet
Trigger1 = Var(0)/10000%10 = 0
V = 36
Value = 100

[State ]
Type = Width
Trigger1 = 1
Edge = 64,0

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10815
ID = 10815
Postype = P2
Pos = 15*EnemyNear(Var(3)),Facing*Facing,-55
Scale = 0.5,0.5
Facing = -1
Ownpal = 1
SprPriority = 4

[State ]
Type = EnvShake
Trigger1 = Time = 0
Time = 6
Freq = 90
Ampl = 3

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s815, 0

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s5310, 1+Random%2
Channel = 1

[State ]
Type = PosAdd
Trigger1 = Time < 15
X = -15+(Time>0)*11+(Time>1)+(Time>8)+(Time>11)

[State ]
Type = ChangeState
Trigger1 = Time = 22
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;投げ抜け・相手
[Statedef 816]
MoveType = H
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = Turn
Trigger1 = Time = 0
Trigger1 = P2Dist X < 0

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = Width
Trigger1 = 1
Edge = 64,0

[State ]
Type = PosAdd
Trigger1 = Time = [1,14]
X = -4+(Time>1)+(Time>8)+(Time>11)

[State ]
Type = PlaySnd
Trigger1 = SelfAnimExist(5310) && (AuthorName = "H" || AuthorName = "YoungKirei & Take.K") && Time = 0
Value = s5310, 1+Random%3
Channel = 1

[State ]
Type = ChangeAnim
Trigger1 = SelfAnimExist(5310) && (AuthorName = "H" || AuthorName = "YoungKirei & Take.K") && Time = 0
Value = 5310

[State ]
Type = ChangeAnim
Trigger1 = Anim != 5310 && Time = 0
Trigger2 = Anim = 5002 && AnimTime = 0
Value = Cond(Anim!=5310&&Time=0,5002,5007)

[State ]
Type = SelfState
Trigger1 = Time = 22
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;空中投げ
[Statedef 820]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
Anim = 820
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarSet
Trigger1 = Time = 0 || Time = 3
Trigger2 = Time = 1 && P2StateType = A
Trigger2 = P2MoveType != H || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
V = 54
Value = (Time=1)

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 8
Value = 0

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 != 4
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = AF
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1Facing = Cond(Var(59)=0&&Command="holdfwd",-1,Cond(Var(59)!=0,Cond(Helper(25000),FVar(9)<Helper(25000),FVar(8),1,-1)*Facing,1))
P2Facing = 1
P1StateNo = 830+Var(54)*10
P2StateNo = 831
NumHits = 0
Fall = 1
Fall.Recover = Cond(Var(54)=0,1,0)
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
TriggerAll = Var(57)/10%10 = 4
Trigger1 = Var(50) = 1
Trigger1 = (P2StateNo != [150,159]) || P2StateNo = 155 && EnemyNear(Var(3)),Ctrl
Trigger1 = P2BodyDist X = [-40,40]
Trigger1 = Time = 1
Attr = A, NT
HitFlag = HAF
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1Facing = Cond(Var(59)=0&&Command="holdfwd",-1,Cond(Var(59)!=0,Cond(Helper(25000),FVar(9)<Helper(25000),FVar(8),1,-1)*Facing,1))
P2Facing = 1
P1StateNo = 830+Var(54)*10
P2StateNo = 831
NumHits = 0
Fall = 1
Fall.Recover = Cond(Var(54)=0,1,0)
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s820, 0
Channel = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;空中投げ
[Statedef 830]
Type    = A
MoveType= A
Physics = N
Anim = 830
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 9

[State ]
Type = ChangeAnim
Trigger1 = Anim = 830
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 831

[State ]
Type = VelSet
Trigger1 = Anim = 830 && AnimElem = 3
X = 0
Y = 0.55

[State ]
Type = VelSet
Trigger1 = Anim = 831 && AnimElem = 2
X = 2
Y = -6.001

[State ]
Type = VelAdd
Trigger1 = Anim = 830 && Time >= 14
Trigger2 = Anim = 831 && AnimElem = 2, > 0
Y = .6

[State ]
Type = Helper
Trigger1 = Anim = 831 && AnimElem = 1
StateNo = 16000
ID = 16004
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = Anim = 831 && AnimElem = 1
Value = s10, 5
Channel = 4

[State ]
Type = Pause
Trigger1 = Anim = 831 && AnimElem = 1
Time = 6
EndCmdBufTime = 6
PauseBG = 0

[State ]
Type = VarRandom
Trigger1 = Anim = 830 && AnimElem = 2
V = 1
Range = 1

[State ]
Type = PlaySnd
Trigger1 = Anim = 830 && AnimElem = 2
Value = s830, Var(1)
Channel = 1

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 1, = [0,7]
Pos = 30, -81

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 2, = [0,2]
Pos = 36, -82

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 3, = [0,2]
Pos = 38, -60

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 4, = [0,2]
Pos = 16, -7

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 5, >= 0
Pos = 12, -3

[State ]
Type = Width
Trigger1 = Anim = 830 && AnimElem = 1, = [0,7]
Edge = 30,0

[State ]
Type = Width
Trigger1 = Anim = 831 && AnimElem = 1, = [0,2]
Edge = 8,0

[State ]
Type = TargetBind
Trigger1 = Anim = 831 && AnimElem = 1
Pos = 8, 0

[State ]
Type = TargetLifeAdd
Trigger1 = Anim = 831 && AnimElem = 1
Value = -Ceil(FVar(0)*(120-Var(4)%2)*Const(Data.Attack)*0.01)

[State ]
Type = HitAdd
Trigger1 = Anim = 831 && AnimElem = 1
Value = 1

[State ]
Type = Null
Trigger1 = Anim = 831 && AnimElem = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1

[State ]
Type = VelSet
Trigger1 = Anim = 831 && AnimElem = 1
X = 0
Y = 0

[State ]
Type = PosSet
Trigger1 = Anim = 831 && AnimElem = 1
Y = 0

[State ]
Type = TargetState
Trigger1 = Anim = 831 && AnimElem = 1
Value = 832

[State ]
Type = CtrlSet
TriggerAll = Var(57)/10%10 = 4
Trigger1 = Anim = 831 && AnimElem = 5
Value = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = Anim = 831
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 831]
Type    = S
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State ]
Type = Width
Trigger1 = 1
Value = -99,-99

[State ]
Type = ScreenBound
Trigger1 = 1
Value = 1
MoveCamera = 0,0

[State ]
Type = ChangeAnim2
Trigger1 = Time = 0
Value = 832

[State ]
Type = AngleDraw
Trigger1 = Time >= 8

[State ]
Type = AngleSet
Trigger1 = Time = 8
Value = 36

[State ]
Type = AngleSet
Trigger1 = Time = 11
Value = 108

[State ]
Type = AngleSet
Trigger1 = Time = 14
Value = 180

[State ]
Type = SelfState
Trigger1 = Time >= 60
Trigger1 = P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;投げ・相手の空中の状態
[Statedef 832]
Type    = A
MoveType= H
Physics = N
Anim = 5030

[State ]
Type = AngleSet
Trigger1 = 1
Value = 0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 1.4
Y = -9

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .6

[State ]
Type = ChangeAnim
Trigger1 = (Anim = [5030,5035]) && AnimTime = 0
Value = 5035+(Anim=5035||!SelfAnimExist(5035))*15

[State ]
Type = HitFallSet
Trigger1 = Time >= 26
Value = 1 

[State ]
Type = SelfState
Trigger1 = Alive && CanRecover
Trigger1 = Time >= 27
Trigger1 = Command != "holddown" && (Command != "holdup" && (Command = "holdfwd" || Command = "holdback")) || Command != "holdfwd" && Command != "holdback" && Command = "holdup"
Value = 5200

[State ]
Type = SelfState
Trigger1 = Time = 30
Value = 5100 

;---------------------------------------------------------------------------
;生空中投げ
[Statedef 840]
Type    = A
MoveType= A
Physics = N
Anim = 830
VelSet = 0,0

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = ChangeAnim
Trigger1 = Anim = 830
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 841

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 54
Value = 0

[State ]
Type = Explod
Trigger1 = Anim = 830 && AnimElem = 1, = 1
ID = 10840
PosType = P1
Pos = 30,-79
Scale = 0.5,0.5
Anim = 10840
Ownpal = 1
SprPriority = 5

[State ]
Type = VelSet
Trigger1 = Anim = 830 && AnimElem = 3
X = 0
Y = 0.55

[State ]
Type = VelSet
Trigger1 = Anim = 841 && AnimElem = 2
X = 1.95
Y = -5.701

[State ]
Type = VelAdd
Trigger1 = Anim = 830 && Time >= 14
Trigger2 = Anim = 841 && AnimElem = 2, > 0
Y = .6

[State ]
Type = Helper
Trigger1 = Anim = 841 && AnimElem = 1
StateNo = 16000
ID = 16004
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = PlaySnd
Trigger1 = Anim = 841 && AnimElem = 1
Value = s10, 5
Channel = 4

[State ]
Type = VarRandom
Trigger1 = Anim = 830 && AnimElem = 2
V = 1
Range = 1

[State ]
Type = PlaySnd
Trigger1 = Anim = 830 && AnimElem = 2
Value = s905, Var(1)
Channel = 1

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 1, = [0,7]
Pos = 30, -81

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 2, = [0,2]
Pos = 36, -82

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 3, = [0,2]
Pos = 38, -60

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 4, = [0,2]
Pos = 16, -7

[State ]
Type = TargetBind
Trigger1 = Anim = 830 && AnimElem = 5, >= 0
Pos = 12, -3

[State ]
Type = Width
Trigger1 = Anim = 830 && AnimElem = 1, = [0,7]
Edge = 30,0

[State ]
Type = Width
Trigger1 = Anim = 841 && AnimElem = 1, = [0,2]
Edge = 8,0

[State ]
Type = TargetBind
Trigger1 = Anim = 841 && AnimElem = 1
Pos = 17, -16

[State ]
Type = TargetLifeAdd
Trigger1 = Anim = 841 && AnimElem = 1
Value = -Ceil(FVar(0)*(160-Var(4)%2)*Const(Data.Attack)*0.01)

[State ]
Type = HitAdd
Trigger1 = Anim = 841 && AnimElem = 1
Value = 1

[State ]
Type = Null
Trigger1 = Anim = 841 && AnimElem = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1

[State ]
Type = VarSet
Trigger1 = Anim = 841 && AnimElem = 1 && FVar(1) > 0.30
FV = 1
Value = 0.30

[State ]
Type = VelSet
Trigger1 = Anim = 841 && AnimElem = 1
X = 0
Y = 0

[State ]
Type = PosSet
Trigger1 = Anim = 841 && AnimElem = 1
Y = 0

[State ]
Type = TargetState
Trigger1 = Anim = 841 && AnimElem = 1
Value = 842

[State ]
Type = CtrlSet
Trigger1 = Anim = 841 && AnimElem = 2
Value = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = Anim = 841
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52
Ctrl = 0

;---------------------------------------------------------------------------
;投げ・投げられている相手
[Statedef 842]
Type    = A
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = AngleSet
Trigger1 = 1
Value = 0

[State ]
Type = HitFallSet
Trigger1 = 1
Value = 1

[State ]
Type = ChangeAnim
Trigger1 = Time = 0
Value = Cond((AuthorName="H"||AuthorName="YoungKirei & Take.K")&&SelfAnimExist(5102),5102,5030)

[State ]
Type = ChangeAnim
Trigger1 = (Anim = [5030,5035]) && AnimTime = 0
Value = 5035+(Anim=5035||!SelfAnimExist(5035))*15

[State ]
Type = ChangeAnim
Trigger1 = AuthorName = "H" || AuthorName = "YoungKirei & Take.K"
Trigger1 = SelfAnimExist(5161) && Anim = 5102
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 5161

[State ]
Type = VelSet
Trigger1 = Time = 0
X = 0
Y = -9.085

[State ]
Type = VelAdd
Trigger1 = Time > 0
Y = .6

[State ]
Type = SelfState
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 5100

;---------------------------------------------------------------------------
; C失礼しますA
[Statedef 1000]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 13
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 14
Anim = 1005
ID = 1005
PosType = P1
Pos = 65,-46
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 14
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=14),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, SA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(65-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1000
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [14,15]
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(65-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1001
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E失礼しますA
[Statedef 1010]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1000
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
Trigger1 = Time = [0,10]
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 13
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 14
Anim = 1005
ID = 1005
PosType = P1
Pos = 65,-46
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.01
Trigger1 = AnimElem = 14, > 0
FV = 1
Value = 0.90*FVar(1)
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 14
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=14),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, SA
AnimType  = Medium
Damage    = Ceil(FVar(0)*(65-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 15
Ground.HitTime  = 15
Guard.SlideTime = 13
Guard.HitTime  = 13
Ground.Velocity = -5
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1000
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(22+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [14,15]
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(65-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 6,7+7*(Var(38)>0)+Var(41)
Guard.PauseTime = 6,7
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -1,-9*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1001
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*50), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*50)
GivePower = Floor(FVar(31)*50), Floor(0.5*FVar(31)*50)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; C失礼しますB
[Statedef 1050]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1050
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 1050
Trigger1 = Command != "B溜め"
Trigger1 = Time = [7,15]
Value = 1051

[State ]
Type = ChangeState
Trigger1 = Anim = 1050
Trigger1 = Time = 16
Value = 1051

[State ]
Type = Helper
Trigger1 = Time = 0
StateNo = 9500
ID = 9502

[State ]
Type = PosSet
Trigger1 = NumHelper(9502) > 0
Trigger1 = FVar(25) = 0 && Pos X != Helper(9502),Pos X
X = Helper(9502),Pos X

[State ]
Type = PlaySnd
TriggerAll = Anim = 1051
Trigger1 = AnimElem = 1
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
TriggerAll = Anim = 1051
Trigger1 = AnimElem = 7
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
TriggerAll = Anim = 1051
Trigger1 = AnimElem = 3
Trigger2 = AnimElem = 9
Anim = 1005
ID = 1005
PosType = P1
Pos = 54,-130
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1051
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [2,8]
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -4
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1050
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(37+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;BEC失礼しますB
[Statedef 1051]
Type    = S
MoveType= A
Physics = S

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 30,-99
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 9500
ID = 9502

[State ]
Type = PosSet
Trigger1 = NumHelper(9502) > 0
Trigger1 = FVar(25) = 0 && Pos X != Helper(9502),Pos X
X = Helper(9502),Pos X

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5, = 9
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 6
ID = 1055
PosType = P1
Pos = 54,-130
StateNo = 1055
Ownpal = 1

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 13
Anim = 1005
ID = 1005
PosType = P1
Pos = 54,-130
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,12]
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -4
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1050
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(37+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 17
MoveType = I

[State ]
Type = CtrlSet
Trigger1 = AnimElem = 17
Value = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; H失礼しますB
[Statedef 1060]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1060
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 9500
ID = 9502

[State ]
Type = PosSet
Trigger1 = NumHelper(9502) > 0
Trigger1 = FVar(25) = 0 && Pos X != Helper(9502),Pos X
X = Helper(9502),Pos X

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 13
Anim = 1005
ID = 1005
PosType = P1
Pos = 54,-130
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,12]
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -4
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1050
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(37+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; E失礼しますB
[Statedef 1070]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1070
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
Trigger1 = Time = [0,23]
Value = SAC
Time = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s30, 6
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 11
Value = s30, 6
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 7
Trigger2 = AnimElem = 13
Anim = 1005
ID = 1005
PosType = P1
Pos = 54,-130
Angle = Random%360
Ownpal = 1
SprPriority = 4

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 12
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=12),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [6,12]
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 8,9+9*(Var(38)>0)+Var(41)
Guard.PauseTime = 8,9
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -4
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1050
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(37+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; お玉は頑丈ですA
[Statedef 1100]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = Cond(Var(57)/100%10=2,1101,1100)
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = Anim = 1100
Trigger1 = AnimElem = 12, < 0
Trigger2 = Anim = 1101
Trigger2 = AnimElem = 11, < 1
Player = 2,0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = Cond(Anim=1100,6,6.28)

[State ]
Type = PosAdd
Trigger1 = Anim = 1100
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 13, < 0
X = 0.8

[State ]
Type = PosAdd
Trigger1 = Anim = 1101
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 11, <= 1
X = 1.1

[State ]
Type = PosAdd
Trigger1 = Anim = 1100
Trigger1 = AnimElem = 13, >= 0
Trigger1 = AnimElem = 14, <= 1
X = 0.6

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 4, = 2
Trigger3 = AnimElem = 4, = 8
Trigger4 = AnimElem = 4, = 14
Trigger5 = AnimElem = 4, = 20
Trigger6 = AnimElem = 4, = 24
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1200, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1105
PosType = P1
Pos = 20,0
Anim = 1105
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveTime = 22
RemoveOnGetHit = 1
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
Trigger2 = AnimElem = 10
ID = 1106
PosType = P1
Pos = 20,10
Random = 20,30
Scale = 0.5,0.5
Anim = 1106
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=6||AnimElem=7||AnimElem=8||AnimElem=9||AnimElem=10),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [5,10]
Attr = S, SA
Damage    = Ceil(FVar(0)*(32-Var(4)%2)),Ceil(FVar(0)/FVar(3)*4)
HitFlag = MAFD
GuardFlag = MA
PauseTime = 3,4+4*(Var(38)>0)+Var(41)
Guard.PauseTime = 3,4
HitSound   = s20,0
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1100
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(19+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*20), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*20)
GivePower = Floor(FVar(31)*20), Floor(0.5*FVar(31)*20)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Anim = 1101
Trigger1 = AnimTime = 0
Value = 1110

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "236a"
Trigger1 = Anim = 1100
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 11, < 0
Value = 1110

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "236b"
Trigger1 = Anim = 1100
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 11, < 0
Value = 1120

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; お玉は頑丈ですA追加
[Statedef 1110]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1110
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 4, < 0
Trigger2 = AnimElem = 5, >= 0
Trigger2 = AnimTime < 0
Player = 2,0

[State ]
Type = Width
Trigger1 = AnimElem = 4, = [0,1]
Player = 21,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1110, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = 9.5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,1]
X = 3.8

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [2,3]
X = 2.5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [4,5]
X = 1.5

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 1115
ID = 1115
Postype = P1
Pos = -10,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1110) > 0
Trigger1 = Target(1110),StateNo = 5020 || Target(1110),StateNo = 5080
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, SA
AnimType  = Hard
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(60-Var(4)%2))),Ceil(FVar(0)/FVar(3)*7)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,14
Guard.Velocity = -9.5
Air.Velocity = -10,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1110
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; お玉は頑丈ですB追加
[Statedef 1120]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1120
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 3, < 0
Player = 13,0

[State ]
Type = Width
Trigger1 = AnimElem = 3, >= 0
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1120, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = PrevStateNo = 1100
Trigger1 = AnimElem = 2, < 3
X = 0.8

[State ]
Type = PosAdd
Trigger1 = PrevStateNo = 1150
Trigger1 = AnimElem = 2, < 3
X = Cond(Var(57)/100%10=2,1.72,1.58)

[State ]
Type = PosAdd
Trigger1 = AnimElem = 3, = [0,1]
X = 19.5

[State ]
Type = Explod
Trigger1 = AnimElem = 3
Anim = 1125
ID = 1125
Postype = P1
Pos = 34,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.50
FV = 1
Value = 0.50
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 4
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(60-Var(4)%2)),Ceil(FVar(0)/FVar(3)*7)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 13
Ground.HitTime  = 13
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -6
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1120
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*40), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*40)
GivePower = Floor(FVar(31)*40), Floor(0.5*FVar(31)*40)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; お玉は頑丈ですB
[Statedef 1150]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = Cond(Var(57)/100%10=2,1151,1150)
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
TriggerAll = Anim = 1150
Trigger1 = AnimElem = 4, < 0
Trigger2 = AnimElem = 5, >= 0
Trigger2 = AnimElem = 14, <= 3
Player = 2,0

[State ]
Type = Width
TriggerAll = Anim = 1151
Trigger1 = AnimElem = 4, < 0
Trigger2 = AnimElem = 5, >= 0
Trigger2 = AnimElem = 14, < 1
Player = 2,0

[State ]
Type = Width
Trigger1 = AnimElem = 4, = [0,1]
Player = 12,0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = Cond(Anim=1150,9.5,9.8)

[State ]
Type = PosAdd
Trigger1 = Anim = 1150
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 14, <= 3
X = 1.58

[State ]
Type = PosAdd
Trigger1 = Anim = 1151
Trigger1 = AnimElem = 5, >= 0
Trigger1 = AnimElem = 14, <= 1
X = 1.72

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 4, = 2
Trigger3 = AnimElem = 4, = 8
Trigger4 = AnimElem = 4, = 14
Trigger5 = AnimElem = 4, = 20
Trigger6 = AnimElem = 4, = 24
Trigger7 = AnimElem = 4, = 26
Trigger8 = AnimElem = 4, = 32
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 3
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5
ID = 1105
PosType = P1
Pos = 20,0
Anim = 1105
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveTime = 33
RemoveOnGetHit = 1
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 5 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9
Trigger2 = AnimElem = 10 || AnimElem = 11 || AnimElem = 12 || AnimElem = 13
ID = 1106
PosType = P1
Pos = 20,10
Random = 20,30
Scale = 0.5,0.5
Anim = 1106
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6 || AnimElem = 7 || AnimElem = 8 || AnimElem = 9 || AnimElem = 10 || AnimElem = 11 || AnimElem = 12 || AnimElem = 13
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond((Time=0||AnimElem=6||AnimElem=7||AnimElem=8||AnimElem=9||AnimElem=10||AnimElem=11||AnimElem=12||AnimElem=13),0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [5,13]
Attr = S, SA
Damage    = Ceil(FVar(0)*(25-Var(4)%2)),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
PauseTime = 3,4+4*(Var(38)>0)+Var(41)
Guard.PauseTime = 3,4
HitSound   = s20,0
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -4
Air.Velocity = Cond(Var(50)=1,-2.5,-4),Cond(Var(50)=1,-7.2,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1100
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(19+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*15), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.5*FVar(31)*15)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Anim = 1151
Trigger1 = AnimTime = 0
Value = 1120

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "236a"
Trigger1 = Anim = 1150
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 14, < 0
Value = 1110

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = Command = "236b"
Trigger1 = Anim = 1150
Trigger1 = AnimElem = 5, > 0
Trigger1 = AnimElem = 14, < 0
Value = 1120

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 空中お玉は頑丈ですA
[Statedef 1200]
Type    = A
MoveType= A
Physics = N
Ctrl = 0
VelSet = 0,0
Anim = 1200
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 14, < 0
Trigger1 = Vel Y + Pos Y < 0
Player = 0,-3

[State ]
Type = VelSet
Trigger1 = AnimElem = 4, > 0
Trigger1 = AnimElem = 14, < 0
X = 2.325
Y = 2.1

[State ]
Type = VelSet
Trigger1 = AnimElem = 12
Y = 0

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 12
Physics = A

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 14
MoveType = I

[State ]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1205
Anim = 1205
PosType = P1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveTime = 16
RemoveOnGetHit = 1
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4, >= 0
Trigger1 = AnimElem = 12, < 0
ID = 1206
PosType = P1
Pos = 60,40
Random = 25,35
Scale = 0.5,0.5
Anim = 1206
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 4

[State ]
Type = Explod
Trigger1 = AnimElem = 4, >= 0
Trigger1 = AnimElem = 12, < 0
ID = 1206
PosType = P1
Pos = 60,40
Random = 25,35
Scale = 0.5,0.5
Anim = 1206
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 4, = 6
Trigger3 = AnimElem = 4, = 7
Trigger4 = AnimElem = 4, = 12
Trigger5 = AnimElem = 4, = 15
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time%2 = 0
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond(Time%2=0,0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [4,11]
Attr = A, SA
Damage    = Ceil(FVar(0)*(25-Var(4)%2)),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
PauseTime = 3,4+4*(Var(38)>0)+Var(41)
Guard.PauseTime = 3,4
HitSound   = s20,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1200
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*15), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.5*FVar(31)*15)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Var(57)/100%10 = 4
Trigger1 = AnimElem = 14
Value = 51
Ctrl = 1

[State ]
Type = ChangeState
Trigger1 = AnimElem = 12, < 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52

;---------------------------------------------------------------------------
; 空中お玉は頑丈ですB
[Statedef 1250]
Type    = A
MoveType= A
Physics = N
Ctrl = 0
VelSet = 0,0
Anim = 1250
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimElem = 18, < 0
Trigger1 = Vel Y + Pos Y < 0
Player = 0,-3

[State ]
Type = VelSet
Trigger1 = AnimElem = 4, > 0
Trigger1 = AnimElem = 16, < 0
X = 2.325
Y = 3.05

[State ]
Type = VelSet
Trigger1 = AnimElem = 16
Y = 0

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 16
Physics = A

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 18
MoveType = I

[State ]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1205
Anim = 1255
PosType = P1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveTime = 24
RemoveOnGetHit = 1
IgnoreHitPause = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 4, >= 0
Trigger1 = AnimElem = 16, < 0
ID = 1206
PosType = P1
Pos = 60,40
Random = 25,35
Scale = 0.5,0.5
Anim = 1206
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 2

[State ]
Type = Explod
Trigger1 = AnimElem = 4, >= 0
Trigger1 = AnimElem = 16, < 0
ID = 1206
PosType = P1
Pos = 60,40
Random = 25,35
Scale = 0.5,0.5
Anim = 1206
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 2

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Trigger2 = AnimElem = 4, = 2
Trigger3 = AnimElem = 4, = 6
Trigger4 = AnimElem = 4, = 10
Trigger5 = AnimElem = 4, = 12
Trigger6 = AnimElem = 4, = 14
Trigger7 = AnimElem = 4, = 18
Trigger8 = AnimElem = 4, = 22
Trigger9 = AnimElem = 4, = 24
Value = s30, 0
Channel = 4

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1100, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time%2 = 0
Trigger2 = MoveContact || MoveReversed
V = 54
Value = Cond(Time%2=0,0,1)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [4,15]
Attr = A, SA
Damage    = Ceil(FVar(0)*(25-Var(4)%2)),Ceil(FVar(0)/FVar(3)*3)
HitFlag = MAFD
GuardFlag = MA
PauseTime = 3,4+4*(Var(38)>0)+Var(41)
Guard.PauseTime = 3,4
HitSound   = s20,0
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 10
Ground.HitTime  = 10
AirGuard.CtrlTime = 8
Ground.Velocity = -5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
AirGuard.Velocity = -4,-1
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
YAccel = .6
ID = 1200
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(23+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*15), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*15)
GivePower = Floor(FVar(31)*15), Floor(0.5*FVar(31)*15)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = Var(57)/100%10 = 4
Trigger1 = AnimElem = 18
Value = 51
Ctrl = 1

[State ]
Type = ChangeState
Trigger1 = AnimElem = 16, < 0
Trigger1 = (Vel Y > 0) && (Vel Y + Pos Y >= 0)
Value = 52

;---------------------------------------------------------------------------
; 危ないですよA
[Statedef 1300]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = Cond(Var(57)/100%10=2,1301,Cond(Var(57)/100%10=4,1302,1300))
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 5,-6

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 7
V = 55
Value = 0

[State ]
Type = VarRandom
Trigger1 = Anim != 1301
Trigger1 = AnimElem = 7
Trigger2 = Anim = 1301
Trigger2 = AnimElem = 6
V = 1
Range = 2
IgnoreHitPause = 1

[State ]
Type = PlaySnd
TriggerAll = Var(1) = 0
Trigger1 = Anim != 1301
Trigger1 = AnimElem = 7
Trigger2 = Anim = 1301
Trigger2 = AnimElem = 6
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
TriggerAll = Var(1) = [1,2]
Trigger1 = Anim != 1301
Trigger1 = AnimElem = 7
Trigger2 = Anim = 1301
Trigger2 = AnimElem = 6
Value = s1300, Var(1)-1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim != 1301
Trigger1 = AnimElem = 8
Trigger2 = Anim = 1301
Trigger2 = AnimElem = 7
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
TriggerAll = Var(57)/100%10 != 2
Trigger1 = AnimElem = 4
V = 55
Range = 5

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdback"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 6

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command != "holdback"
Trigger1 = Command != "holdfwd"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 7

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdfwd"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 8

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdfwd"
Trigger1 = Command != "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 9

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [0,5]
Trigger1 = AnimElem = 4
ID = 1320+Var(55)*10
StateNo = 1320+Var(55)*10
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [6,9]
Trigger1 = AnimElem = 4
ID = 1340+(Var(55)-6)*10
StateNo = 1340+(Var(55)-6)*10
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 = 2
Trigger1 = AnimElem = 4
ID = 1320
StateNo = 1320
Ownpal = 1

[State ]
Type = ChangeAnim
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [6,9]
Trigger1 = AnimElem = 4
Value = Cond(Var(57)/100%10=2,1301,Cond(Var(57)/100%10=4,1302,1300))
Elem = 5

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 危ないですよB
[Statedef 1310]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = Cond(Var(57)/100%10=4,1311,1310)
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Width
Trigger1 = AnimTime < 0
Player = 5,-6

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6
V = 55
Value = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 7
V = 1
Range = 2
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = Var(1) = 0
Trigger1 = AnimElem = 7
Value = s240, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Var(1) = [1,2]
Trigger1 = AnimElem = 7
Value = s1300, Var(1)-1
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 8
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = VarRandom
TriggerAll = Var(57)/100%10 != 2
Trigger1 = AnimElem = 4
V = 55
Range = 5

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdback"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 6

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command != "holdback"
Trigger1 = Command != "holdfwd"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 7

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdfwd"
Trigger1 = Command = "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 8

[State ]
Type = VarSet
TriggerAll = Var(59) <= 0
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Command = "holdfwd"
Trigger1 = Command != "holddown"
Trigger1 = AnimElem = 4
V = 55
Value = 9

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [0,5]
Trigger1 = AnimElem = 4
ID = 1320+Var(55)*10
StateNo = 1320+Var(55)*10
Ownpal = 1

[State ]
Type = VarRandom
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [0,5]
Trigger1 = AnimElem = 4
V = 55
Range = 5

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [0,5]
Trigger1 = AnimElem = 4
ID = 1320+Var(55)*10
StateNo = 1320+Var(55)*10
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 6
Trigger1 = AnimElem = 4
ID = 1350
StateNo = 1350
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 6
Trigger1 = AnimElem = 4
ID = 1370
StateNo = 1370
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 7
Trigger1 = AnimElem = 4
ID = 1340
StateNo = 1340
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 7
Trigger1 = AnimElem = 4
ID = 1360
StateNo = 1360
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 8
Trigger1 = AnimElem = 4
ID = 1330
StateNo = 1330
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 8
Trigger1 = AnimElem = 4
ID = 1360
StateNo = 1360
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 9
Trigger1 = AnimElem = 4
ID = 1320
StateNo = 1320
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = 9
Trigger1 = AnimElem = 4
ID = 1370
StateNo = 1370
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 = 2
Trigger1 = AnimElem = 4
ID = 1350
StateNo = 1350
Ownpal = 1

[State ]
Type = Helper
TriggerAll = Var(57)/100%10 = 2
Trigger1 = AnimElem = 4
ID = 1370
StateNo = 1370
Ownpal = 1

[State ]
Type = ChangeAnim
TriggerAll = Var(57)/100%10 != 2
Trigger1 = Var(55) = [6,9]
Trigger1 = AnimElem = 4
Value = Cond(Var(57)/100%10=4,1311,1310)
Elem = 5

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; がんばりましたA
[Statedef 1400]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1400
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 1450
ID = 1450
PosType = P1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 12
ID = 1450
StateNo = 1450
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; がんばりましたB
[Statedef 1410]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1400
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VarRandom
Trigger1 = AnimElem = 2
V = 1
Range = 1
IgnoreHitPause = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s1400, Var(1)
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 1450
ID = 1450
PosType = P1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 12
ID = 1460
StateNo = 1460
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; がんばりましたC
[Statedef 1420]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1420
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1420, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1470+(Var(57)/100%10=4)*10
ID = 1470+(Var(57)/100%10=4)*10
PosType = P1
Ownpal = 1
SprPriority = 4
Persistent = 0
Shadow = 32,32,32
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 1470+(Var(57)/100%10=4)*10
StateNo = 1470+(Var(57)/100%10=4)*10
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; がんばりましたZ
[Statedef 1430]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1430
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1420, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1480
ID = 1480
PosType = P1
Ownpal = 1
SprPriority = 4
Persistent = 0
Shadow = 32,32,32
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 1480
StateNo = 1480
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 超がんばりました
[Statedef 1440]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1440
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 2
Value = s2400, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 1
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 2
Anim = 2450
ID = 2450
PosType = P1
Ownpal = 1
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 12
ID = 2450
StateNo = 2450
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = StateTypeSet
Trigger1 = AnimElem = 13
MoveType = I

[State ]
Type = CtrlSet
Trigger1 = AnimElem = 13
Value = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 天井に危険ですA
[Statedef 1500]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1500
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = Helper
Trigger1 = AnimElem = 1
StateNo = 9500
ID = 9503

[State ]
Type = PosSet
Trigger1 = NumHelper(9503) > 0
Trigger1 = FVar(25) = 0 && Pos X != Helper(9503),Pos X
X = Helper(9503),Pos X

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1500, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,3]
X = 1.95-(AnimElemTime(6)+1)*0.39

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 7
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s30,5
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1500
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 天井に危険ですB
[Statedef 1550]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1550
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 6
Value = s30, 1
Channel = 4
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1550, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 6, = [0,1]
X = 4.7

[State ]
Type = PosAdd
Trigger1 = AnimElem = 7, = [0,2]
X = 3

[State ]
Type = PosAdd
Trigger1 = AnimElem = 8, = [0,2]
X = 1.5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 8, = [3,5]
X = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.75
FV = 1
Value = 0.75
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = [7,9]
Attr = S, SA
AnimType  = Hard
Damage    = Ceil(FVar(0)*(100-Var(4)%2))
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,-1,-4),Cond(Var(50)=1,-9,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1500
Guard.Kill = 0
Air.Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(30+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; おかけくださいA
[Statedef 1600]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1600
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1420, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1650
ID = 1650
PosType = P1
Ownpal = 1
Shadow = 32,32,32
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 1650
PosType = P1
Pos = 48,0
StateNo = 1650
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; おかけくださいB
[Statedef 1610]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1610
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1610, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1660
ID = 1660
PosType = P1
Ownpal = 1
Shadow = 32,32,32
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 1660
PosType = P1
Pos = 50,0
StateNo = 1660
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; おかけくださいZ
[Statedef 1620]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1600
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 5
Value = s1420, 0
Channel = 1
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = AnimElem = 6
Anim = 1670
ID = 1670
PosType = P1
Ownpal = 1
Shadow = 32,32,32
SprPriority = 1
Persistent = 0
BindTime = -1
RemoveOnGetHit = 1

[State ]
Type = Helper
Trigger1 = AnimElem = 11
ID = 1670
PosType = P1
Pos = 50,0
StateNo = 1670
Ownpal = 1

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;洗脳探偵翡翠
[Statedef 1700]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1700
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
Trigger1 = Time = [0,3]
Value = , NT, ST, HT
Time = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = AnimElem = 2
Trigger1 = P2StateType != A
Attr = S, ST
HitFlag = M-
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1StateNo = 1701
P2StateNo = 1702
P2Facing = 1
ID = 5800
Fall.Recover = 1-(P2MoveType=A)
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
GetPower = 0
GivePower = Floor(FVar(31)*37), 0

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;洗脳探偵翡翠・投げている自分
[Statedef 1701]
Type    = S
MoveType= A
Physics = S
Anim = 1701

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s3100, 0

[State ]
Type = Helper
Trigger1 = AnimElem = 1
ID = 1705
StateNo = 1705
Ownpal = 1

[State ]
Type = Explod
Trigger1 = Time = [0,120]
ID = 1706+Cond(Facing=1,0,1)
PosType = P2
Pos = -20,Const(Size.Mid.Pos.Y)-5
Random = 40,90
Scale = 0.5,0.5
Anim = 1706+Cond(Facing=1,0,1)
Facing = -1
SprPriority = 5
Ownpal = 1
Persistent = 15

[State ]
Type = Explod
Trigger1 = Time = [15,120]
ID = 1707+Cond(Facing=1,0,-1)
PosType = P2
Pos = 20,Const(Size.Mid.Pos.Y)-5
Random = 40,90
Scale = 0.5,0.5
Anim = 1707+Cond(Facing=1,0,-1)
SprPriority = 5
Ownpal = 1
Persistent = 15

[State ]
Type = TargetBind
Trigger1 = AnimElem = 1, >= 0
Trigger1 = AnimElem = 10, < 0
Pos = 70, 0

[State ]
Type = Width
Trigger1 = 1
Edge = 70,0

[State ]
Type = HitAdd
Trigger1 = Time = [15,135]
Value = 1
Persistent = 15

[State ]
Type = PowerAdd
Trigger1 = Time = [0,135]
Value = 50
Persistent = 15

[State ]
Type = TargetPowerAdd
Trigger1 = Time = [0,135]
Value = -100
Persistent = 15

[State ]
Type = TargetState
Trigger1 = Time < 136
Value = Cond(Time=135,5800,1702)

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;洗脳探偵翡翠・投げられている相手
[Statedef 1702]
Type    = S
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State ]
Type = SelfState
Trigger1 = Time > 9 && P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
;空中洗脳探偵翡翠
[Statedef 1710]
Type    = A
MoveType= A
Physics = A
Ctrl = 0
VelSet = 0,0
Anim = 1710
SprPriority = 2

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = VelSet
Trigger1 = Time < 23
Y = 0

[State ]
Type = NotHitBy
Trigger1 = Time = [0,3]
Value = , NT, ST, HT
Time = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = P2MoveType != H || P2StateNo = [120,159]
Trigger1 = AnimElem = 2
Trigger1 = P2StateType = A
Attr = A, ST
HitFlag = A-
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
P1StateNo = 1711
P2StateNo = 1702
P2Facing = 1
ID = 5800
Fall.Recover = 1-(P2MoveType=A)
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
GetPower = 0
GivePower = Floor(FVar(31)*37), 0

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

;---------------------------------------------------------------------------
;洗脳探偵翡翠・投げている自分
[Statedef 1711]
Type    = A
MoveType= A
Physics = A
VelSet = 0,0
Anim = 1711

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VelSet
Trigger1 = Time < 164
Y = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s3100, 0

[State ]
Type = Helper
Trigger1 = AnimElem = 1
ID = 1705
StateNo = 1705
Ownpal = 1

[State ]
Type = Explod
Trigger1 = Time = [0,120]
ID = 1706+Cond(Facing=1,0,1)
PosType = P2
Pos = -20,Const(Size.Mid.Pos.Y)-5
Random = 40,90
Scale = 0.5,0.5
Anim = 1706+Cond(Facing=1,0,1)
Facing = -1
SprPriority = 5
Ownpal = 1
Persistent = 15

[State ]
Type = Explod
Trigger1 = Time = [15,120]
ID = 1707+Cond(Facing=1,0,-1)
PosType = P2
Pos = 20,Const(Size.Mid.Pos.Y)-5
Random = 40,90
Scale = 0.5,0.5
Anim = 1707+Cond(Facing=1,0,-1)
SprPriority = 5
Ownpal = 1
Persistent = 15

[State ]
Type = TargetBind
Trigger1 = AnimElem = 1
Pos = 70, 0

[State ]
Type = Width
Trigger1 = 1
Edge = 70,0

[State ]
Type = HitAdd
Trigger1 = Time = [15,135]
Value = 1
Persistent = 15

[State ]
Type = PowerAdd
Trigger1 = Time = [0,135]
Value = 50
Persistent = 15

[State ]
Type = TargetPowerAdd
Trigger1 = Time = [0,135]
Value = -100
Persistent = 15

[State ]
Type = TargetState
Trigger1 = Time < 136
Value = Cond(Time=135,5800,1702)

;---------------------------------------------------------------------------
;翡翠マグナムデコピン
[Statedef 1750]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1750
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = NotHitBy
TriggerAll = Var(57)/100%10 = 4
Trigger1 = Time = [0,3]
Value = , NT, ST, HT
Time = 1
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = AnimElem = 3
Trigger1 = P2StateType != A
Trigger1 = P2StateNo != [150,159]
Attr = S, ST
HitFlag = M
Priority = 1, Miss
HitSound = s10,0
SprPriority = 1
Air.HitTime = 163
P1StateNo = 1760
P2StateNo = 1761
P2Facing = 1
ID = 5600
Fall.Recover = 1-(P2MoveType=A)
Fall = 1
NumHits = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
GetPower = 0
GivePower = Floor(FVar(31)*37), 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 7
Value = s30, 0
Channel = 6

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;翡翠マグナムデコピン・投げている自分
[Statedef 1760]
Type    = S
MoveType= A
Physics = S
Anim = 1760

[State ]
Type = NotHitBy
Trigger1 = 1
Value = SAC
Time = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || AnimElem = 6
FV = 39
Value = Cond(Target,Const(Size.Head.Pos.Y)>-90,-Target,Const(Size.Head.Pos.Y)-60,30)*(Time=0)

[State ]
Type = VarSet
Trigger1 = Var(59) <= 0
Trigger1 = Time = [50,61]
Trigger1 = Command = "A溜め" || Command = "B溜め" || Command = "C溜め"
sysvar(3) = 2

[State ]
Type = VarRandom
Trigger1 = Time = 0
V = 1
Range = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 1
Value = s905+Var(1)*55, 1
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s280, 0
Channel = 1

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 0
Channel = 6

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s10, 5
Channel = 4

[State ]
Type = TargetBind
Trigger1 = AnimElem = 1, >= 0
Trigger1 = AnimElem = 4, < 0
Pos = 32, -20+FVar(39)

[State ]
Type = Width
Trigger1 = 1
Edge = 32,0

[State ]
Type = TargetLifeAdd
Trigger1 = AnimElem = 4
Value = -Ceil(FVar(0)*(50-Var(4)%2)*Const(Data.Attack)*0.01)

[State ]
Type = PowerAdd
Trigger1 = AnimElem = 4
Value = Ceil(FVar(30)*50)

[State ]
Type = TargetPowerAdd
Trigger1 = AnimElem = 4
Value = Floor(FVar(31)*50)

[State ]
Type = TargetBind
Trigger1 = AnimElem = 4, = 1
Pos = 32, -10

[State ]
Type = HitAdd
Trigger1 = AnimElem = 4
Value = 1

[State ]
Type = Null
Trigger1 = AnimElem = 4
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1

[State ]
Type = VarSet
Trigger1 = AnimElem = 4 && FVar(1) > 0.50
FV = 1
Value = 0.50

[State ]
Type = Helper
Trigger1 = AnimElem = 4
StateNo = 16000
ID = 16004+(Var(8)=31)*50
PosType = P1
Pos = 40,-80
Ownpal = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State ]
Type = Explod
Trigger1 = AnimElem = 4
ID = 1765
PosType = P1
Pos = 32,10
Scale = 0.5,0.5
Anim = 1765
Ownpal = 1
SprPriority = 5

[State ]
Type = TargetState
Trigger1 = Time < 52
Value = Cond(Time=51,5600,1761)

[State ]
Type = ChangeState
TriggerAll = Var(59) <= 0
Trigger1 = SysVar(3) = 2
Trigger1 = Time = 61
Value = 40

[State ]
Type = ChangeState
TriggerAll = Var(59) > 0
Trigger1 = SysVar(3) = 2
Trigger1 = Time = 61
Value = 39

[State ]
Type = AttackDist
Trigger1 = 1
Value = 0

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
;翡翠マグナムデコピン・投げられている相手
[Statedef 1761]
Type    = S
MoveType= H
Physics = N
VelSet = 0,0

[State ]
Type = HitOverRide
Trigger1 = 1
Attr = , NT, ST, HT
Time = 1

[State ]
Type = PlayerPush
Trigger1 = 1
Value = 0

[State ]
Type = HitFallSet
Trigger1 = 1
Value = 0

[State ]
Type = ChangeAnim
Trigger1 = 1
Value = 5010

[State ]
Type = SelfState
Trigger1 = Time > 9 && P2MoveType != A
Value = 5035

;---------------------------------------------------------------------------
; 翡翠流フライ揚げ
[Statedef 1800]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1800
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 1800
Trigger1 = Command != "A溜め"
Trigger1 = Time = [7,15]
Value = 1801

[State ]
Type = ChangeState
Trigger1 = Anim = 1800
Trigger1 = Time = 16
Value = 1801

[State ]
Type = Width
Trigger1 = Anim = 1800
Trigger2 = Anim = 1801
Trigger2 = AnimElem = 2, >= 0
Trigger2 = AnimTime < 0
Player = 2,0

[State ]
Type = Width
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 1, = [0,1]
Player = 21,0

[State ]
Type = PlaySnd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 1
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 1
Value = s1110, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 1, = [0,1]
X = 11.5

[State ]
Type = PosAdd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 2, = [0,1]
X = 3.8

[State ]
Type = PosAdd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 2, = [2,3]
X = 2.5

[State ]
Type = PosAdd
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 2, = [4,5]
X = 1.5

[State ]
Type = Explod
Trigger1 = Anim = 1801
Trigger1 = AnimElem = 1
Anim = 1115
ID = 1115
Postype = P1
Pos = -10,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(1800) > 0
Trigger1 = Target(1800),StateNo = 5020 || Target(1800),StateNo = 5080
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Anim = 1801
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 2
Attr = S, SA
AnimType  = Hard
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(100-Var(4)%2))),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,14
Guard.Velocity = -9.5
Air.Velocity = -10,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1800
Guard.Kill = 0
Fall = 1
Fall.Recover = 0
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BE翡翠流フライ揚げ
[Statedef 1801]
Type    = S
MoveType= A
Physics = S

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 30,-65
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Width
Trigger1 = AnimElem = 4, < 0
Trigger2 = AnimElem = 5, >= 0
Trigger2 = AnimTime < 0
Player = 2,0

[State ]
Type = Width
Trigger1 = AnimElem = 4, = [0,1]
Player = 21,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1110, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = 11.5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [0,1]
X = 3.8

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [2,3]
X = 2.5

[State ]
Type = PosAdd
Trigger1 = AnimElem = 5, = [4,5]
X = 1.5

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 1115
ID = 1115
Postype = P1
Pos = -10,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = VarAdd
Trigger1 = MoveHit = 1
V = 4
Value = 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Var(50) = 2 && MoveHit = 1 && FVar(1) > 0.01
FV = 1
Value = 0.65*FVar(1)
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Explod
Trigger1 = Var(50) = 2 && MoveHit = 1
ID = 10840
PosType = P2
Pos = 0,Const(Size.Mid.Pos.Y)
Anim = 10840
Ownpal = 1
SprPriority = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = Null
Trigger1 = Var(50) = 2
Trigger1 = NumTarget(5700) > 0
Trigger1 = Target(5700),StateNo = [5750,5751]
Trigger1 = Var(24):= 1 && Var(50):= 1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, SA
AnimType  = Hard
Damage    = Cond(Var(50)=1||Var(50)=2&&FVar(16)>0,Ceil(FVar(0)*(150-Var(4)%2)),Ceil(FVar(0)/FVar(5)*(150-Var(4)%2))),Ceil(FVar(0)/FVar(3)*18)
HitFlag = MAFD
GuardFlag = L
PauseTime = 10,Cond(Var(50)=1,11+11*(Var(38)>0)+Var(41),11)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = Low
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,14
Guard.Velocity = -9.5
Air.Velocity = 0,14
Down.Velocity = 0,14
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
P2StateNo = 5750
ID = 5700
P2Facing = 1
Guard.Kill = 0
Fall.Recover = 0
GetPower = Ceil(FVar(30)*150), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*150)
GivePower = Floor(FVar(31)*150), Floor(0.5*FVar(31)*150)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; 翡翠流卵返し
[Statedef 1850]
Type    = S
MoveType= A
Physics = S
Ctrl = 0
Anim = 1850
SprPriority = 2
Facep2 = 1

[State ]
Type = VarSet
Trigger1 = Time = 0
V = 2
Value = 0

[State ]
Type = ChangeAnim
TriggerAll = Var(59) <= 0
Trigger1 = Anim = 1850
Trigger1 = Command != "B溜め"
Trigger1 = Time = [7,15]
Value = 1851

[State ]
Type = ChangeState
Trigger1 = Anim = 1850
Trigger1 = Time = 16
Value = 1851

[State ]
Type = Width
Trigger1 = Anim = 1850
Player = 13,0

[State ]
Type = Width
Trigger1 = Anim = 1851
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = Anim = 1851
Trigger1 = AnimElem = 1
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = Anim = 1851
Trigger1 = AnimElem = 1
Value = s1120, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = Anim = 1851
Trigger1 = AnimElem = 1, = [0,1]
X = 19.5

[State ]
Type = Explod
Trigger1 = Anim = 1851
Trigger1 = AnimElem = 1
Anim = 1125
ID = 1125
Postype = P1
Pos = 34,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.70
FV = 1
Value = 0.70
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 2
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(80-Var(4)%2)),Ceil(FVar(0)/FVar(3)*10)
HitFlag = MAFD
GuardFlag = M
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1850
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(39+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*80), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*80)
GivePower = Floor(FVar(31)*80), Floor(0.5*FVar(31)*80)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1

;---------------------------------------------------------------------------
; BE翡翠流卵返し
[Statedef 1851]
Type    = S
MoveType= A
Physics = S

[State ]
Type = PlaySnd
Trigger1 = Time = 0
Value = s700, 0
Channel = 2

[State ]
Type = Explod
Trigger1 = Time = 0
Anim = 10700
ID = 10700
PosType = P1
Pos = 30,-56
Scale = 0.5,0.5
Ownpal = 1
SprPriority = 5

[State ]
Type = Width
Trigger1 = AnimElem = 4, < 0
Player = 13,0

[State ]
Type = Width
Trigger1 = AnimElem = 4, >= 0
Trigger1 = AnimTime < 0
Player = 2,0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s30, 2
Channel = 5
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PlaySnd
Trigger1 = AnimElem = 4
Value = s1120, 0
IgnoreHitPause = 1
Persistent = 0

[State ]
Type = PosAdd
Trigger1 = AnimElem = 4, = [0,1]
X = 19.5

[State ]
Type = Explod
Trigger1 = AnimElem = 4
Anim = 1125
ID = 1125
Postype = P1
Pos = 34,0
Scale = 0.5,0.5
Ownpal = 1
BindTime = -1
SprPriority = 5
RemoveOnGetHit = 1

[State ]
Type = Null
Trigger1 = MoveHit = 1
Trigger1 = Var(4):= Var(4)+1 && Var(5):= Var(5)+1
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = MoveHit = 1 && FVar(1) > 0.65
FV = 1
Value = 0.65
IgnoreHitPause = 1

[State ]
Type = VarSet
Trigger1 = Time = 0 || MoveContact || MoveReversed
V = 54
Value = 1-(Time=0)
IgnoreHitPause = 1

[State ]
Type = HitDef
TriggerAll = Var(25)/10%10 < 3
Trigger1 = Var(54) = 0 && AnimElemNo(0) = 5
Attr = S, SA
AnimType  = Up
Damage    = Ceil(FVar(0)*(100-Var(4)%2)),Ceil(FVar(0)/FVar(3)*12)
HitFlag = MAFD
GuardFlag = H
PauseTime = 10,11+11*(Var(38)>0)+Var(41)
Guard.PauseTime = 10,11
HitSound   = s10,2
GuardSound = s120,0
Ground.Type = High
Ground.SlideTime = 16
Ground.HitTime  = 16
Ground.Velocity = 0,-13*FVar(36)
Guard.Velocity = -9.5
Air.Velocity = Cond(Var(50)=1,0,-4),Cond(Var(50)=1,-13,-2)*FVar(36)
Down.Velocity = -4,-2*FVar(36)
Ground.CornerPush.VelOff = 0
Fall.XVelocity = 0
Fall.YVelocity = 0
Down.Bounce = 1
EnvShake.Time = 11
EnvShake.Ampl = 3
EnvShake.Freq = 90
YAccel = .6
ID = 1850
Guard.Kill = 0
Fall = 1
Fall.Recover = 1-(P2MoveType=A)
Fall.RecoverTime = Ceil(51+Var(41)-FVar(35))
GetPower = Ceil(FVar(30)*100), Ceil((0.85+(Var(43)>0)*0.03)*FVar(30)*100)
GivePower = Floor(FVar(31)*100), Floor(0.5*FVar(31)*100)

[State ]
Type = MoveHitReset
Trigger1 = MoveContact || MoveReversed
IgnoreHitPause = 1

[State ]
Type = ChangeState
Trigger1 = AnimTime = 0
Value = 0
Ctrl = 1
