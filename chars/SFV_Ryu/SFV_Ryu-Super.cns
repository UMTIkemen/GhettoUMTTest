;--------------------------------------------------------------------
;Lp Shinkuu Hadouken
[Statedef 7000]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7000, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7000, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7000, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7000, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7000, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7000, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7000, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7000, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7000, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7000, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7000, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7000, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7000, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7000, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7000, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7000, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7000, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7000, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7000, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7000, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7000, projectile]
type = helper
trigger1 = time = 126
id = 7000
stateno = 7010
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7000, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7000, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7000, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7000, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
;Lp Shinkuu Hadouken Projectile
;7011 1st collide
;7012 1st contact
;7013 2nd collide
;7014 2nd contact
;7015 3rd collide
;7016 3rd contact
;7017 4th collide
;7018 4th contact
;7019 5th collide
;7020 5th contact
;7021 6th collide
;7022 6th hit
;7023 6th block/reversed
[Statedef 7010]
type = A
movetype = A
physics = N
anim = 7010
ctrl = 0
juggle = 0
sprpriority = 3

[State 7010, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7010, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7010, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7010, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7010, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7010, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7010, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7010, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7010, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7010, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7010, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7010, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7010, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7011
ignorehitpause = 1

[State 7010, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7012

[State 7010, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7010, end]
type = destroyself
trigger1 = FrontEdgebodyDist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 1st collide
[Statedef 7011]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7011, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7011, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7011, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7011, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7011, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7011, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7011, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7011, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7011, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7011, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7011, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7011, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7011, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7013
ignorehitpause = 1

[State 7011, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7014

[State 7011, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7011, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 1st contact
[Statedef 7012]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7012, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7012, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7012, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7012, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7012, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7012, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7012, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7012, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7012, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7012, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7012, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7012, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7013
ignorehitpause = 1

[State 7012, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7014

[State 7012, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7012, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 2nd collide
[Statedef 7013]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7013, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7013, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7013, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7013, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7013, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7013, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7013, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7013, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7013, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7013, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7013, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7013, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7013, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7015
ignorehitpause = 1

[State 7013, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7016

[State 7013, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7013, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 2nd contact
[Statedef 7014]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7014, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7014, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7014, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7014, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7014, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7014, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7014, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7014, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7014, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7014, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7014, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7014, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7015
ignorehitpause = 1

[State 7014, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7016

[State 7014, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7014, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 3rd collide
[Statedef 7015]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7015, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7015, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7015, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7015, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7015, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7015, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7015, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7015, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7015, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7015, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7015, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7015, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7015, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7017
ignorehitpause = 1

[State 7015, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7018

[State 7015, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7015, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 3rd contact
[Statedef 7016]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7016, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7016, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7016, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7016, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7016, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7016, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7016, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7016, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7016, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7016, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7016, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7016, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7017
ignorehitpause = 1

[State 7016, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7018

[State 7016, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7016, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 4th collide
[Statedef 7017]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7017, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7017, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7017, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7017, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7017, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7017, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7017, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7017, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7017, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7017, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7017, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7017, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7017, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7019
ignorehitpause = 1

[State 7017, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7020

[State 7017, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7017, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 4th contact
[Statedef 7018]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7018, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7018, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7018, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7018, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7018, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7018, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7018, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7018, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7018, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7018, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7018, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7018, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7019
ignorehitpause = 1

[State 7018, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7020

[State 7018, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7018, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 5th collide
[Statedef 7019]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7019, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7019, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7019, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7019, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7019, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7019, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7019, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7019, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7019, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7019, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7019, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7019, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7019, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7021
ignorehitpause = 1

[State 7019, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7022

[State 7019, projectile block/reversed]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7023

[State 7019, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7019, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 5th contact
[Statedef 7020]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7020, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7020, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7020, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7020, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7020, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7020, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7020, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7020, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7020, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7020, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7020, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7020, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7021
ignorehitpause = 1

[State 7020, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7022

[State 7020, projectile block]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7023

[State 7020, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7020, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 6th collide
[Statedef 7021]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7021, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7021, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7021, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7021, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7021, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7021, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 6th hit
[Statedef 7022]
type = A
movetype = I
physics = N
anim = 7011
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7022, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7022, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7022, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7022, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7022, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Shinkuu Hadouken Projectile - 6th blocked/reversed
[Statedef 7023]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7023, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7023, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7023, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7023, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7023, destroy]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
;Lp Shinkuu Hadouken (Cancel)
[Statedef 7050]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7050, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7050, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7050, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7050, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7050, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7050, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7050, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7050, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7050, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7050, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7050, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7050, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7050, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7050, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7050, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7050, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7050, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7050, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7050, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7050, projectile]
type = helper
trigger1 = time = 126
id = 7050
stateno = 7060
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7050, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7050, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7050, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7050, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
;Lp Shinkuu Hadouken Projectile
;7011 1st collide
;7012 1st contact
;7013 2nd collide
;7014 2nd contact
;7015 3rd collide
;7016 3rd contact
;7017 4th collide
;7018 4th contact
;7019 5th collide
;7010 5th contact
;7011 6th collide
;7012 6th hit
;7013 6th block/reversed
[Statedef 7060]
type = A
movetype = A
physics = N
anim = 7060
ctrl = 0
juggle = 0
sprpriority = 3

[State 7060, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7060, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7060, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7060, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7060, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7060, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7060, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7060, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7060, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7060, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7060, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7060, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7060, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7011
ignorehitpause = 1

[State 7060, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7012

[State 7060, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7060, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken
[Statedef 7100]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7100, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7100, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7100, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7100, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7100, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7100, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7100, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7100, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7100, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7100, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7100, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7100, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7000, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7100, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7100, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7100, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7100, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7100, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7100, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7100, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7100, projectile]
type = helper
trigger1 = time = 126
id = 7100
stateno = 7110
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7100, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7100, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7100, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7100, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile
;7111 1st collide
;7112 1st contact
;7113 2nd collide
;7114 2nd contact
;7115 3rd collide
;7116 3rd contact
;7117 4th collide
;7118 4th contact
;7119 5th collide
;7120 5th contact
;7121 6th collide
;7122 6th hit
;7123 6th block/reversed
[Statedef 7110]
type = A
movetype = A
physics = N
anim = 7010
ctrl = 0
juggle = 0
sprpriority = 3

[State 7110, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7110, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7110, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7110, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7110, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7110, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7110, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7110, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7110, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7110, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7110, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7110, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7110, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7111
ignorehitpause = 1

[State 7110, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7112

[State 7110, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7110, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 1st collide
[Statedef 7111]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7111, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7111, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7111, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7111, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7111, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7111, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7111, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7111, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7111, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7111, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7111, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7111, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7111, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7113
ignorehitpause = 1

[State 7111, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7114

[State 7111, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7111, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 1st contact
[Statedef 7112]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7112, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7112, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7112, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7112, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7112, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7112, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7112, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7112, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7112, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7112, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7112, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7112, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7113
ignorehitpause = 1

[State 7112, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7114

[State 7112, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7112, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 2nd collide
[Statedef 7113]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7113, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7113, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7113, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7113, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7113, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7113, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7113, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7113, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7113, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7113, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7113, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7113, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7113, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7115
ignorehitpause = 1

[State 7113, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7116

[State 7113, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7113, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 2nd contact
[Statedef 7114]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7114, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7114, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7114, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7114, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7114, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7114, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7114, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7114, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7114, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7114, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7114, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7114, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7115
ignorehitpause = 1

[State 7114, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7116

[State 7114, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7114, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 3rd collide
[Statedef 7115]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7115, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7115, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7115, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7115, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7115, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7115, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7115, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7115, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7115, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7115, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7115, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7115, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7115, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7117
ignorehitpause = 1

[State 7115, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7118

[State 7115, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7115, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 3rd contact
[Statedef 7116]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7116, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7116, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7116, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7116, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7116, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7116, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7116, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7116, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7116, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7116, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7116, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7116, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7117
ignorehitpause = 1

[State 7116, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7118

[State 7116, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7116, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 4th collide
[Statedef 7117]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7117, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7117, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7117, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7117, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7117, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7117, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7117, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7117, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7117, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7117, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7117, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7117, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7117, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7119
ignorehitpause = 1

[State 7117, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7120

[State 7117, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7117, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 4th contact
[Statedef 7118]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7118, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7118, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7118, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7118, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7118, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7118, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7118, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7118, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7118, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7118, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7118, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7118, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7119
ignorehitpause = 1

[State 7118, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7120

[State 7118, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7118, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 5th collide
[Statedef 7119]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7119, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7119, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7119, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7119, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7119, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7119, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7119, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7119, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7119, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7119, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7119, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7119, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7119, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7121
ignorehitpause = 1

[State 7119, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7122

[State 7119, projectile block/reversed]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7123

[State 7119, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7119, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 5th contact
[Statedef 7120]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7120, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7120, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7120, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7120, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7120, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7020, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7120, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7120, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7120, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7120, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7120, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7120, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7121
ignorehitpause = 1

[State 7120, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7122

[State 7120, projectile block]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7123

[State 7120, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7120, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 6th collide
[Statedef 7121]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7121, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7121, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7121, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7121, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7121, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7121, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 6th hit
[Statedef 7122]
type = A
movetype = I
physics = N
anim = 7011
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7122, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7122, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7122, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7122, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7122, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile - 6th blocked/reversed
[Statedef 7123]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7123, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7123, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7123, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7123, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7123, destroy]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken (Cancel)
[Statedef 7150]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7150, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7150, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7150, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7150, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7150, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7150, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7150, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7150, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7150, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7150, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7150, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7150, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7150, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7150, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7150, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7150, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7150, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7150, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7150, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7150, projectile]
type = helper
trigger1 = time = 126
id = 7150
stateno = 7160
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7150, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7150, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7150, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7150, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Mp Shinkuu Hadouken Projectile (Cancel)
;7211 1st collide
;7212 1st contact
;7213 2nd collide
;7214 2nd contact
;7215 3rd collide
;7216 3rd contact
;7217 4th collide
;7218 4th contact
;7219 5th collide
;7210 5th contact
;7211 6th collide
;7212 6th hit
;7213 6th block/reversed
[Statedef 7160]
type = A
movetype = A
physics = N
anim = 7060
ctrl = 0
juggle = 0
sprpriority = 3

[State 7160, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7160, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7160, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7160, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7160, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7160, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7160, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7160, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7160, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7160, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7160, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7160, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7160, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7111
ignorehitpause = 1

[State 7160, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7112

[State 7160, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7160, end]
type = destroyself
trigger1 = frontedgebodydist <= -90


;--------------------------------------------------------------------
; Hp Shinkuu Hadouken
[Statedef 7200]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7200, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7200, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7200, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7200, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7200, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7200, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7200, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7200, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7200, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7200, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7200, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7200, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7200, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7200, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7200, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7200, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7200, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7200, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7200, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7200, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7200, projectile]
type = helper
trigger1 = time = 126
id = 7200
stateno = 7210
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7200, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7200, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7200, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7200, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile
;7211 1st collide
;7212 1st contact
;7213 2nd collide
;7214 2nd contact
;7215 3rd collide
;7216 3rd contact
;7217 4th collide
;7218 4th contact
;7219 5th collide
;7220 5th contact
;7221 6th collide
;7222 6th hit
;7223 6th block/reversed
[Statedef 7210]
type = A
movetype = A
physics = N
anim = 7010
ctrl = 0
juggle = 0
sprpriority = 3

[State 7210, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7210, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7210, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7210, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7210, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7210, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7210, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7210, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7210, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7210, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7210, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7210, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7210, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7211
ignorehitpause = 1

[State 7210, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7212

[State 7210, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7210, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 1st collide
[Statedef 7211]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7211, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7211, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7211, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7211, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7211, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7211, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7211, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7211, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7211, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7211, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7211, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7211, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7211, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7213
ignorehitpause = 1

[State 7211, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7214

[State 7211, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7211, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 1st contact
[Statedef 7212]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7212, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7212, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7212, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7212, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7212, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7212, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7212, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7212, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7212, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7212, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7212, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7212, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7213
ignorehitpause = 1

[State 7212, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7214

[State 7212, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7212, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 2nd collide
[Statedef 7213]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7213, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7213, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7213, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7213, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7213, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7213, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7213, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7213, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7213, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7213, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7213, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7213, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7213, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7215
ignorehitpause = 1

[State 7213, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7216

[State 7213, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7213, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 2nd contact
[Statedef 7214]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7214, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7214, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7214, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7214, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7214, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7214, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7214, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7214, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7214, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7214, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7214, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7214, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7215
ignorehitpause = 1

[State 7214, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7216

[State 7214, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7214, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 3rd collide
[Statedef 7215]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7215, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7215, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7215, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7215, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7215, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7215, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7215, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7215, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7215, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7215, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7215, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7215, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7215, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7217
ignorehitpause = 1

[State 7215, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7218

[State 7215, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7215, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 3rd contact
[Statedef 7216]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7216, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7216, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7216, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7216, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7216, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7216, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7216, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7216, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7216, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7216, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7216, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7216, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7217
ignorehitpause = 1

[State 7216, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7218

[State 7216, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7216, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 4th collide
[Statedef 7217]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7217, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7217, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7217, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7217, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7217, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7217, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7217, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7217, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7217, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7217, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7217, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7217, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7217, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7219
ignorehitpause = 1

[State 7217, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7220

[State 7217, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7217, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 4th contact
[Statedef 7218]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7218, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7218, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7218, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7218, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7218, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7218, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7218, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7218, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7218, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7218, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7218, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7218, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7219
ignorehitpause = 1

[State 7218, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7220

[State 7218, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7218, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 5th collide
[Statedef 7219]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7219, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7219, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7219, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7219, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7219, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7219, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7219, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7219, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7219, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7219, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7219, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7219, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7219, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7221
ignorehitpause = 1

[State 7219, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7222

[State 7219, projectile block/reversed]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7223

[State 7219, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7219, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 5th contact
[Statedef 7220]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7220, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7220, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7220, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7220, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7220, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7020, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7220, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7220, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7220, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7220, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7220, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 110, 110, ceil(220 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 17
sparkno = -1
guard.sparkno = -1
pausetime = 1, 8
guard.pausetime = 1, 5
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 16
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 16
guard.ctrltime = 16
ground.velocity = -7, -4.5
guard.velocity = -4.8
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(25 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7220, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7221
ignorehitpause = 1

[State 7220, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7222

[State 7220, projectile block]
type = changestate
trigger1 = moveguarded = 1 || movereversed = 1
value = 7223

[State 7220, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7220, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 6th collide
[Statedef 7221]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7221, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7221, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7221, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7221, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7221, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7221, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 6th hit
[Statedef 7222]
type = A
movetype = I
physics = N
anim = 7011
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7222, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7222, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7222, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7222, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7222, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile - 6th blocked/reversed
[Statedef 7223]
type = A
movetype = I
physics = N
anim = 7012
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7223, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7223, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7223, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7223, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7223, destroy]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken (Cancel)
[Statedef 7250]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7250, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7250, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7250, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7250, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7250, animation]
type = explod
trigger1 = time = 0
anim = 7001
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7250, animation]
type = explod
trigger1 = time = 18
anim = 7003
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7250, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7250, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7250, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7250, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7250, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7250, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7250, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7250, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7250, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7250, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7250, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7250, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 0
channel = 0

[State 7250, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7250, projectile]
type = helper
trigger1 = time = 126
id = 7250
stateno = 7260
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7250, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7250, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7250, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7250, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Hp Shinkuu Hadouken Projectile (Cancel)
;7211 1st collide
;7212 1st contact
;7213 2nd collide
;7214 2nd contact
;7215 3rd collide
;7216 3rd contact
;7217 4th collide
;7218 4th contact
;7219 5th collide
;7210 5th contact
;7211 6th collide
;7212 6th hit
;7213 6th block/reversed
[Statedef 7260]
type = A
movetype = A
physics = N
anim = 7060
ctrl = 0
juggle = 0
sprpriority = 3

[State 7260, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7260, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7260, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7260, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7260, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7260, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7260, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7260, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7260, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7260, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7260, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7260, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -9.5
guard.velocity = -7.2
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(6 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0

[State 7260, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7211
ignorehitpause = 1

[State 7260, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7212

[State 7260, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7260, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
;Lp Denjin Hadouken
[Statedef 7500]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7500, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7500, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7500, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7500, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7500, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7500, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7500, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7500, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7500, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7500, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7500, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7500, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7500, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7500, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7500, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7500, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7500, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7500, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7500, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7500, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7500, projectile]
type = helper
trigger1 = time = 126
id = 7500
stateno = 7510
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7500, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7500, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7500, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7500, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile
;7511 1st collide
;7512 1st contact
;7513 2nd collide
;7514 2nd contact
;7515 3rd collide
;7516 3rd contact
;7517 4th collide
;7518 4th contact
;7519 5th collide
;7520 5th contact
;7521 6th collide
;7522 6th contact
;7523 7th collide
;7524 7th hit
;7525 7th block
;7526 7th reversed
[Statedef 7510]
type = A
movetype = A
physics = N
anim = 7510
ctrl = 0
juggle = 0
sprpriority = 3

[State 7510, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7510, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7510, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7510, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7510, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7510, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7510, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7510, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7510, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7510, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7510, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7510, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7510, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7511
ignorehitpause = 1

[State 7510, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7512

[State 7510, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7510, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 1st collide
[Statedef 7511]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7511, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7511, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7511, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7511, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7511, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7511, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7511, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7511, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7511, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7511, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7511, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7511, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7511, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7513
ignorehitpause = 1

[State 7511, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7514

[State 7511, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7511, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 1st contact
[Statedef 7512]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7512, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7512, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7512, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7512, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7512, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7512, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7512, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7512, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7512, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7512, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7512, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7512, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7513
ignorehitpause = 1

[State 7512, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7514

[State 7512, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7512, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 2nd collide
[Statedef 7513]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7513, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7513, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7513, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7513, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7513, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7513, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7513, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7513, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7513, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7513, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7513, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7513, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7513, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7515
ignorehitpause = 1

[State 7513, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7516

[State 7513, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7513, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 2nd contact
[Statedef 7514]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7514, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7514, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7514, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7514, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7514, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7514, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7514, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7514, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7514, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7514, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7514, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7514, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7515
ignorehitpause = 1

[State 7514, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7516

[State 7514, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7514, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 3rd collide
[Statedef 7515]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7515, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7515, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7515, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7515, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7515, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7515, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7515, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7515, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7515, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7515, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7515, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7515, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7515, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7517
ignorehitpause = 1

[State 7515, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7518

[State 7515, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7515, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 3rd contact
[Statedef 7516]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7516, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7516, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7516, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7516, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7516, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7516, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7516, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7516, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7516, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7516, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7516, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7516, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7517
ignorehitpause = 1

[State 7516, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7518

[State 7516, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7516, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 4th collide
[Statedef 7517]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7517, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7517, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7517, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7517, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7517, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7517, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7517, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7517, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7517, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7517, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7517, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7517, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7517, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7519
ignorehitpause = 1

[State 7517, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7520

[State 7517, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7517, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denijn Hadouken Projectile - 4th contact
[Statedef 7518]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7518, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7518, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7518, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7518, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7518, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7518, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7518, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7518, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7518, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7518, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7518, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7518, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7519
ignorehitpause = 1

[State 7518, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7520

[State 7518, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7518, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 5th collide
[Statedef 7519]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7519, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7519, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7519, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7519, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7519, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7519, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7519, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7519, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7519, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7519, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7519, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7519, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7519, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7521
ignorehitpause = 1

[State 7519, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7522

[State 7519, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7519, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denijn Hadouken Projectile - 5th contact
[Statedef 7520]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7520, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7520, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7520, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7520, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7520, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7520, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7520, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7520, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7520, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7520, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7520, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7520, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7521
ignorehitpause = 1

[State 7520, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7522

[State 7520, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7520, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 6th collide
[Statedef 7521]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7521, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7521, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7521, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7521, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7521, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7521, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7521, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7521, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7521, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7521, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7521, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7521, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7521, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7521, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7523
ignorehitpause = 1

[State 7521, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7524

[State 7521, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7525

[State 7521, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7526

[State 7521, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7521, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 6th contact
[Statedef 7522]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7522, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7522, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7522, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7522, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7522, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7522, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7522, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7522, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7522, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7522, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7522, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7522, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7522, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7521
ignorehitpause = 1

[State 7522, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7524

[State 7522, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7525

[State 7522, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7526

[State 7522, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7522, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 7th collide
[Statedef 7523]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7523, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7523, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7523, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7523, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7523, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7523, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 7th hit
[Statedef 7524]
type = A
movetype = I
physics = N
anim = 7511
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7524, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7524, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7524, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7524, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7524, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 7th blocked
[Statedef 7525]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7525, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7525, scaling]
type = parentvaradd
trigger1 = time = 0
v = 10
value = 5

[State 7525, guard crush]
type = helper
trigger1 = time = 0
name = "guard crush"
id = 7525
stateno = 7530
postype = p2
pos = 0, 0
ignorehitpause = 1
persistent = 0

[State 7525, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7525, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7525, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7525, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - 7th reversed
[Statedef 7526]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7526, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7526, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7526, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7526, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7526, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Lp Denjin Hadouken Projectile - Guard Crush
[Statedef 7530]
type = u
movetype = a
physics = n
anim = 4560

[State 7530, nothitby]
type = nothitby
trigger1 = 1
value = SCA

[State 7530, hit]
type = hitdef
trigger1 = animelem = 1
attr = S, HA
sparkno = -1
guard.sparkno = -1
hitflag = MAF
guardflag = 
animtype = hard
priority = 7, hit
damage = ceil(18 * cond((parent, var(10)), 1.2, 1)), 0
pausetime = 1, 8
guard.pausetime = 1, 8
hitsound = s1, 23
guardsound = s1, -1
ground.type = low
ground.slidetime = 41
guard.slidetime = 25
ground.hittime = 41
guard.hittime = 25
guard.ctrltime = 25
ground.velocity = 6
guard.velocity = 6
air.hittime = 100
air.velocity = 2.4, -5
air.animtype = back
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
forcenofall = 1
yaccel = 0.4
getpower = 0, 0
givepower = 0, 0
kill = 0
guard.kill = 0
envshake.time = 9
envshake.ampl = -6
envshake.freq = 120

[State 7530, destroyself]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
;Lp Denjin Hadouken (Cancel)
[Statedef 7550]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7550, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7550, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7550, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7550, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7550, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7550, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7550, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7550, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7550, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7550, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7550, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7550, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7550, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7550, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7550, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7550, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7550, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7550, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7550, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7550, projectile]
type = helper
trigger1 = time = 126
id = 7550
stateno = 7560
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7550, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7550, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7550, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7550, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Lp Denjin Hadouken Projectile
;7511 1st collide
;7512 1st contact
;7513 2nd collide
;7514 2nd contact
;7515 3rd collide
;7516 3rd contact
;7517 4th collide
;7518 4th contact
;7519 5th collide
;7520 5th contact
;7521 6th collide
;7522 6th contact
;7523 7th collide
;7524 7th hit
;7525 7th block
;7526 7th reversed
[Statedef 7560]
type = A
movetype = A
physics = N
anim = 7560
ctrl = 0
juggle = 0
sprpriority = 3

[State 7560, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7560, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7560, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7560, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7560, vel]
type = velset
trigger1 = time = 1
x = 9.5 * const(size.xscale)

[State 7560, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7560, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7560, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7560, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7560, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7560, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7560, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7560, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7511
ignorehitpause = 1

[State 7560, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7512

[State 7560, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7560, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
;Mp Denjin Hadouken
[Statedef 7600]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7600, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7600, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7600, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7600, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7600, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7600, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7600, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7600, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7600, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7600, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7600, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7600, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7600, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7600, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7600, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7600, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7600, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7600, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7600, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7600, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7600, projectile]
type = helper
trigger1 = time = 126
id = 7600
stateno = 7610
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7600, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7600, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7600, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7600, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile
;7611 1st collide
;7612 1st contact
;7613 2nd collide
;7614 2nd contact
;7615 3rd collide
;7616 3rd contact
;7617 4th collide
;7618 4th contact
;7619 5th collide
;7620 5th contact
;7621 6th collide
;7622 6th contact
;7623 7th collide
;7624 7th hit
;7625 7th block
;7626 7th reversed
[Statedef 7610]
type = A
movetype = A
physics = N
anim = 7510
ctrl = 0
juggle = 0
sprpriority = 3

[State 7610, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7610, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7610, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7610, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7610, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7610, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7610, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7610, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7610, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7610, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7610, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7610, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7610, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7611
ignorehitpause = 1

[State 7610, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7612

[State 7610, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7610, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 1st collide
[Statedef 7611]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7611, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7611, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7611, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7611, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7611, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7611, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7611, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7611, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7611, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7611, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7611, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7611, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7611, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7613
ignorehitpause = 1

[State 7611, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7614

[State 7611, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7611, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 1st contact
[Statedef 7612]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7612, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7612, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7612, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7612, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7612, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7612, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7612, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7612, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7612, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7612, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7612, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7612, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7613
ignorehitpause = 1

[State 7612, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7614

[State 7612, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7612, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 2nd collide
[Statedef 7613]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7613, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7613, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7613, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7613, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7613, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7613, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7613, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7613, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7613, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7613, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7613, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7613, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7613, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7615
ignorehitpause = 1

[State 7613, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7616

[State 7613, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7613, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 2nd contact
[Statedef 7614]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7614, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7614, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7614, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7614, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7614, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7614, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7614, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7614, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7614, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7614, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7614, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7614, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7615
ignorehitpause = 1

[State 7614, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7616

[State 7614, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7614, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 3rd collide
[Statedef 7615]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7615, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7615, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7615, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7615, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7615, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7615, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7615, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7615, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7615, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7615, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7615, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7615, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7615, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7617
ignorehitpause = 1

[State 7615, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7618

[State 7615, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7615, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 3rd contact
[Statedef 7616]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7616, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7616, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7616, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7616, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7616, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7616, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7616, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7616, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7616, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7616, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7616, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7616, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7617
ignorehitpause = 1

[State 7616, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7618

[State 7616, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7616, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 4th collide
[Statedef 7617]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7617, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7617, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7617, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7617, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7617, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7617, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7617, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7617, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7617, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7617, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7617, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7617, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7617, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7619
ignorehitpause = 1

[State 7617, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7620

[State 7617, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7617, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denijn Hadouken Projectile - 4th contact
[Statedef 7618]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7618, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7618, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7618, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7618, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7618, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7618, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7618, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7618, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7618, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7618, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7618, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7618, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7619
ignorehitpause = 1

[State 7618, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7620

[State 7618, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7618, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 5th collide
[Statedef 7619]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7619, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7619, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7619, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7619, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7619, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7619, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7619, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7619, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7619, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7619, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7619, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7619, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7619, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7621
ignorehitpause = 1

[State 7619, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7622

[State 7619, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7619, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denijn Hadouken Projectile - 5th contact
[Statedef 7620]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7620, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7620, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7620, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7620, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7620, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7620, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7620, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7620, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7620, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7620, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7620, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7620, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7621
ignorehitpause = 1

[State 7620, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7622

[State 7620, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7620, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 6th collide
[Statedef 7621]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7621, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7621, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7621, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7621, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7621, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7621, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7621, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7621, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7621, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7621, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7621, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7621, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7621, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7621, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7623
ignorehitpause = 1

[State 7621, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7624

[State 7621, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7625

[State 7621, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7626

[State 7621, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7621, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 6th contact
[Statedef 7622]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7622, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7622, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7621, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7622, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7622, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7622, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7622, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7622, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7622, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7622, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7622, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7622, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7622, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7621
ignorehitpause = 1

[State 7622, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7624

[State 7622, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7625

[State 7622, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7626

[State 7622, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7622, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 7th collide
[Statedef 7623]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7623, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7623, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7623, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7623, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7623, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7623, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 7th hit
[Statedef 7624]
type = A
movetype = I
physics = N
anim = 7511
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7624, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7624, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7624, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7624, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7624, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 7th blocked
[Statedef 7625]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7625, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7625, guard crush]
type = helper
trigger1 = time = 0
name = "guard crush"
id = 7625
stateno = 7630
postype = p2
pos = 0, 0
ignorehitpause = 1
persistent = 0

[State 7625, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7625, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7625, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7625, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 7th reversed
[Statedef 7626]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7626, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7626, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7626, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7626, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7626, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - Guard Crush
[Statedef 7630]
type = u
movetype = a
physics = n
anim = 4560

[State 7630, nothitby]
type = nothitby
trigger1 = 1
value = SCA

[State 7630, hit]
type = hitdef
trigger1 = animelem = 1
attr = S, HA
sparkno = -1
guard.sparkno = -1
hitflag = MAF
guardflag = 
animtype = hard
priority = 7, hit
damage = ceil(18 * cond((parent, var(10)), 1.2, 1)), 0
pausetime = 1, 8
guard.pausetime = 1, 8
hitsound = s1, 23
guardsound = s1, -1
ground.type = low
ground.slidetime = 41
guard.slidetime = 25
ground.hittime = 41
guard.hittime = 25
guard.ctrltime = 25
ground.velocity = 6
guard.velocity = 6
air.hittime = 100
air.velocity = 2.4, -5
air.animtype = back
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
forcenofall = 1
yaccel = 0.4
getpower = 0, 0
givepower = 0, 0
kill = 0
guard.kill = 0
envshake.time = 9
envshake.ampl = -6
envshake.freq = 120

[State 7630, destroyself]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
;Mp Denjin Hadouken (Cancel)
[Statedef 7650]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7650, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7650, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7650, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7650, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7650, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7650, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7650, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7650, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7650, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7650, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7650, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7650, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7650, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7650, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7650, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7650, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7650, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7650, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7650, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7650, projectile]
type = helper
trigger1 = time = 126
id = 7650
stateno = 7660
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7650, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7650, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7650, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7650, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile (Cancel)
;7611 1st collide
;7612 1st contact
;7613 2nd collide
;7614 2nd contact
;7615 3rd collide
;7616 3rd contact
;7617 4th collide
;7618 4th contact
;7619 5th collide
;7620 5th contact
;7621 6th collide
;7622 6th contact
;7623 7th collide
;7624 7th hit
;7625 7th block
;7626 7th reversed
[Statedef 7660]
type = A
movetype = A
physics = N
anim = 7560
ctrl = 0
juggle = 0
sprpriority = 3

[State 7660, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7660, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7660, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7660, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7660, vel]
type = velset
trigger1 = time = 1
x = 14.2 * const(size.xscale)

[State 7660, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7660, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7660, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7660, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7660, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7660, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7660, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7660, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7611
ignorehitpause = 1

[State 7660, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7612

[State 7660, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7660, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
;Hp Denjin Hadouken
[Statedef 7700]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7700, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7700, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7700, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7700, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 123
time = 123

[State 7700, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7700, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7700, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7700, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7700, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 123
add = 0, 0, 0
mul = 128, 128, 128

[State 7700, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7700, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7700, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7700, 0]
type = posset
trigger1 = time = 0
y = 0

[State 7700, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7700, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7700, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7700, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7700, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7700, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7700, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7700, projectile]
type = helper
trigger1 = time = 126
id = 7700
stateno = 7710
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7700, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7700, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7700, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7700, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile
;7711 1st collide
;7712 1st contact
;7713 2nd collide
;7714 2nd contact
;7715 3rd collide
;7716 3rd contact
;7717 4th collide
;7718 4th contact
;7719 5th collide
;7720 5th contact
;7721 6th collide
;7722 6th contact
;7723 7th collide
;7724 7th hit
;7725 7th block
;7726 7th reversed
[Statedef 7710]
type = A
movetype = A
physics = N
anim = 7510
ctrl = 0
juggle = 0
sprpriority = 3

[State 7710, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7710, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7710, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7710, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7710, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7710, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7710, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7710, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7710, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7710, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7710, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7710, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7710, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7711
ignorehitpause = 1

[State 7710, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7712

[State 7710, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7710, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 1st collide
[Statedef 7711]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7711, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7711, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7711, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7711, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7711, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7711, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7711, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7711, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7711, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7711, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7711, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7711, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7711, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7713
ignorehitpause = 1

[State 7711, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7714

[State 7711, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7711, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 1st contact
[Statedef 7712]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7712, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7712, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7712, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7712, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7712, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7712, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7712, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7712, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7712, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7712, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7712, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7712, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7713
ignorehitpause = 1

[State 7712, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7714

[State 7712, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7712, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 2nd collide
[Statedef 7713]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7713, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7713, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7713, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7713, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7713, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7713, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7713, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7713, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7713, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7713, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7713, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7713, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7713, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7715
ignorehitpause = 1

[State 7713, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7716

[State 7713, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7713, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 2nd contact
[Statedef 7714]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7714, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7714, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7714, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7714, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7714, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7714, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7714, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7714, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7714, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7714, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7714, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7714, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7715
ignorehitpause = 1

[State 7714, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7716

[State 7714, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7714, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 3rd collide
[Statedef 7715]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7715, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7715, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7715, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7715, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7715, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7715, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7715, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7715, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7715, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7715, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7715, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7715, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7715, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7717
ignorehitpause = 1

[State 7715, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7718

[State 7715, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7715, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 3rd contact
[Statedef 7716]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7716, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7716, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7716, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7716, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7716, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7716, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7716, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7716, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7716, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7716, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7716, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7716, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7717
ignorehitpause = 1

[State 7716, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7718

[State 7716, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7716, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 4th collide
[Statedef 7717]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7717, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7717, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7717, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7717, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7717, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7717, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7717, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7717, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7717, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7717, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7717, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7717, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7717, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7719
ignorehitpause = 1

[State 7717, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7720

[State 7717, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7717, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denijn Hadouken Projectile - 4th contact
[Statedef 7718]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7718, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7718, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7718, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7718, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7718, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7718, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7718, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7718, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7718, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7718, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7718, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7718, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7719
ignorehitpause = 1

[State 7718, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7720

[State 7718, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7718, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Mp Denjin Hadouken Projectile - 5th collide
[Statedef 7719]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7719, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7719, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7719, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7719, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7719, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7719, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7719, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7719, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7719, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7719, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7719, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7719, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7719, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7721
ignorehitpause = 1

[State 7719, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7722

[State 7719, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7719, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denijn Hadouken Projectile - 5th contact
[Statedef 7720]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7720, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7720, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7720, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7720, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7720, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7720, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7720, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7720, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7720, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7720, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7720, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7720, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7721
ignorehitpause = 1

[State 7720, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7722

[State 7720, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7720, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 6th collide
[Statedef 7721]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7721, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7721, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7721, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7721, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7721, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7721, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7721, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7721, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7721, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7721, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7721, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7721, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7721, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7721, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7623
ignorehitpause = 1

[State 7721, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7724

[State 7721, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7725

[State 7721, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7726

[State 7721, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7721, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 6th contact
[Statedef 7722]
type = A
movetype = A
physics = N
ctrl = 0
juggle = 0
sprpriority = 3
velset = 0, 0

[State 7722, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7722, increment combo count]
type = parentvaradd
triggerall = !parent, var(12)
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7722, increment combo count]
type = parentvaradd
trigger1 = moveguarded = 1
v = 40
value = 5
ignorehitpause = 1
persistent = 0

[State 7722, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7722, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 99
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7722, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7722, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7722, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7722, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7722, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7722, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
;------ hitdef and sparks ------
[State 7722, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 115, 115, ceil(230 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 18
sparkno = -1
guard.sparkno = s15026
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -7, -4.5
guard.velocity = -10.6
air.velocity = -7, -4.5
fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(10 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(20 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7722, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7721
ignorehitpause = 1

[State 7722, projectile hit]
type = changestate
trigger1 = movehit = 1
value = 7724

[State 7722, projectile block]
type = changestate
trigger1 = moveguarded = 1
value = 7725

[State 7722, projectile reversed]
type = changestate
trigger1 = moveguarded = 1
value = 7726

[State 7722, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7722, end]
type = destroyself
trigger1 = frontedgebodydist <= -90

;---------------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 7th collide
[Statedef 7723]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7723, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7723, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7723, cancel sound]
type = playsnd
trigger1 = time = 1
value = 1, 11
volumescale = 75

[State 7723, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7723, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7723, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 7th hit
[Statedef 7724]
type = A
movetype = I
physics = N
anim = 7511
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7724, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7724, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7724, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7724, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7724, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 7th blocked
[Statedef 7725]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7725, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7725, guard crush]
type = helper
trigger1 = time = 0
name = "guard crush"
id = 7625
stateno = 7630
postype = p2
pos = 0, 0
ignorehitpause = 1
persistent = 0

[State 7725, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7725, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7725, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7725, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - 7th reversed
[Statedef 7726]
type = A
movetype = I
physics = N
anim = 7512
velset = 0, 0
ctrl = 0
sprpriority = 3

[State 7726, reset projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 0

[State 7726, stop sound]
type = stopsnd
trigger1 = time = 1
channel = 1

[State 7726, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7726, no hits]
type = nothitby
trigger1 = 1
value = SCA

[State 7726, destroy]
type = destroyself
trigger1 = animtime = 0

;---------------------------------------------------------------------------
; Hp Denjin Hadouken Projectile - Guard Crush
[Statedef 7730]
type = u
movetype = a
physics = n
anim = 4560

[State 7730, nothitby]
type = nothitby
trigger1 = 1
value = SCA

[State 7730, hit]
type = hitdef
trigger1 = animelem = 1
attr = S, HA
sparkno = -1
guard.sparkno = -1
hitflag = MAF
guardflag = 
animtype = hard
priority = 7, hit
damage = ceil(18 * cond((parent, var(10)), 1.2, 1)), 0
pausetime = 1, 8
guard.pausetime = 1, 8
hitsound = s1, 23
guardsound = s1, -1
ground.type = low
ground.slidetime = 41
guard.slidetime = 25
ground.hittime = 41
guard.hittime = 25
guard.ctrltime = 25
ground.velocity = 6
guard.velocity = 6
air.hittime = 100
air.velocity = 2.4, -5
air.animtype = back
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
forcenofall = 1
yaccel = 0.4
getpower = 0, 0
givepower = 0, 0
kill = 0
guard.kill = 0
envshake.time = 9
envshake.ampl = -6
envshake.freq = 120

[State 7730, destroyself]
type = destroyself
trigger1 = animtime = 0

;--------------------------------------------------------------------
;Hp Denjin Hadouken (Cancel)
[Statedef 7750]
type    = S
movetype= A
physics = S
ctrl = 0
anim = 7000
poweradd = -900
juggle = 0
sprpriority = 2
facep2 = 1

;------ stop spec move buffer ------
[State 7750, reset 56]
type = varset
trigger1 = time = 0
var(56) = 0

[State 7750, invincible]
type = nothitby
trigger1 = time <= 126
value = SCA

[State 7750, projectile invincible]
type = nothitby
trigger1 = time > 126 && time <= 145
value = SCA, AP

;------ super pause and effects ------
[State 7750, super pause]
type = pause
trigger1 = time = 0
endcmdbuftime = 60
movetime = 125
time = 125

[State 7750, animation]
type = explod
trigger1 = time = 0
anim = 7501
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 997
scale = 0.35, 0.35

[State 7750, animation]
type = explod
trigger1 = time = 0
anim = 7503
id = 1435
pos = ifelse(facing = 1, -80, Screenwidth + 80), 0 
space = screen
bindtime = -1
facing = ifelse(facing = 1, 1, -1)
supermovetime = 99999
ownpal = 1
pausemovetime = 99999
sprpriority = 998
scale = 0.35, 0.35

[State 7750, black screen]
type = explod
trigger1 = time = 0
anim = 7002
id = 1435
space = screen
pos = 0, 280
facing = 1
bindtime = -1
removetime = 127
supermovetime = 99999
pausemovetime = 99999
ownpal = 1
sprpriority = 990

[State 7750, remove 1435]
type = removeexplod
trigger1 = time > 123
id = 1435

[State 7750, darken]
type = bgpalfx
trigger1 = animelem = 1
time = 125
add = 0, 0, 0
mul = 128, 128, 128

[State 7750, remove fg]
type = assertspecial
trigger1 = time <= 123
flag = nofg
flag2 = nobg

;------ combo scaling ------
[State 7750, reset 12]
type = varset
trigger1 = time = 0
var(12) = 0

;------ cancel potential ------
[State 7750, reset cancels]
type = varrangeset
trigger1 = time = 0
first = 27
last = 33
value = 0

;------ juggle points -------
;------ width & positioning ------
[State 7750, width]
type = width
trigger1 = time < 124
value = 30, -18

;---- sounds ----
[State 7750, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7500, 0
channel = 1

[State 7750, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 4
channel = 3

[State 7750, ultra sound]
type = playsnd
trigger1 = animelem = 1
value = 7101, 0
channel = 2

[State 7750, ultra sound]
type = playsnd
trigger1 = time = 124
value = 7101, 5
channel = 2

[State 7750, voice]
type = playsnd
trigger1 = time = 50
value = 7100, 4
channel = 0

[State 7750, voice]
type = playsnd
trigger1 = time = 124
value = 7100, 2
channel = 0

;----- projectile ------
[State 7750, projectile]
type = helper
trigger1 = time = 126
id = 7750
stateno = 7760
pos = 62, -73
ownpal = 1
size.xscale = 0.35
size.yscale = 0.35
keyctrl = 0

[State 7750, wind]
type = explod
trigger1 = animelem = 2
anim = 7004
space = stage
facing = facing
pos = ifelse(facing = 1, 1, -1) * 65, -65 + pos y
scale = 0.35, 0.35
sprpriority = 3
bindid = -1
bindtime = 1
ownpal = 1
ignorehitpause = 1
persistent = 0
removeongethit = 1

[State 7750, retract]
type = statetypeset
trigger1 = animelem = 5
movetype = i

[State 7750, return ctrl]
type = ctrlset
trigger1 = time = 188
value = 1

[State 7750, return]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;--------------------------------------------------------------------
; Hp Denjin Hadouken Projectile (Cancel)
;7711 1st collide
;7712 1st contact
;7713 2nd collide
;7714 2nd contact
;7715 3rd collide
;7716 3rd contact
;7717 4th collide
;7718 4th contact
;7719 5th collide
;7720 5th contact
;7721 6th collide
;7722 6th contact
;7723 7th collide
;7724 7th hit
;7725 7th block
;7726 7th reversed
[Statedef 7760]
type = A
movetype = A
physics = N
anim = 7560
ctrl = 0
juggle = 0
sprpriority = 3

[State 7760, Super KO var]
type = parentvarset
trigger1 = movehit = 1
var(4) = 3
ignorehitpause = 1

;------ combo scaling ------
[State 7760, increment combo count]
type = parentvaradd
trigger1 = movehit = 1
v = 40
value = 1
ignorehitpause = 1
persistent = 0

[State 7760, 12]
type = parentvarset
trigger1 = movehit = 1
var(12) = 1

;------ juggle points -------
[State 7760, juggle]
type = parentvaradd
trigger1 = movehit = 1 && p2statetype = a
v = 13
value = 0
ignorehitpause = 1
persistent = 0

;------ projectile properties ------
[State 7760, vel]
type = velset
trigger1 = time = 1
x = 19 * const(size.xscale)

[State 7760, projectile detection]
type = parentvarset
trigger1 = time = 0
var(17) = 1

[State 7760, shadow]
type = assertspecial
trigger1 = 1
flag = noshadow
ignorehitpause = 1

[State 7760, push]
type = playerpush
trigger1 = 1
value = 0
ignorehitpause = 1

[State 7760, screen]
type = screenbound
trigger1 = 1
value = 0
movecamera = 0, 0
ignorehitpause = 1

[State 7760, no hits]
type = nothitby
trigger1 = 1
value = , AA, AT
ignorehitpause = 1

;------ cancels ------
;------ sounds ------
[State 7760, fx]
type = null
trigger1 = time = 0
value = 3001, 0
channel = 1

;------ hitdef and sparks ------
[State 7760, hit]
type = hitdef
triggerall = parent, var(13) <= 10
trigger1 = time = 0
attr = S, HP
hitflag = MAF
guardflag = M
priority = 7, hit
hitsound = s1, 10
guardsound = s1, 22
damage = cond(ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1)) < 10, 10, ceil(20 * parent, fvar(10) * cond(parent, var(10), 1.2, 1))), 7
sparkno = -1
guard.sparkno = -1
pausetime = 3, 8
guard.pausetime = 2, 4
animtype = hard
ground.type = low
ground.slidetime = 21
guard.slidetime = 19
ground.hittime = 21 + ifelse(parent, var(10), 2, 0)
guard.hittime = 19
guard.ctrltime = 19
ground.velocity = -6
guard.velocity = -9.5
air.velocity = -3, -5
air.fall = 1
fall.recover = 0
yaccel = 0.4
getpower = 0, 0
givepower = ceil(15 * parent, fvar(10) * root, fvar(10) * cond( var(10), 1.2, 1)), ceil(5 * root, fvar(10))
ground.cornerpush.veloff = 0
guard.cornerpush.veloff = 0
air.cornerpush.veloff = 0
palfx.time = 60
palfx.color = 0
palfx.mul = 256, 256, 256
palfx.add = -64, -96, -160
palfx.sinadd = 64,96, 128, 10

[State 7760, projectile collision]
type = hitoverride
trigger1 = 1
attr = SCA, AP
stateno = 7711
ignorehitpause = 1

[State 7760, projectile contact]
type = changestate
trigger1 = movecontact = 1 || movereversed = 1
value = 7712

[State 7760, reset 17]
type = parentvarset
trigger1 = frontedgebodydist <= -90
var(17) = 0

[State 7760, end]
type = destroyself
trigger1 = frontedgebodydist <= -90