;---------------------------------------------------------------------------
; ���E�҃n���q
;---------------------------------------------------------------------------
[Statedef 3000]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3000
ctrl = 0
sprpriority = 2

[State 3000,1]
type = Width
trigger1 = AnimElem = 21, >= 0
value = 5,0

[State 3000,1]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, 0
time = 66
movetime = 66
anim = -1
poweradd = -1000

[State 3000,1]
type = PalFX
trigger1 = Time < 51
trigger1 = Time % 2 = 0
add = 255,255,255
time = 1

[State 3000, 1]
type = BGPalFX
trigger1 = AnimElem = 1 
time = 66

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 6960
supermovetime = 39
Removetime = 39
postype = P1
sprpriority = 4
pos = 0, -170
ownpal = 1
scale = 0.5,0.5

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8520
supermovetime = 66
Removetime = 66
postype = Back
pos = 60, 0
ownpal = 1
scale = 0.5,0.5

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8521
supermovetime = 66
Removetime = 66
postype = Back
pos = 60, 0
ownpal = 1
scale = 0.5,0.5

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3002, 0

[State 2001, 1]
type = VarRandom
trigger1 = AnimElem = 1
v = 21
range = 0,5

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3000, var(21)
channel = 0

[State 3000,1]
type = AfterImageTime
trigger1 = AnimElemTime(21) >= 1 && Time < 360
time = 2

[State 3000,1]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0
trigger1 = AnimElemTime(26) < 0
value = SCA, NA

[State 3000,1]
type = PosAdd
trigger1 = AnimElem = 21
x = 8

[State explod]
type = Explod
trigger1 = AnimElem = 21
anim = 6203
sprpriority = 5
pos = 0,0
postype = P1
scale = 1,1
bindtime = 1
Removetime = 11
ignorehitpause = 1
ownpal = 1

[State 3000, 1]
type = AfterImage
trigger1 = Time = 67
time = 140
timegap = 1
flamegap = 1
length = 16
palbright = 0,0,0
palcontrast = 128,128,128
palfx.add = 0,0,0
palfx.mul = 1,1,1
ignorehitpause = 1
Trans = Add1

[State 3000,1]
type = VelSet
trigger1 = AnimElem = 24
trigger2 = AnimElem = 26
trigger3 = AnimElem = 28
trigger4 = AnimElem = 29
trigger5 = AnimElem = 31
x = 12

[State 3000,1]
type = PosAdd
trigger1 = AnimElem = 24
x = 5

[State 3000,2]
type = HitDef
trigger1 = AnimElem = 25
attr = S, HA
animtype  = Light
damage    = 60,8
getpower  = 0
priority  = 6, Hit
guardflag = MA
pausetime = 14,14+var(57)
sparkno = s6910
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S3304,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000,2]
type = HitDef
trigger1 = AnimElem = 27
attr = S, HA
animtype  = Med
damage    = 66,8
getpower  = 0
priority  = 6, Hit
guardflag = MA
pausetime = 14,14+var(57)
sparkno = s6911
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S3304,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 30
ground.hittime  = 30
ground.velocity = -6
air.velocity = -3,-3
air.fall = 1
fall.animtype = Hard
fall.recover = 0

[State 3000,2]
type = HitDef
trigger1 = AnimElem = 29
attr = S, HA
animtype  = Hard
damage    = 65,8
getpower  = 0
priority  = 6, Hit
guardflag = MA
pausetime = 14,14+var(57)
sparkno = s6920
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S3304,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4
guard.velocity = -12
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0

[State 3000,2]
type = HitDef
trigger1 = AnimElem = 31
attr = S, HA
animtype  = Hard
damage    = 70,8
getpower  = 0
priority  = 6, Hit
guardflag = MA
pausetime = 15,14+var(57)
sparkno = s6920
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S3304,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4.5
guard.velocity = -5
air.velocity = -5,-4
airguard.velocity = -3,-3
fall.animtype = Hard
fall = 1
fall.recover = 0

[State 3000,9]
type = ChangeState
trigger1 = AnimTime = 0
value = 3001
ctrl = 0

;---------------------------------------------------------------------------
; �I��
[Statedef 3001]
type    = S
movetype= I
physics = S
anim = 3001
ctrl = 0
sprpriority = 1
velset = 0,0

[State 3001,1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3001,1]
type = PosAdd
trigger1 = AnimElem = 3
x = 5

[State 3001,3]
type = PlaySnd
trigger1 = Time = 0
value = 47, 0

[State 3001,9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
; ���E�҃T���_�[
;---------------------------------------------------------------------------
[Statedef 3600]
type    = A
movetype= A
physics = N
juggle  = 4
velset = 0,0
anim = 3600
ctrl = 0
sprpriority = 2

[State 3600,1]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, 0
time = 66
movetime = 66
anim = -1
poweradd = -1000

[State 3600,1]
type = PalFX
trigger1 = Time < 51
trigger1 = Time % 2 = 0
add = 255,255,255
time = 1

[State 3600, 1]
type = BGPalFX
trigger1 = AnimElem = 1 
time = 66

[State 3600, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 6960
supermovetime = 39
Removetime = 39
postype = P1
sprpriority = 4
pos = 0, -170
ownpal = 1
scale = 0.5,0.5

[State 3600, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8520
supermovetime = 66
Removetime = 66
postype = Back
pos = 60, 0
ownpal = 1
scale = 0.5,0.5

[State 3600, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8521
supermovetime = 66
Removetime = 66
postype = Back
pos = 60, 0
ownpal = 1
scale = 0.5,0.5

[State 3600, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3002, 0

[State 3600, 1]
type = VarRandom
trigger1 = AnimElem = 1
v = 21
range = 0,1

[State 3600, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3600, var(21)
channel = 0

[State 3600,11]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0
trigger1 = AnimElemTime(3) < 23
value = SCA

[State 3600, 1]
type = Projectile
trigger1 = AnimElem = 22
ProjID = 3602
projanim = 3602
projremove = 1
velocity = 6.5,5.5
accel = 0, 0
projhits = 4
projpriority = 4
projedgebound = 40
offset = 0,-40
postype = p1
attr = A, HP
damage    = 62,8
animtype = Hard
getpower  = 0
givepower = 25
guardflag = MA
hitflag = MAFD
priority  = 4, Hit
pausetime = 13,23+var(57)
sparkno = s6910
guard.sparkno = s6950
sparkxy = 10,10
hitsound   = S3304,2
guardsound = S3601,0
animtype = Hard
ground.type = High
ground.slidetime = 40
ground.hittime  = 40
ground.velocity = -5, -4.5
guard.velocity = -5
air.velocity = -5,-4
airguard.velocity = -3,-3
fall = 1
fall.recover = 0
palfx.time = 60
palfx.add = 255,255,255
palfx.mul = 128,128,128
palfx.sinadd = 32,64,48,8
palfx.invertall = 1
palfx.color = 0

[State 3600, 1]
type = VelSet
trigger1 = AnimElem = 21
x = -2.6
y = -3

[State 3600, 1]
type = VelAdd
trigger1 = AnimElem = 23
y = .4

[State 3600, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 3601

[Statedef 3601]
type = A
movetype = I
physics = N
anim = 3601
velset = -2.0,-5.4
ctrl = 0
sprpriority = 2

[State 3601, 1]
type = VelAdd
trigger1 = 1
y = .3

[State 3601, 9]
type = ChangeState
trigger1 = Pos Y >= 0 && Vel Y > 0
value = 52

;---------------------------------------------------------------------------
; SOS�N���b�V��
;---------------------------------------------------------------------------

[Statedef 3500]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3500
ctrl = 0
sprpriority = 2

[State 3500, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3500, 1]
type = Helper
trigger1 = AnimElem = 1
ID = 2000
name = "nagato"
sprpriority = 4
pos = -30,0
postype = Back
facing = 1
stateno = 3520
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 0.985
size.yscale = 0.985

[State 3500, 1]
type = Width
trigger1 = AnimElem = 2, >= 0
value = 5,0

[State 3500, 1]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, 0
time = 66
movetime = 66
anim = -1
poweradd = -2000

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 6960
supermovetime = 39
Removetime = 39
postype = P1
sprpriority = 4
pos = -30, -78
ownpal = 1
scale = 0.5,0.5

[State 3500, 1]
type = PalFX
trigger1 = Time < 51
trigger1 = Time % 2 = 0
add = 255,255,255
time = 1

[State 3500, 1]
type = BGPalFX
trigger1 = AnimElem = 1 
time = 66

[State 3500, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8523
supermovetime = 66
Removetime = 66
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3500, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8522
supermovetime = 66
Removetime = 66
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3002, 0

[State 188, 1]
type = VarRandom
trigger1 = AnimElem = 1
v = 21
range = 0,1

[State 3500, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3501, var(21)
channel = 0

[State 3500, 1]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 3500, 1]
type = NotHitBy
trigger1 = AnimElemTime(2) >= 0 && Time < 30
value2 = C, NA
time = 1

[State 3500, 1]
type = VelSet
trigger1 = time = 0
x = 0
y = 0

[State 3500, 1]
type = varset
trigger1 = time = 0
var(10) = 0

[State 3500, 1]
type = posset
trigger1 = time = 0
y = 0

[State 3500, 1]
type = nothitby
trigger1 = time = 0
value = SCA
time = 90

[State 3500, 3]
type = PlaySnd
trigger1 = AnimElem = 10
value = 3500,1
channel = 0

[State 3500, 1]
type = Explod
trigger1 = animelem = 10
pos = var(10), 0
persistent = 0
ignorehitpause = 1
sprpriority = -5
bindtime = 1
ownpal = 1
anim = 3502
ID = 3501
scale = 1,1

[state 3500, 1]
type = varset
trigger1 = animelemtime(10) < 0
var(10) = Floor(P2Dist X)

[State 3500, 3]
type = Projectile
trigger1 = AnimElemTime(10) = 0 && p2stateno != 40 && (p2stateno != [140,161])
projanim = 3503
projhitanim = 3503
projremove = 1
projremovetime = 15
postype = p1
offset = var(10), 0
projpriority = 7
projsprpriority = 7
projscale = 1,1
velocity = 0
projhits = 1
attr = S, HA
damage   = 50,10
animtype = up
hitflag = M
guardflag = 
pausetime = 0,0+var(57)
guard.pausetime = 0,11+var(57)
getpower = 0,0
sparkno = s6920
guard.sparkno = s6950
sparkxy = 0,0
hitsound = 5,4
guardsound = 6,0
ground.type = high
ground.slidetime = 13 
ground.hittime  = 20 
guard.hittime = 13
ground.velocity = -1,-6
air.velocity = -1,-5
guard.velocity = -10
fall = 1
fall.recover = 0
envshake.time = 12
envshake.ampl = 12
p2stateno = 3550
p2facing = 1
ID = 3503
kill = 0

[state 3500, 1]
type = statetypeset
trigger1 = animelem = 11
movetype = I

[State 3500, 9]
type = ChangeState
trigger1 = projhit(3503) = 1 && p2stateno = 3550
value = 3510

[State 3500, 9]
type = ChangeState
trigger1 = animtime = 0
value = 0
ctrl = 1

[Statedef 3510]
type = S
movetype = A
physics = S
velset = 0,0
anim = 3510
ctrl = 0
poweradd = 0
velset = 0,0
facep2 = 1

[State 3510, 1]
type = ScreenBound
trigger1 = 1
value = 1

[state 3510, 1]
type = varset
trigger1 = time = 0
fvar(3) = 0

[state 3510, 1]
type = varadd
trigger1 = animelemtime(7) > 0 
fvar(3) = 0.1

[State 3510, 1]
type = Explod
trigger1 = animelemtime(7) = 0
pos = 0, -50
postype = p2
ignorehitpause = 1
sprpriority = 5
bindtime = -1
removetime = 40
ownpal = 1
anim = 3505
ID = 3505
scale = 0.5,0.5

[State 3510, 1]
type = ModifyExplod
trigger1 = animelemtime(7) > 0 && animelemtime(8) < 0
ID = 3505
scale = 0.5+fvar(3),0.5+fvar(3)

[State 3510, 1]
type = ModifyExplod
trigger1 = animelemtime(7) > 0
pos = 40,-73
postype = p2
ignorehitpause = 1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
anim = 3504
ID = 3504

[State 3510, 1]
type = Explod
trigger1 = animelemtime(8) = 0
pos = 0, -50
postype = p2
ignorehitpause = 1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
facing = 1
anim = 3506
ID = 3505
scale = 0.5,0.5

[State 3510, 1]
type = ModifyExplod
trigger1 = animelemtime(8) > 0
sprpriority = -1
ID = 3505

[State 3510, 1]
type = Explod
trigger1 = animelemtime(8) = 0
pos = 0, -50
persistent = 5
postype = p2
ignorehitpause = 1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
anim = 903
ID = 3506
scale = 1,1

[state 1,1]
type = removeexplod
trigger1 = animelem = 8
ID = 3504

[State 3510, 3]
type = PlaySnd
trigger1 = AnimElem = 3
value = 3500,2

[State 3510, 3]
type = PlaySnd
trigger1 = AnimElem = 6
value = 3500,8

[State 240, 3];
type = Explod
trigger1 = animelem = 3
pos = 40,-73
postype = p1
ignorehitpause = 1
sprpriority = 5
bindtime = -1
removetime = -1
ownpal = 1
anim = 3504
ID = 3504
scale = 1,1

[State 3510, 1]
type = Explod
trigger1 = animelemtime(5) < 0
persistent = 7
pos = 0, -50
random = 40,40
persistent = 5
postype = p2
ignorehitpause = 1
sprpriority = 5
bindtime = 1
ownpal = 1
anim = 903
ID = 903
scale = 1,1

[State 3510, 1]
type = targetlifeadd
trigger1 = animelemtime(8) = 0
value = -150
kill = 0

[State 2001, 1]
type = VarRandom
trigger1 = AnimElem = 4
v = 21
range = 0,3

[State 3510, 3]
type = PlaySnd
trigger1 = AnimElem = 4
value = 3503, Var(21)
channel = 0

[State 3510, 3]
type = PlaySnd
trigger1 = AnimElem = 8
value = 3500,5

[State 3511, 3]
type = PlaySnd
trigger1 = AnimElem = 11
trigger1 = p2life < 100
value = 3504,1
channel = 0

[State 3511, 3]
type = PlaySnd
trigger1 = AnimElem = 11
trigger1 = p2life >= 100
value = 3504,0
channel = 0

[state 3510, 9]
type = changestate
trigger1 = animtime = 0
value = 3511

[Statedef 3511]
type = A
movetype = A
physics = N
velset = 0,0
ctrl = 0
poweradd = 0
velset = 0,0
anim = 41

[state 3511, 1]
type = velset
trigger1 = time = 0
x = 0
y = -20

[State explod]
type = Explod
trigger1 = time = 1
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State explod]
type = Explod
trigger1 = time = 3
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State explod]
type = Explod
trigger1 = time = 5
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State explod]
type = Explod
trigger1 = time = 9
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[state 3511, 1]
type = gravity
trigger1 = time > 0

[State 3511, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[state 3511, 1]
type = velset
trigger1 = vel y > 0
x = ifelse(p2dist x < 50,4,ifelse(p2dist x < 100,8,ifelse(p2dist x < 150,16,24)))
y = 20

[state 3511, 9]
type = changestate
trigger1 = p2dist x < 60 && vel y > 0
value = 3512

[Statedef 3512]
type = A
movetype = A
physics = N
ctrl = 0
poweradd = 0
anim = 3512

[State 3512, 3]
type = PlaySnd
trigger1 = animelemtime(4) = 0
value = 0,2

[state 3512, 1]
type = removeExplod
trigger1 = movehit = 1
ID = 3505
ignorehitpause = 1

[state 3512, 1]
type = removeExplod
trigger1 = movehit = 1
ID = 3506
ignorehitpause = 1

[State 3512, 2]
type = HitDef
trigger1 = time = 0
attr = A, HA
damage = 300
animtype = hard
hitflag   = MA
guardflag = MA
sparkno = s6920
guard.sparkno = s6950
pausetime = 29,29+var(57)
sparkxy = -10,-40
hitsound = S5,2
getpower = 0,0
guardsound = S6,0
ground.type = high
ground.slidetime = 18
ground.hittime = 12
ground.velocity = -6.5
air.velocity = -3,-3
guard.hittime = 13
fall = 1
fall.recover = 0
kill = 1

[state 3512, 9]
type = changestate
trigger1 = movehit = 1
value = 3513

[state 3512, 3]
type = playsnd
trigger1 = movehit = 1
persistent = 0
ignorehitpause = 1
value = 3500,6

[State 3510, 3]
type = PlaySnd
trigger1 = Pos Y >= 0 && Time > 10
value = 5000, 6
channel = 0

[State 3512, 9]
type = ChangeState
trigger1 = Pos Y >= 0 && Time > 10
value = 5100

[Statedef 3513]
type = A
movetype = I
physics = N
velset = -3,-5
ctrl = 0
poweradd = 0
anim = 3513

[state 3513, 1]
type = gravity
trigger1 = 1

[State 3513, 9]
type = ChangeState
trigger1 = Animelem = 2
trigger1 = random < 333
value = 5210

[State 3513, 9]
type = ChangeState
trigger1 = Pos Y >= 0 && Time > 10
value = 3514

[Statedef 3514]
type = C
movetype = I
physics = N
velset = 0,0
ctrl = 0
poweradd = 50
anim = 3514

[State explod]
type = Explod
trigger1 = time = 1
anim = 6600
sprpriority = 5
pos = 0,0
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State explod]
type = Explod
trigger1 = time = 9
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[state 3514, 1]
type = posset
trigger1 = time = 0
y = 0

[state 3514, 3]
type = playsnd
trigger1 = time = 0
value = 47,0

[state 3514, 9]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;---------------------------------------------------------------------------
;����������

[Statedef 3550]
type = S
movetype = I
physics = N
velset = 0,0
ctrl = 0
poweradd = 50
velset = 0,0
anim = 5002

[State 810, ��]
type = PlaySnd
trigger1 = Time = 1
value = 4218,21
channel = 0

[State 3550, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 1,0

[State 3550, 1]
type = nothitby
trigger1 = time = 1
value2 = SCA
time = 240

[state 3550, 9]
type = changeanim2
triggerall = time = 218
trigger1 = SelfAnimExist(9020) = 1
value = 3524

[state 3550, 9]
type = changeanim2
triggerall = time = 218
triggerall = SelfAnimExist(9020) = 1
trigger1= authorname = "Moku"
value = 3525

[state 3550, 9]
type = changeanim2
triggerall = time = 218
triggerall = SelfAnimExist(9020) = 1
trigger1= authorname = "otz-kai"
value = 3526

[State 3550, 3]
type = PlaySnd
triggerall = Time = 218
trigger1 = Alive
value = 4218,21

[State 3550, 3]
type = PlaySnd
triggerall = Time = 1
triggerall = Alive
trigger1 = stateno = 5030
value = 4218,22

[state 3550, 9]
type = selfstate
trigger1 = pos y >= 0 && vel y > 0 && time > 5
value = 5030

[state 3550, 9]
type = selfstate
trigger1 = p2stateno != [3510,3540]
trigger1 = time > 12
value = 5110

;---------------------------------------------------------------------------
;����

[Statedef 3520]
type     = S
movetype = I
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 3520
sprpriority = 1

[State 3520, 3]
type = PlaySnd
trigger1 = Time = 2
value = 3520,0
channel = 3

[State 3520, 1]
type = PosSet
trigger1 = Time = [0,1]
y = 0

[State 3520, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 3520, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3520, 9]
type = ChangeState
trigger1 = BackEdgeDist > 5
value = 3521
ctrl = 0

[State 3520, 9]
type = DestroySelf
trigger1 = FrontEdgeDist < -80
trigger2 = Time = 360

[Statedef 3521]
type     = S
movetype = A
;physics  = S
poweradd = 0
ctrl     = 0
anim     = 3521
sprpriority = 1
velset = 0,0

[State 3521, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3521, 9]
type = ChangeState
trigger1 = Root,stateno = 3511
value = 3522

[State 3521, 9]
type = ChangeState
trigger1 = Root,stateno != 3500
trigger1 = Root,stateno != 3510
value = 3523

[Statedef 3522]
type     = S
movetype = A
;physics  = S
poweradd = 0
ctrl     = 0
anim     = 3522
sprpriority = 1
velset = 0,0

[State 3522, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3522, 9]
type = ChangeState
trigger1 = Root,stateno = 3512
value = 3523

[State 3521, 9]
type = ChangeState
trigger1 = Root,stateno != 3510
trigger1 = Root,stateno != 3511
value = 3523

[Statedef 3523]
type     = S
movetype = I
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 3523
sprpriority = 1

[State 3523, 1]
type = Turn
trigger1 = Time = 1

[State 3523, 1]
type = PosSet
trigger1 = Time = [0,1]
y = 0

[State 3523, 1]
type = VelSet
trigger1 = 1
x = const(velocity.run.fwd.x)

[State 3523, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3523, 9]
type = DestroySelf
trigger1 = BackEdgeDist < -60
trigger2 = Time = 360

;---------------------------------------------------------------------------
;�K�[�h�L�����Z���J�E���^�[
;---------------------------------------------------------------------------

[Statedef 1990]
type     = S
movetype = A
physics  = S
poweradd = -1000
ctrl     = 0
sprpriority = 2

[State 1990, 1]
type = NotHitBy
trigger1 = Time = 0
value = SCA
time = 10

[State 1990, 1]
type = Pause
trigger1 = Time = 0
time = 8
pausemovetime = 8

[State 1990, 1]
type = Envcolor
trigger1 = Time = 0
value = 255, 255, 255
time = 1
under = 1
supermove = 1
persistent = 0
ignorehitpause = 1

[State 1990, 9]
type = ChangeState
value = 1991
trigger1 = Time = 1

;�J�E���^�[�U��
[Statedef 1991]
type     = S
movetype = A
physics  = S
juggle   = 1
poweradd = 0
velset   = 0,0
anim     = 1010
ctrl     = 0
sprpriority = 2

[State 1991, 3]
type = PlaySnd
trigger1 = Time = 1
value = 90, 1
channel = 0

[State 1991, 3]
type = PlaySnd
trigger1 = Time = 9
value = 0, 3

[State 1991, 1]
type = PosAdd
trigger1 = AnimElem = 2
x = 20

[State 1991, 1]
type = PosAdd
trigger1 = AnimElem = 3
trigger2 = AnimElem = 13
x = 10

[State 1991, 1]
type = PosAdd
trigger1 = AnimElem = 5
x = 5

[State 1991, 1]
type = VelSet
trigger1 = AnimElem = 5
x = 4

[State 1991, 2]
type = HitDef
trigger1 = AnimElem = 4
attr = S, SA
animtype  = Hard
damage    = 32, 4
getpower  = 0
priority  = 5, Hit
guardflag = MA
pausetime = 7,6+var(57)
sparkno = s6920
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S5,1
guardsound = S6,0
ground.type = Low
ground.slidetime = 20
ground.hittime  = 20
ground.velocity = -6,-7
guard.velocity = -6
air.velocity = -6,-6
airguard.velocity = -5, -4
fall = 1
kill = 0
p2stateno = 1992
p2facing = 1
ID = 1991

[State 1991, 2]
type = HitDef
trigger1 = AnimElemTime(6) = 2
trigger1 = !MoveContact
attr = S, SA
animtype  = Hard
damage    = 44, 6
priority  = 4, Hit
guardflag = MA
pausetime = 14,14+var(57)
sparkno = s6920
guard.sparkno = s6950
sparkxy = -10,-60
hitsound   = S5,2
guardsound = S6,0
ground.type = Low
ground.slidetime = 12
ground.hittime  = 15
ground.velocity = -4,-3.5
air.velocity = -4,-3
fall = 1
nochainID = 1991

[State 1991, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 0
ctrl = 1


;------------------
; �J�E���^�[�̑��葤����J�n - �d������
[Statedef 1992]
type     = A
movetype = H
physics  = N
velset   = 0,0

[State 1992, 1]
type = ChangeAnim2
trigger1 = 1
value = 1025

[State 1992, 9]
type = ChangeState
trigger1 = HitShakeOver = 1 
value = 1993

;------------------
; �J�E���^�[�̑��葤���� - �������
[Statedef 1993]
type     = A
movetype = H
physics  = N

[State 1993, 1]
type = HitVelSet
trigger1 = Time = 0
x = 1
y = 1

[State 1993, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 1993, 1]
type = VelAdd
trigger1 = 1
y = .44

[State 1993, 9]
type = ChangeState
triggerall = Pos Y < -1
trigger1 = BackEdgeBodyDist <= 20
trigger2 = FrontEdgeBodyDist <= 20
value = 1994

[State 1993, 9]
type = SelfState
trigger1 = (Vel y > 0) && (Pos y >= 0)
value = 5100


;------------------
; �J�E���^�[�̑��葤���� - �ǂɓ�����
[Statedef 1994]
type     = A
movetype = H
physics  = N

[State 1994, 1]
type = Turn
trigger1 = (Time = 0) && (FrontEdgeBodyDist <= 30)

[State 1994, 1]
type = PosAdd
trigger1 = Time = 0
x = 15 - BackEdgeBodyDist
y = -10

[State 1994, 1]
type = PosFreeze
trigger1 = 1
x = 1
y = 1

[State 1994, 1]
type = ScreenBound
trigger1 = 1
value = 1
movecamera = 0,1

[State 1994, 1]
type = Explod
trigger1 = Time = 0
anim = F72
pos = 0, floor(ScreenPos Y) - 50
postype = Back
sprpriority = 3

[State 1994, 1]
type = EnvShake
trigger1 = Time = 0
time = 5
ampl = 2

[State 1994, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1027

[State 1994, 3]
type = PlaySnd
trigger1 = Time = 0
value = F7,0

[State 1994, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 1995

;------------------
; �J�E���^�[�̑��葤���� - �ǂ���̃o�E���h�i���z�����j
[Statedef 1995]
type     = A
movetype = H
physics  = N

[State 1995, 1]
type = PosAdd
trigger1 = Time = 0
y = -30

[State 1995, 1]
type = NotHitBy
trigger1 = 1
value = , NA, NP, AT

[State 1995, 1]
type = VelSet
trigger1 = Time = 0
x = 1
y = -8

[State 1995, 1]
type = VelAdd
trigger1 = 1
y = .33

[State 1995, 1]
type = ChangeAnim2
trigger1 = Time = 0
value = 1995

[State 1995, 1]
type = AngleDraw
trigger1 = Anim = 1995

[State 1995, 1]
type = AngleSet
trigger1 = Time <= 1
value = 60

[State 1995, 1]
type = AngleAdd
trigger1 = Anim = 1995
trigger1 = Pos Y <= -10
value = -30

[State 1995, 1]
type = AngleMul
trigger1 = Pos Y > -10
value = 0

[State 1995, 9]
type = ChangeState
triggerall = Vel Y > 0
triggerall = Pos Y >= -20
triggerall = Alive
triggerall = Time > 40
trigger1 = command = "recovery"
value = 5200

[State 1995, 9]
type = SelfState
triggerall = Vel Y > 0
triggerall = Alive
triggerall = Time > 40
trigger1 = command = "recovery"
value = 5210

[State 1995, 9]
type = SelfState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100


;---------------------------------------------------------------------------
;SOS���C�v
;---------------------------------------------------------------------------
[Statedef 3200]
type    = S
movetype= A
physics = N
ctrl = 0
anim = 3200
Velset = 0,0
sprpriority = 1

[State 3000,1]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, 0
time = 66
movetime = 66
anim = -1
poweradd = -1000

[State 3000,1]
type = PalFX
trigger1 = Time < 51
trigger1 = Time % 2 = 0
add = 255,255,255
time = 1

[State 3000, 1]
type = BGPalFX
trigger1 = AnimElem = 1 
time = 66

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 6960
supermovetime = 39
Removetime = 39
postype = P1
sprpriority = 4
pos = 0, -100
ownpal = 1
scale = 0.5,0.5

[State 3303, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8531
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 100, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8532
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 100, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8533
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 100, 0
ownpal = 1
scale = 0.5,0.5

[State 3500, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8523
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3500, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 8522
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3002, 0

;[State 188, 1]
;type = VarRandom
;trigger1 = AnimElem = 1
;v = 21
;range = 0,1

[State 3500, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3200, 0
channel = 0

[State 3000,1]
type = AfterImageTime
trigger1 = AnimElemTime(2) >= 1 && Time < 360
time = 2

[State 3000,1]
type = NotHitBy
trigger1 = AnimElem = 2
value = , NA, SA, AT
time = 12

[State 3500, ���ʒu]
type = PosSet
trigger1 = 1
y = 0

[State 3500, �c��]
type = AfterImage
trigger1 = AnimElem = 2
Time = 40
PalBright   = 90,90,150
PalContrast = 180,180,256
Trans = Add1

[State 3000,1]
type = Velset
trigger1 = AnimElem = 2
x = 6

[State explod]
type = Explod
trigger1 = AnimElem = 21
anim = 6203
sprpriority = 5
pos = 0,0
postype = P1
scale = 1,1
bindtime = 1
Removetime = 11
ignorehitpause = 1
ownpal = 1

[State 3000, 1]
type = AfterImage
trigger1 = Time = 67
time = 140
timegap = 1
flamegap = 1
length = 16
palbright = 0,0,0
palcontrast = 128,128,128
palfx.add = 0,0,0
palfx.mul = 1,1,1
ignorehitpause = 1
Trans = Add1

[State 3200, 5]
type = PlayerPush
trigger1 = 1
value = 0

[State 3200,10]
type = HitDef
trigger1 = time = 0
trigger1 = NumTarget = 0
attr = S, HT
hitflag = M-
getpower = 0
priority = 3, Miss
hitsound   = S800,0
numhits = 0
sparkno = -1
sprpriority = 1
p1facing = 1
p2facing = 1
p1stateno = 3201;3205
p2stateno = 3202;3280
fall = 1
fall.recover = 0

[State 3200,13]
type = ChangeState
trigger1 = AnimTime = 0
value = 101

;--------------------------------------
;SOS���C�v�@����

[Statedef 3201]
type     = S
movetype = A
physics  = N
anim     = 3201
velset   = 0,0
sprpriority = 1

[State 810, �͂񂾉���炷]
type = PlaySnd
trigger1 = AnimElem = 2
value = 1, 1

[State 810, �͂񂾑���̈ʒu�P]
type = TargetBind
trigger1 = AnimElem = 1, >= 0
trigger1 = AnimElem = 2, < 0
pos = 28, 0

[State 810, �X�e�[�g�ύX]
type = ChangeState
trigger1 = AnimTime = 0
value = 3205

[Statedef 3202]
type     = A
movetype = H
physics  = N
velset   = 0,0
sprpriority = -1

[State 820, ���䂵������̃A�j���ύX]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3202

[State 810, ��]
type = PlaySnd
trigger1 = Time = 1
value = 4218,21
channel = 0

[State 1000,]
type = ChangeState
trigger1 = AnimTime = 0
value = 3280

;--------------------------------------
;SOS���C�v�@�A�ꍞ��
[Statedef 3205]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0.25,0
anim = 3205
sprpriority = 1

[State 3305, 1]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3305, 3] 
type = PlaySnd 
trigger1 = Time = 1 
value = 3299, 0
channel = 2

[State 3305, 3]
type = PlaySnd
trigger1 = time = 2
value = 3200,1
channel = 0

[State 3205, 2]
type = Targetbind
trigger1 = Numtarget
pos = -16,0

[State 3205, 3]
type = Explod
trigger1 = time = 0
anim = 3206
ID = 3205
postype = p1
pos = -45, 0
bindtime = -1
removetime = 9999999999
facing = 1
sprpriority = -6
;removeongethit = 1
scale = 0.9,0.9;Const(size.xscale),Const(size.yscale)

[state 3205, 3]
type = Helper
trigger1 = time = 0
ID = 3200
pos = 50,0
postype = p1
stateno = 3250
helpertype = normal
name = "Door"
keyctrl = 1
ownpal = 1
size.xscale = 0.5
size.yscale = 0.5

[State 210, �摜�\���D��x]
type = SprPriority
trigger1 = Numhelper(3200)
trigger1 = helper(3200),Parentdist X >= 0
value = -4

[State 3205, 4]
type = Velset
trigger1 = Numhelper(3200)
trigger1 = helper(3200),Parentdist X >= 0
X = 0

[State 3205, 5]
type = ChangeState
trigger1 = Numhelper(3200)
trigger1 = helper(3200),Parentdist X >= 0
trigger1 = helper(3200),Anim = 3253
trigger1 = helper(3200),Animelem = 1,>= 30
trigger2 = time >= 300
value = 3210

;---------------------------------------------
;SOS���C�v�@������
[Statedef 3210]
type    = S
movetype= A
physics = N

[State 3310, 1]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3210, 1]
type = Targetstate
trigger1 = Numtarget
trigger1 = time = 0
value = 3285

[State 3210, 2]
type = TargetBind
trigger1 = Numtarget
pos = 0,0

[State 3210, 3] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 3210, 3]
type = PlaySnd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = 3000, 22

[State 3210, 4]
type = TargetLifeAdd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = -18
absolute = 1

[State 3210, 5]
type = HitAdd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = 1

[State 3210, 6]
type = PlaySnd
trigger1 = time = 1
value = 3200,2
channel = 0

[State 3000, 1] 
type = Explod
trigger1 = Time = 1
anim = 8540
Removetime = 126
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5
ontop = 1

[State 3000, 1] 
type = Explod
trigger1 = Time = 1
anim = 8541
Removetime = 126
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5
ontop = 1

[State 3000, 1] 
type = Explod
trigger1 = Time = 1
anim = 8542
Removetime = 126
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5
ontop = 1

[State 3500, 1] 
type = Explod
trigger1 = Time = 120
anim = 8550
Removetime = 126
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5
ontop = 1

[State 3500, 1] 
type = Explod
trigger1 = Time = 120
anim = 8551
Removetime = 126
postype = Back
pos = 0, 0
ownpal = 1
scale = 0.5,0.5
ontop = 1

[State 3210, 6]
type = PlaySnd
trigger1 = time = 140
value = 3208,0 + (Random%6)
channel = 3

[State 3210, 9]
type = ChangeState
trigger1 = time = 199
trigger1 = power >= 1000
value = 3215

[State 3210, 8]
type = ChangeState
trigger1 = time >= 200
value = ifelse(WinKO,3230,3225)

;--------------------------------------
;SOS���C�v�@�ēx�������荞��
[Statedef 3215]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3215
sprpriority = -2
poweradd = -1000

[State 3310, 1]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3210, 6]
type = PlaySnd
trigger1 = Animelem = 3
value = 3200,3
channel = 0

[State 3215, 1]
type = Targetstate
trigger1 = Numtarget
trigger1 = time = 0
value = 3288

[State 3215, 2]
type = Screenbound
trigger1 = 1
value = 0

[State 3215, 3] 
type = Posadd
trigger1 = Animelem = 2
y = -70

[State 3215, 4] 
type = Posadd
trigger1 = Animelem = 3
x = -10

[State 3215, 5] 
type = Posadd
trigger1 = Animelem = 3,48
x = 35
y = 10

[State 3215, 6]
type = Explod
trigger1 = Animelem = 3
anim = 3216
ID = 3215
postype = p1
pos = 0, 0
bindtime = -1
sprpriority = -4
removeongethit = 1
scale = Const(size.xscale),Const(size.yscale)

[State 3215, 7]
type = Targetstate
trigger1 = Numtarget
trigger1 = Animelem = 3
value = 3290

[State 3215, 8]
type = PlaySnd
trigger1 = Numtarget
trigger1 = Animelem = 3
value = 1,1

[State 3215, 9]
type = TargetBind
trigger1 = Numtarget
trigger1 = Animelem = 3,>=0
trigger1 = Animelem = 4,<0
pos = -floor(Const(size.xscale)*80), -floor(Const(size.yscale)*49)

[State 3215,10]
type = TargetBind
trigger1 = Numtarget
trigger1 = Animelem = 4
pos = -floor(Const(size.xscale)*40), -floor(Const(size.yscale)*20)

[State 3299,11] 
type = Posadd
trigger1 = Animtime = 0
x = -25
y = 60

[State 3215,12]
type = ChangeState
trigger1 = Animtime = 0
value = 3220

[State 3215,13]
type = ChangeState
trigger1 = time >= 600
value = 0
ctrl = 1

;---------------------------------------------
;SOS���C�v�@�������Q���
[Statedef 3220]
type    = S
movetype= A
physics = N

[State 3310, 1]
type = AssertSpecial
trigger1 = 1
flag = nomusic

[State 3220, 1]
type = Targetstate
trigger1 = Numtarget
trigger1 = time = 0
value = 3285

[State 3220, 2]
type = TargetBind
trigger1 = Numtarget
pos = 0,0

[State 3220, 3] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 3220, 5]
type = HitAdd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = 1

[State 3210, 3]
type = PlaySnd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = 3201, 0

[State 3220, 4]
type = TargetLifeAdd
trigger1 = Numtarget
trigger1 = time % 20 = 0
value = -19
absolute = 1

[State 3220, 6]
type = PlaySnd
trigger1 = time = 1
value = 3200,4
channel = 0

[State 3220, 6]
type = PlaySnd
trigger1 = time = 95
value = 3209,0
channel = 3

[State 3220, 6]
type = PlaySnd
trigger1 = time = 88
value = 3200,5 + (Random%2)
channel = 0

[State 3220, 7]
type = ChangeState
trigger1 = time >= 199
value = ifelse(WinKO,3230,3225)

;--------------------------------------
;SOS���C�v�@�I��
[Statedef 3225]
type    = S
movetype= A
physics = S
anim = 3225
velset = 0,0
sprpriority = -4

[State 3310, 1]
type = AssertSpecial
trigger1 = time < 90
trigger1 = 1
flag = nomusic

;[State 3220, 6]
;type = PlaySnd
;trigger1 = time = 1
;value = 1511,1
;channel = 4

[State 3225, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 3225, 2]
type = Targetstate
trigger1 = Numtarget
trigger1 = Numhelper(3200)
trigger1 = time = 0
value = 3289

[State 3300, 3]
type = StopSnd
trigger1 = time >= 90
value = 3299, 0
channel = 2

[State 3225, 3]
type = ChangeState
trigger1 = time >= 90
value = 0
ctrl = 1

;----------------------------------------------------
;SOS���C�v ���߃|�[�Y
[Statedef 3230]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3230
sprpriority = -4

[State 3225, 2]
type = Targetstate
trigger1 = Numtarget
trigger1 = Numhelper(3200)
trigger1 = time = 0
value = 3289

[State 3310, 1]
type = AssertSpecial
trigger1 = 1
flag = nomusic

;[State 3230, 1]
;type = Targetstate
;trigger1 = Numtarget
;trigger1 = NumHelper(3200)
;trigger1 = Helper(3200),stateno = 3265
;trigger1 = Helper(3200),Animelem = 2
;value = 3299

;[State 3230, 2]
;type = TargetBind
;trigger1 = Numtarget
;trigger1 = NumHelper(3200)
;trigger1 = Helper(3200),stateno = 3265
;trigger1 = Helper(3200),Animelem = 2
;pos = 0,-20;-floor(Const(size.yscale)*(ifelse((target,SelfAnimExist(15905)),42,90)))

[State 3230, 3]
type = null;Explod
trigger1 = NumHelper(3200)
trigger1 = Helper(3200),stateno = 3265
trigger1 = Helper(3200),Animelem = 2
anim = 3230
ID = 3230
pos = 0,0
postype = P1
sprpriority = -4
ownpal = 1
ignorehitpause = 1
shadow = 92,92,92
scale = Const(size.xscale),Const(size.yscale)

[State 3230, 4]
type = null;Explod
trigger1 = NumHelper(3200)
trigger1 = Helper(3200),stateno = 3265
trigger1 = Helper(3200),Animelem = 2
anim = 3231 + (target,SelfAnimExist(15905))
ID = 3231
pos = 0,0
postype = P1
sprpriority = 10 -(target,SelfAnimExist(15905));*2
ownpal = 1
ignorehitpause = 1
shadow = 92,92,92
scale = 0.5,0.5;Const(size.xscale),Const(size.yscale)

[State 3230, 5]
type = PlaySnd
trigger1 = NumHelper(3200)
trigger1 = Helper(3200),stateno = 3265
trigger1 = Helper(3200),Animelem = 2
value = 1511,1
channel = 4

[State 3300, 3]
type = StopSnd
trigger1 = time >= 180
value = 3299, 0
channel = 2

[State 3230, 6]
type = Changestate
trigger1 = time >= 180
value = 0
ctrl = 1

;=====================================================
;SOS���C�v�@��
[Statedef 3250]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3252
sprpriority = -5

[State 3250, 1]
type = ScreenBound
trigger1 = 1
value = 1

[State 3250, 2]
type = Explod
trigger1 = time = 0
anim = 3250
ID = 3250
pos = 0,0
postype = P1
sprpriority = -6
ownpal = 1
ignorehitpause = 1
bindtime = -1
shadow = -1;92,92,92
scale = 0.5,0.5;Const(size.xscale),Const(size.yscale)

[State 3250, 3]
type = Explod
trigger1 = time = 0
anim = 3251
ID = 3251
pos = 0,0
postype = P1
sprpriority = -7
ownpal = 1
ignorehitpause = 1
bindtime = -1
;shadow = -1
scale = 0.5,0.5;Const(size.xscale),Const(size.yscale)

[State 210, �摜�\���D��x]
type = SprPriority
trigger1 = AnimElem = 3
value = -5

[State 3250, 4]
type = Changeanim
trigger1 = anim != 3253
trigger1 = Parentdist X= [0,1]
value = 3253

[State 3250, 5]
type = sprpriority 
trigger1 = anim = 3253
value = 1

[State 3250, 6]
type = Changestate
trigger1 = Parent,stateno = 3210
value = 3255

;------------------------
;SOS���C�v�@�����Ă�
[Statedef 3255]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3254
sprpriority = 8

[State 3220, 6]
type = PlaySnd
trigger1 = time = 1
value = 3201,1

[State 3255, 1]
type = Changestate
trigger1 = Parent,stateno = 3215
value = 3260

[State 3255, 2]
type = Changestate
trigger1 = Parent,stateno = 3225
trigger2 = Parent,stateno = 3230
value = 3265

;------------------------
;SOS���C�v�@���J��
[Statedef 3260]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3253
sprpriority = 4

[State 3260, 1]
type = Changestate
trigger1 = Parent,stateno = 3220
value = 3255

;------------------------
;SOS���C�v�@���I��
[Statedef 3265]
type    = S
movetype= A
physics = N
ctrl = 0
velset = 0,0
anim = 3255
sprpriority = -1

[State 3265, 1]
type = sprpriority 
trigger1 = root,NumExplod(3230)
value = -5

[State 3265, 2]
type = RemoveExplod
trigger1 = time >= 90 + (Parent,stateno = 3230) * 80
ID = 3250

[State 3265, 3]
type = RemoveExplod
trigger1 = time >= 90 + (Parent,stateno = 3230) * 80
ID = 3251

[State 3265, 4]
type = Destroyself
trigger1 = time >= 90 + (Parent,stateno = 3230) * 80

;==================================================
;SOS���C�v�@�]����
[Statedef 3280]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 3280, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3280

[State 3290, 2]
type = PlaySnd
trigger1 = time = 1
value = 4228,21
channel = 0

[State 3280, 4]
type = Screenbound
trigger1 = 1
value = 0

[State 3280, 5]
type = Selfstate
Trigger1 = time >= 300
value = 5050

;---------------------------------------------
;SOS���C�v�@�Ƃ���Ă�]����
[Statedef 3285]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 0

[State 3285, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 3280

[State 3285, 2]
type = Screenbound
trigger1 = 1
value = 0

[State 3285, 3] 
type = AssertSpecial
trigger1 = 1
flag = invisible

[State 3285, 4]
type = PlaySnd
trigger1 = time % 20 = 1
value = 4218,21 + (Random % 3)
channel = 3

[State 3285, 5]
type = PlaySnd
trigger1 = !alive
trigger1 = time % 20 = 1
value = 11,0
channel = 3

;--------------------------
;SOS���C�v�@�����悤�Ƃ���]����
[Statedef 3288]
type    = A
movetype= H
physics = N
sprpriority = -3
anim = 5050 + ifelse(SelfAnimExist(5052),2,ifelse(SelfAnimExist(5051),1,0))

[State 3289, 1] 
type = ChangeAnim
triggerall = SelfAnimExist(66660)
trigger1 = time = 0
value = 66660

[State 3289, 2]
type = Changestate
Trigger1 = 1
value = 3295

;--------------------------
;SOS���C�v�@�����悤�Ƃ���]����
[Statedef 3289]
type    = A
movetype= H
physics = N
sprpriority = -3
anim = 5050 + ifelse(SelfAnimExist(5052),2,ifelse(SelfAnimExist(5051),1,0))

[State 3289, 1] 
type = ChangeAnim
triggerall = SelfAnimExist(66660)
trigger1 = time = 0
value = 66660

[State 3289, 2]
type = Changestate
Trigger1 = 1
value = 3296

;---------------------------------------------
;SOS���C�v�@�ēx�������荞�܂��]����
[Statedef 3290]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = -1

[State 2021, 1]
type = ChangeAnim2
Triggerall = Time = [1,300]
Trigger1 = AnimExist(9020) = 0
trigger2= authorname="kurogane"
value = 3290

[State 2021, 1];9020,1
type = ChangeAnim2
Triggerall = Time = 0
Triggerall = AnimExist(9020) = 1
trigger1= !authorname="kurogane"
trigger2= authorname="rei" && name="Ryu"
trigger3= authorname="rei" && name="Ken"
value = 4000

[State 2021, 1];9020,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Gal129" && name="demitri"
value = 4001

[State 2021, 1];9020,8
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Gal129" && name="pyron"
value = 4002

[State 2021, 1];9020,3
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="rei" && name="jedah"
value = 4003

[State 2021, 1];9020,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Gal129" && name="cvsleo"
trigger2= authorname="rei" && name="twelve"
value = 4004

[State 2021, 1];9020,0
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="rei" && name="cvsurien"
trigger2= authorname="rei" && name="cvsmukuro"
trigger3= authorname="Gal129" && name="cvsnool"
trigger4= authorname="Gal129" && name="cvsanakaris"
trigger5= authorname="rei" && name="cvsguile"
trigger6= authorname="rei" && name="cvszangief"
trigger7= authorname="rei" && name="zangief"
trigger8= authorname="ahuron" && name="FELICIA"
value = 4005

[State 2021, 1];5700,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Tatsu" && name="Dan Hibiki"
trigger2= authorname="NHK" && name="Tabasa"
value = 4006

[State 2021, 1];9999,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Tin" && name="Tin's S_Gouki"
value = 4007

[State 2021, 1];7800,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Don Drago" && name="Ken Masters"
trigger2= authorname="Don Drago" && name="Takuma Sakazaki"
trigger3= authorname="Don Drago" && name="Yashiro Nanakase"
trigger4= authorname="Don Drago" && name="Ryu"
trigger5= authorname="Don Drago" && name="Leopold Goenitz"
trigger6= authorname="Don Drago" && name="Geese Howard"
trigger7= authorname="Don Drago" && name="Gouki"
value = 4008

[State 2021, 1];9990,8
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Tin" && name="Tin's Kibagami"
value = 4009

[State 2021, 1];9999,21
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Tin" && name="Tin's Shiki"
value = 4010

[State 2021, 1];3200,30
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="NRF" && name="Combat Echizen"
value = 4011

[State 2021, 1];9000,3
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="NRF" && name="Haoumaru"
value = 4012

[State 2021, 1];190,4
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="NHK" && name="kira"
value = 4013

[State 2021, 1];6010,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="kuro" && name="Arcueid Brunestud"
trigger2= authorname="kuro&�H" && name="Arcueid_Brunestud"
value = 4014

[State 2021, 1];5061,0�ėp
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Mouser" && name="Astro"
trigger2= authorname="3ha" && name="Bishamon"
trigger3= authorname="MAITAKE" && name="D4 Reimu"
trigger4= authorname="Mouser" && name="Dragon"
trigger5= authorname="Mouser" && name="Fuuma"
trigger6= authorname="Watati" && name="Gachapin"
trigger7= authorname="mugeni" && name="galford"
trigger8= authorname="Mouser" && name="Hanzo"
trigger9= authorname="BLACK" && name="K9999"
trigger10= authorname="Mouser" && name="C.Kidd"
trigger11= authorname="Sander71113" && name="Kyo Kusanagi"
trigger12= authorname="Sander71113" && name="NeoKyo"
trigger13= authorname="Mouser" && name="Ralf Jones"
trigger14= authorname="Mouser" && name="Hon-Fu"
trigger15= authorname="haruwo midareguma mikami kengo" && name="SAKURA"
trigger16= authorname="Seth Zankuten" && name="Spider-man"
trigger17= authorname="Mouser" && name="Takuma Sakazaki"
trigger18= authorname="Loganir & BlackDragon" && name="The Mighty Thor"
trigger19= authorname="shimon" && name="Erick"
trigger20= authorname="Loganir" && name="Wonder Woman Reloaded"
trigger21= authorname="intense_mc" && name="Yang by intense_mc"
value = 4015

[State 2021, 1];6300,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="nyo" && name="honda asuka"
value = 4016

[State 2021, 1];12000,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Thedge" && name="Cheng Zinzang"
value = 4017

[State 2021, 1];5502,0
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="wara" && name="Svc Dhalsim"
value = 4018

[State 2021, 1];5900,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="ActJapan" && name="SvCEarthQuake"
value = 4019

[State 2021, 1];667,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Li_Kun & Fervicante" && name="Hinata Wakaba"
value = 4020

[State 2021, 1];5900,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="ActJapan" && name="SvCEarthQuake"
value = 4020

[State 2021, 1];2104,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="[Yagami+ihoo1836]" && name="Iori Yagami"
value = 4021

[State 2021, 1];6050,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="SDY" && name="KUBIKIRI BASARA"
value = 4022

[State 2021, 1];8888,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="Juke Kisaragi" && name="J_Rose"
value = 4023

[State 2021, 1];9200,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="YAMAKICHI" && name="Tifa Lockhart"
value = 4024

[State 2021, 1];9999,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="taruse" && name="Vanilla H"
value = 4025

[State 2021, 1];fate-copy only
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="minaduki" && name="Fate_Copy"
value = 4026

[State 2021, 1];7999,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = Time = 0
trigger1= authorname="otz-kai"
value = 4027

[State 3290, 2]
type = PlaySnd
trigger1 = time = 0
value = 4218,21
channel = 0

[State 3290, 3]
type = Screenbound
trigger1 = 1
value = 0

[State 210, �摜�\���D��x]
type = SprPriority
Trigger1 = time >= 300
value = 2

[State 3290, 4]
type = Selfstate
Trigger1 = time >= 300
value = 5050

;---------------------------------------------
;SOS���C�v�@�Ƃ��Ď̂Ă���R�X�v���]����
[Statedef 3295]
type    = A
movetype= H
physics = N
velset = 1.5,-5
sprpriority = 3
anim = 5050 + ifelse(SelfAnimExist(5052),2,ifelse(SelfAnimExist(5051),1,0))

[State 3290, 2]
type = PlaySnd
trigger1 = time = 1
value = 4218,23
channel = 0

[State 3295, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3295, 2]
type = Screenbound
trigger1 = 1
value = 0

[State 2021, 1];9020,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= !authorname="Kurogane"
trigger2= authorname="rei" && name="Ryu"
trigger3= authorname="rei" && name="Ken"
value = 4100

[State 2021, 1];9020,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Gal129" && name="demitri"
value = 4101

[State 2021, 1];9020,8
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Gal129" && name="pyron"
value = 4102

[State 2021, 1];9020,3
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="rei" && name="jedah"
value = 4103

[State 2021, 1];9020,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Gal129" && name="cvsleo"
value = 4104

[State 2021, 1];9020,0
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="rei" && name="cvsurien"
trigger2= authorname="rei" && name="cvsmukuro"
trigger3= authorname="Gal129" && name="cvsnool"
trigger4= authorname="Gal129" && name="cvsanakaris"
trigger5= authorname="rei" && name="cvsguile"
trigger6= authorname="rei" && name="cvszangief"
trigger7= authorname="rei" && name="zangief"
trigger8= authorname="ahuron" && name="FELICIA"
value = 4105

[State 2021, 1];5700,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Tatsu" && name="Dan Hibiki"
trigger2= authorname="NHK" && name="Tabasa"
value = 4106

[State 2021, 1];9999,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Tin" && name="Tin's S_Gouki"
value = 4107

[State 2021, 1];7800,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Don Drago" && name="Ken Masters"
trigger2= authorname="Don Drago" && name="Takuma Sakazaki"
trigger3= authorname="Don Drago" && name="Yashiro Nanakase"
trigger4= authorname="Don Drago" && name="Ryu"
trigger5= authorname="Don Drago" && name="Leopold Goenitz"
trigger6= authorname="Don Drago" && name="Geese Howard"
trigger7= authorname="Don Drago" && name="Gouki"
value = 4108

[State 2021, 1];9990,8
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Tin" && name="Tin's Kibagami"
value = 4109

[State 2021, 1];9999,21
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Tin" && name="Tin's Shiki"
value = 4110

[State 2021, 1];3200,30
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="NRF" && name="Combat Echizen"
value = 4111

[State 2021, 1];9000,3
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="NRF" && name="Haoumaru"
value = 4112

[State 2021, 1];190,4
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="NHK" && name="kira"
value = 4113

[State 2021, 1];6010,0
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="kuro" && name="Arcueid Brunestud"
trigger2= authorname="kuro&�H" && name="Arcueid_Brunestud"
value = 4114

[State 2021, 1];5061,0�ėp
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Mouser" && name="Astro"
trigger2= authorname="3ha" && name="Bishamon"
trigger3= authorname="MAITAKE" && name="D4 Reimu"
trigger4= authorname="Mouser" && name="Dragon"
trigger5= authorname="Mouser" && name="Fuuma"
trigger6= authorname="Watati" && name="Gachapin"
trigger7= authorname="mugeni" && name="galford"
trigger8= authorname="Mouser" && name="Hanzo"
trigger9= authorname="BLACK" && name="K9999"
trigger10= authorname="Mouser" && name="C.Kidd"
trigger11= authorname="Sander71113" && name="Kyo Kusanagi"
trigger12= authorname="Sander71113" && name="NeoKyo"
trigger13= authorname="Mouser" && name="Ralf Jones"
trigger14= authorname="Mouser" && name="Hon-Fu"
trigger15= authorname="haruwo midareguma mikami kengo" && name="SAKURA"
trigger16= authorname="Seth Zankuten" && name="Spider-man"
trigger17= authorname="Mouser" && name="Takuma Sakazaki"
trigger18= authorname="Loganir & BlackDragon" && name="The Mighty Thor"
trigger19= authorname="shimon" && name="Erick"
trigger20= authorname="Loganir" && name="Wonder Woman Reloaded"
trigger21= authorname="intense_mc" && name="Yang by intense_mc"
value = 4115

[State 2021, 1];6300,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="nyo" && name="honda asuka"
value = 4116

[State 2021, 1];12000,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Thedge" && name="Cheng Zinzang"
value = 4117

[State 2021, 1];5502,0
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="wara" && name="Svc Dhalsim"
value = 4118

[State 2021, 1];5900,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="ActJapan" && name="SvCEarthQuake"
value = 4119

[State 2021, 1];667,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Li_Kun & Fervicante" && name="Hinata Wakaba"
value = 4120

[State 2021, 1];2104,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="[Yagami+ihoo1836]" && name="Iori Yagami"
value = 4121

[State 2021, 1];6050,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="SDY" && name="KUBIKIRI BASARA"
value = 4122

[State 2021, 1];8888,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="Juke Kisaragi" && name="J_Rose"
value = 4123

[State 2021, 1];9200,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="YAMAKICHI" && name="Tifa Lockhart"
value = 4124

[State 2021, 1];9999,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="taruse" && name="Vanilla H"
value = 4125

[State 2021, 1];fate-copy only
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="minaduki" && name="Fate_Copy"
value = 4126

[State 2021, 1];6000,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="misao" && name="Aulbath"
value = 4127

[State 2021, 1];6000,2
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="misao" && name="Zabel"
trigger2= authorname="misao" && name="Lilith"
trigger3= authorname="misao" && name="Q-Bee"
value = 4128

[State 2021, 1];6001,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="misao" && name="Felicia"
value = 4129

[State 2021, 1];6000,4
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="misao" && name="Morrigan"
value = 4130

[State 2021, 1];7999,1
type = ChangeAnim2
Triggerall = AnimExist(9020) = 1
Triggerall = 1
trigger1= authorname="otz-kai"
value = 4131

[State 3295, 3]
type = ChangeAnim
Triggerall = AnimExist(5062)
Triggerall = anim != 5062
Triggerall = Vel Y > -1
Trigger1 = AnimExist(9020) = 0
value = 5062

[State 3290, 4]
type = Veladd
Trigger1 = 1
Y = 0.15

[State 3290, 5]
type = Selfstate
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------
;SOS���C�v�@�Ƃ��Ď̂Ă���R�X�v���]����
[Statedef 3296]
type    = A
movetype= H
physics = N
velset = 1.5,-5
sprpriority = 3
anim = 5050 + ifelse(SelfAnimExist(5052),2,ifelse(SelfAnimExist(5051),1,0))

[State 3295, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3295, 2]
type = Screenbound
trigger1 = 1
value = 0

[State 3295, 3]
type = ChangeAnim
Triggerall = AnimExist(5062)
Triggerall = anim != 5062
Triggerall = Vel Y > -1
Trigger1 = AnimExist(9020) = 0
value = 5062

[State 3290, 4]
type = Veladd
Trigger1 = 1
Y = 0.15

[State 3290, 5]
type = Selfstate
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------
;SOS���C�v�@�Ƃ��Ď̂Ă���R�X�v���]����
[Statedef 3395]
type    = A
movetype= H
physics = N
velset = 1.5,-5
sprpriority = 3
anim = 5050 + ifelse(SelfAnimExist(5052),2,ifelse(SelfAnimExist(5051),1,0))

[State 3290, 2]
type = PlaySnd
trigger1 = time = 1
value = 4218,23
channel = 0

[State 3295, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3295, 2]
type = Screenbound
trigger1 = 1
value = 0

[State 3295, 4]
type = ChangeAnim
trigger1 = anim = [5050,5052]
Trigger1 = Vel Y > -1
Trigger1 = SelfAnimExist(Anim + 10)
value = Anim + 10

[State 3290, 4]
type = Veladd
Trigger1 = 1
Y = 0.15

[State 3290, 5]
type = Selfstate
Trigger1 = Vel Y > 0
Trigger1 = Pos Y >= 0
value = 5100

;---------------------------------------------
;SOS���C�v�@�����܂ꂽ�]����
[Statedef 3299]
type    = S
movetype= H
physics = N
velset = 0,0
sprpriority = 8

[State 3299, 4]
type = Screenbound
trigger1 = 1
value = 0

[State 1522, 1]
type = ChangeAnim2
Trigger1 = Time = 0
value = 1522

[State 1522, 1]
type = velset
trigger1 = Time = 0
x = 0
y = 0

[State 1521, 9]
type = SelfState
trigger1 = Life <= 0
value = 5110

;---------------------------------------------
;�����܊Ꮲ��

[Statedef 3300]
type    = S
movetype= A
physics = S
juggle  = 4
velset = 0,0
anim = 3300
ctrl = 0
sprpriority = 2
poweradd = -1500

[State 3300, 1]
type = BGPalFX
trigger1 = NumHelper(3399) = 1
trigger1 = 1 
invertall = 0
color = 56
time = 1

[State 3300, 1] 
type = PlaySnd 
trigger1 = Time = 1 
value = 3399, 0
channel = 5
IgnoreHitPause = 1

[State 3300, 1]
type = Helper
trigger1 = NumHelper(3399) = 0
trigger1 = AnimElem = 5
ID = 3399
name = "Magic Circle"
pos = 0, 300
postype = P1
facing = 1
stateno = 3399
helpertype = normal
keyctrl = 0
supermovetime = 66
ownpal = 1
size.xscale = 1
size.yscale = 1

[State 3302, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3303, 3]
type = PlaySnd
trigger1 = AnimElem = 2
value = 3300, 0
channel = 0

[State 3300, 9]
type = ChangeState
trigger1 = AnimTime = 0
value = 3301

[Statedef 3301]
type    = S
movetype= I
physics = S
juggle  = 4
velset = 0,0
anim = 3301
ctrl = 0
sprpriority = 2

[State 3302, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3301]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause=1

[State 3300, 1]
type = BGPalFX
triggerall = 1 
trigger1 = NumExplod(8528) = 1
trigger2 = NumHelper(3302) = 1
invertall = 0
color = 56
time = 1

[State 3300,1]
type = SuperPause
trigger1 = Time = 2
pos = 0, 0
time = 66
darken = 0
movetime = 66
anim = -1

[State 3303, 1] 
type = Explod
trigger1 = Time = 2
anim = 8528
ID = 8528
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1] 
type = Explod
trigger1 = Time = 2
anim = 8529
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1] 
type = Explod
trigger1 = Time = 2
anim = 8530
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -2
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1]
type = VarRandom
trigger1 = Time = 12
v = 21
range = 0,3

[State 3303, 3]
type = PlaySnd
trigger1 = Time = 12
value = 3302, var(21)
channel = 2

[State 3301, 1]
type = VarSet
trigger1 = Time = 60
v = 5
value = 0
ignorehitpause = 1
persistent = 1

[State 3302, 3]
type = PlaySnd
trigger1 = Time = 60
value = 40,0

[State 3301, 1]
type = Helper
trigger1 = Time = 60
trigger1 = Var(5) = 0
ID = 3302
name = "shana"
sprpriority = 4
pos = ceil(p2dist X)-300,ceil(p2dist Y)-150
postype = P1
facing = 1
stateno = 3302
helpertype = normal
keyctrl = 0
ownpal = 1
size.xscale = 1;0.98
size.yscale = 1;0.98

[State 3300, 9]
type = ChangeState
trigger1 = numhelper(3302) = 0
trigger1 = Time > 76
trigger2 = numhelper(3302) = 1
trigger2 = Time > 76
trigger3= helper(3302),stateno>3303
trigger4 = roundstate > 2
value = 0
ctrl = 1

;---------------------------------------------
;�����܊�o��

[Statedef 3302]
type     = A
movetype = A
physics  = N
poweradd = 0
ctrl     = 0
velset   = 12,7
anim     = 3302
sprpriority = 4

[State 3301]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause=1

[State 3300, 1]
type = BGPalFX
trigger1 = Vel Y > 0 && Pos Y > 0
invertall = 0
color = 56
time = 1

[State 3302, 3]
type = Projectile
trigger1 = AnimElem = 2
ProjID = 3306
projanim = 3306
projremove = 1
velocity = 12,7
accel = 0, 0
projhits = 1
projpriority = 4
projedgebound = 40
offset = 20,-30
postype = p1
attr = A, HP
damage    = 200,20
animtype = Hard
getpower  = 0
givepower = 25
;guardflag = HA
hitflag = MAFD
priority  = 4, Hit
pausetime = 13,23+var(57)
sparkno = s6910
guard.sparkno = s6950
sparkxy = 30,10
hitsound   = S3304,2
guardsound = S6,0
animtype = back
ground.type = High
ground.slidetime = 21
ground.hittime  = 17
ground.velocity = -4,0
airguard.velocity = -16,5
air.velocity = -16,5
fall = 1
palfx.time = 60
palfx.add = 190,96,16
palfx.mul = 224,190,48
palfx.sinadd = 32,64,48,8
palfx.invertall = 1
palfx.color = 0

[State 3302, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3302, 1]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 3305        
time = -1

[State 3302, 3]
type = PlaySnd
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3304, 1

[State 3302, 1]
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 6500
sprpriority = 5
pos = 0,0
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 5
supermove = 0
ignorehitpause = 0
ownpal = 1

[State 3302, 1] 
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 3351
bindtime = 1
Removetime = 28
postype = P1
sprpriority = -1
pos = -30, 0
ownpal = 1
scale = 1,1

[State 3303, 1] 
type = Explod
trigger1 = Vel Y > 0 && Pos Y >= 0
anim = 3353
bindtime = 1
Removetime = 60
postype = P1
sprpriority = 4
pos = 0, 0
ownpal = 1
scale = 1,1

[State 3302, 1]
type = EnvShake
trigger1 = Vel Y > 0 && Pos Y >= 0
time = 20
ampl = -4
freq = 90

[State 3302, 9]
type = ChangeState
trigger1 = Vel Y > 0 && Pos Y >= 0
value = 3303
ctrl = 0

;---------------------------------------------
;�����܊ᒅ�n

[Statedef 3303]
type     = S
movetype = A
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 3303
sprpriority = 2

[State 3301]
type = AssertSpecial
trigger1 = 1
flag = nomusic
ignorehitpause=1

[State 3300, 1]
type = BGPalFX
trigger1 = Time = 1
invertall = 0
color = 56
time = 60

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3303, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 3352
bindtime = 1
Removetime = 60
postype = P1
sprpriority = 3
pos = 0, 0
ownpal = 1
scale = 0.5,0.5

[State 3303, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3303, 1]
type = HitOverride
trigger1 = Time = 0
attr = SCA, NT, ST, HT, NA, SA, HA,NP,SP,HP
stateno = 3305       
time = -1

[State 3303, 9]
type = ChangeState
trigger1 = anim != 3303
value = 3305
ctrl = 0


[State 3304, 1]
type = VarRandom
trigger1 = AnimElemTime(9) = 40
v = 21
range = 0,4

[State 3304, 3]
type = PlaySnd
trigger1  = AnimElemTime(9) = 40
value = 3303, var(21)
channel = 2

[State 3303, 9]
type = ChangeState
triggerall = roundstate = 2
trigger1 = AnimTime = 0
value = 3304
ctrl = 0

[State 3303, 9]
type = ChangeState
triggerall = roundstate > 2
trigger1 = AnimTime = 0
value = 3306
ctrl = 0

;---------------------------------------------
;�����܊Ⴓ���

[Statedef 3304]
type     = A
movetype = I
physics  = N
poweradd = 0
ctrl     = 0
velset   = 6,-8
anim     = 3304
sprpriority = 4

[State 3300, 1]
type = BGPalFX
trigger1 = Time = 1
invertall = 0
color = 56
time = 10

[State 3304, 1]
type = PlaySnd
trigger1 = Time = 1
value = 40, 0

[State 3304, 1]
type = Explod
trigger1 = time = 1
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State 3304, 1]
type = Explod
trigger1 = time = 3
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State 3304, 1]
type = Explod
trigger1 = time = 5
anim = 6600
sprpriority = 5
pos = 0,-3
postype = P1
scale = 0.5,0.5
bindtime = 1
Removetime = 12
supermove = 0
ignorehitpause = 0
ownpal = 1

[State 3304, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

[State 3304, 1] 
type = VelAdd
trigger1 = 1
x = 1
y = -.4

[State 3304, 9]
type = DestroySelf
trigger1 = Time = 16

;---------------------------------------------
;�����܊����

[Statedef 3305]
type     = A
movetype = H
physics  = S
poweradd = 0
ctrl     = 0
velset   = -4.5,-3.5
anim     = 7500
sprpriority = 4

;[State 3305, 3]
;type = PlaySnd
;trigger1 = Time = 1
;value = 7250, 0
;channel = 2

[State 3305, 1]
type = AfterImage
trigger1 = Time = 0
time = 17
length = 9;6;12
PalBright   =   0,  0,  0
PalContrast = 128,128,128
PalAdd      =   0,  0,  0
PalMul      =  1,1,1;.9, .9, .9
FrameGap = 3;2
Trans = Add1

[State 3305, 1]
type = NotHitBy
trigger1 = 1
value = SCA

[State 3305, 1] 
type = VelAdd
trigger1 = 1
x = -0.8
y = -0.4

[State 3305, 9]
type = DestroySelf
trigger1 = Time = 50

;---------------------------------------------
;�����܊Ꮯ��

[Statedef 3306]
type     = S
movetype = A
physics  = S
poweradd = 0
ctrl     = 0
velset   = 0,0
anim     = 3305
sprpriority = 2

[State 3304, 3]
type = PlaySnd
trigger1 = time = 50
value = 3303, 0
channel = 2

[State 52, 1]
type = VelSet
trigger1 = Time = 0
y = 0

[State 52, 1]
type = PosSet
trigger1 = Time = 0
y = 0

[State 3303, 1]
type = NotHitBy
trigger1 = 1
value = SCA
time = 1

; ���@�w
[StateDef 3399]
Type        = A
Physics     = N
Anim        = 3399
SprPriority = -5
VelSet      = 0,0

[State 3399, 1]
Type     = NotHitBy
Trigger1 = 1
Value    = SAC
Time     = 1

[State 3399, 1]
Type     = SprPriority
Trigger1 = 1
Value    = -5

[State 3399, 1]
Type     = Trans
Trigger1 = 1
Trans    = Add

[State 3399, 1]
Type     = PosSet
Trigger1 = 1
X        = Root,Pos X
Y        = -180

[State 3399, 1]
Type     = AngleSet
Trigger1 = Time = 0
Value    = Random%359

[State 3399, 1]
Type     = VarSet
Trigger1 = Time = 0
FV       = 0
Value    = 0.25

[State 3399, 1]
Type     = VarAdd
Trigger1 = 1
FV       = 0
Value    = 0.025

[State 3399, 1]
Type     = AngleDraw
Trigger1 = 1
Scale    = FVar(0),FVar(0)

[State 3399, 1]
Type = AngleDraw
Trigger1 = 1
Scale = .5+fvar(0),.5+fvar(0)

[State 3399, 1]
Type     = VarRandom
Trigger1 = Time = 0
V        = 32
Range    = 0,1

[State 3399, 1]
Type     = AngleAdd
Trigger1 = 1
Value    = IfElse(Var(32) = 1, -1, 0)

[State 3399, 1]
Type = AssertSpecial
Trigger1       = 1
Flag           = Noshadow
IgnoreHitPause = 1
SuperMoveTime  = 9999
PauseMoveTime  = 9999

[State 3399, 9]
Type     = DestroySelf
trigger1 = numhelper(3300) = 0
trigger1 = Time > 90
trigger2 = root,stateno != [3300,3301]

;---------------------------------------------------------------------------

;���C�u�A���C�u
[statedef 3700]
type = S
movetype = A
anim  = 3700
ctrl = 0
velset = 0,0
sprpriority = 4

[State 3700, 1]
type = PlayerPush
trigger1 = 1
value = 0

[State 3305, 1]
type = AssertSpecial
trigger1 = AnimElem = 21, >= 0
flag = nomusic

[State 3000,1]
type = SuperPause
trigger1 = AnimElem = 1
pos = 0, 0
time = 66
movetime = 66
anim = -1
poweradd = -3000

[State 3000,1]
type = PalFX
trigger1 = Time < 51
trigger1 = Time % 2 = 0
add = 255,255,255
time = 1

[State 3000, 1]
type = BGPalFX
trigger1 = AnimElem = 1 
time = 66

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 6960
supermovetime = 39
Removetime = 39
postype = P1
sprpriority = 5
pos = 20, -120
ownpal = 1
scale = 0.5,0.5

[State 3000, 1] 
type = Explod
trigger1 = AnimElem = 1
anim = 3702
supermovetime = 66
Removetime = 66
postype = Back
sprpriority = -1
pos = 60, 0
ownpal = 1
scale = 0.5,0.5

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3002, 0

[State 2001, 1]
type = VarRandom
trigger1 = AnimElem = 1
v = 21
range = 0,4

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
value = 3700, 0;var(21)
channel = 0

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 21
value = 3701, 0;var(21)
channel = 6

[State 3000, 1] 
type = Explod
triggerall = NumExplod(3800) = 0
trigger1 = AnimElem = 21
Trigger1 = Teamside = 1
anim = 3800
supermovetime = 66
Removetime = 99999999
bindtime = 99999999
removeongethit = 1
postype = Left
ontop = 1
pos = 28, 48
ownpal = 1
ID = 3800
scale = 0.25,0.25

[State 3000, 1] 
type = Explod
triggerall = NumExplod(3801) = 0
trigger1 = AnimElem = 21
Trigger1 = Teamside = 1
anim = 3801
supermovetime = 66
Removetime = 99999999
bindtime = 99999999
removeongethit = 1
postype = Left
ontop = 1
pos = 16, 50
ownpal = 1
ID = 3801
scale = 0.25,0.25

[State 3000, 1] 
type = Explod
triggerall = NumExplod(3800) = 0
trigger1 = AnimElem = 21
Trigger1 = Teamside = 2
anim = 3800
supermovetime = 66
Removetime = 99999999
bindtime = 99999999
removeongethit = 1
postype = Right
facing = -1
ontop = 1
pos = -28, 48
ownpal = 1
ID = 3800
scale = 0.25,0.25

[State 3000, 1] 
type = Explod
triggerall = NumExplod(3801) = 0
trigger1 = AnimElem = 21
Trigger1 = Teamside = 2
anim = 3802
supermovetime = 66
Removetime = 99999999
bindtime = 99999999
removeongethit = 1
postype = Right
ontop = 1
pos = -14, 50
ownpal = 1
ID = 3801
scale = 0.25,0.25

[State 2000, 1]
type = VarSet
trigger1 = AnimElem = 20
v = 11
value = 500

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = 40, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = 40, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, Yui]
type = Explod
trigger1 = Time = 14
pos = 40, 0
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 1
bindtime = 1
ownpal = 1
shadow = -1
anim = 3720
removetime = 99999
ID = 3720
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = -40, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = -40, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, Nagato]
type = Explod
trigger1 = Time = 14
pos = -30, 0
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 5
bindtime = 1
ownpal = 1
shadow = -1
anim = 3721
removetime = 99999
ID = 3721
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = -20, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Time = 10
pos = -20, -50
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 7
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, Ritsu]
type = Explod
trigger1 = Time = 14
pos = -35, 0
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = -5
bindtime = 1
ownpal = 1
shadow = -1
anim = 3722
removetime = 99999
ID = 3722
scale = const(size.xscale),const(size.yscale)

[State 188, Mio]
type = Explod
trigger1 = Time = 14
pos = -68, 0
supermovetime = 66
persistent = 0
ignorehitpause = 1
sprpriority = 6
bindtime = 1
ownpal = 1
shadow = -1
anim = 3723
removetime = 99999
ID = 3722
scale = const(size.xscale),const(size.yscale)

[State 3600]
type = NotHitBy
trigger1 = AnimElemTime(1) >= 0
trigger1 = AnimElemTime(21) < 0
value = SCA

[State 3700]
type = Helper
trigger1 = AnimElemTime(21) >= 0
trigger1 = random%4 = 0;Gametime%4 = 0
trigger1 = Roundstate = 2
postype = back
name = "onpu"
postype = p1
pos = -20,0
stateno = 3715
id = 3715
keyctrl = 0
ownpal = 1
facing = 1

[State 3600, 1]
type = VarAdd
trigger1 = Var(11) > 0
trigger1 = Time%2 = 1
v = 11
value = -2

[State -1]
Type = ModifyExplod
trigger1 = Var(11) > 0
trigger1 = 1
ID = 3800
Scale = .25*var(11)/500,.25

[State 3700, 9]
type = changestate
trigger2 = Roundstate = 2
triggerall = AnimElemTime(21) >= 0
trigger1 = var(11) < 1
trigger2 = time >= 1200
value = 3701

[State 3700, 9]
type = changestate
trigger1 = Roundstate > 2
trigger1 = alive
value = 3702

;�I��
[Statedef 3701]
type = S
movetype = A
anim  = 3701
ctrl = 0
velset = 0

[State 3700, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = Roundstate > 2
value = 3701, 1;var(21)
channel = 6

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = 40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = 40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -20, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -20, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State -2, Yui����]
type = RemoveExplod
triggerall = NumExplod(3720) > 0
trigger1 = Roundstate = 2
trigger1 = Time = 1
ID = 3720

[State -2, Nagato����]
type = RemoveExplod
triggerall = NumExplod(3721) > 0
trigger1 = Roundstate = 2
trigger1 = Time = 1
ID = 3721

[State -2, Ritsu����]
type = RemoveExplod
triggerall = NumExplod(3722) > 0
trigger1 = Roundstate = 2
trigger1 = Time = 1
ID = 3722

[State 3701]
type = changeanim
trigger1 = anim = 3701
trigger1 = Roundstate > 2
trigger1 = alive
value = 3703

[State 3701]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 1

;�����I��
[Statedef 3702]
type = S
movetype = A
anim  = 3703
ctrl = 0
velset = 0

[State 3700, 1]
type = PlayerPush
trigger1 = 1
value = 1

[State 3000, 3]
type = PlaySnd
trigger1 = AnimElem = 1
trigger1 = Roundstate > 2
value = 3701, 1;var(21)
channel = 6

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = 40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = 40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -40, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -20, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1881
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 188, 1]
type = Explod
trigger1 = Roundstate = 2
trigger1 = Time = 1
pos = -20, -50
persistent = 0
ignorehitpause = 1
sprpriority = 3
bindtime = 1
ownpal = 1
anim = 1882
;removetime = 2
ID = 188
scale = const(size.xscale),const(size.yscale)

[State 3701]
type = changestate
trigger1 = animtime = 0
value = 0
ctrl = 0

;��
[Statedef 3715]
type = S
movetype = A
physics = N
anim = 3715
ctrl = 0
velset = 10,0
sprpriority = 7

[State 3715]
type = AssertSpecial
trigger1 = 1
flag = noshadow

[State 3615]
type = VarRandom
trigger1 = Time = 0
v = 38
range = -50, 180

[State 3615]
type = VarRandom
trigger1 = Time = 0
v = 39
range = -2,0

[State 3615]
type = PosAdd
trigger1 = time = 0
y = -40 - var(38);(P2dist Y ) - (var(38))

[State 3615]
type = VelSet
trigger1 = time >= 0
y = (var(39))

[State 3615]
type = VarRandom
trigger1 = Time = 0
v = 40
range = 0, 100

[State 3615]
type = VarRandom
trigger1 = Time = 0
v = 41
range = -3,0

[State 3615]
type = Explod
trigger1 = time = 0
anim = 3710
id = 3710
vel = 7, (var(41))
pos = -10,(var(40))
postype = p1
ontop = 1
sprpriority = 7
IgnoreHitPause = 1
SuperMoveTime = 9999
PauseMoveTime = 9999

[State 3615]
type = HitDef
trigger1 = AnimElemno(0) >= 1
trigger1 = !movecontact && !movereversed
attr = S, SP
id = 3715
guard.kill = 1
animtype  = Hard
damage = ceil(25 * root,fvar(0)),4
getpower = 0,0
hitflag = MAFP
guardflag = MA
pausetime = 0,9+var(57)
sprpriority = 2
priority = 9999
sparkno = s6910
guard.sparkno = s6950
shadow = 0
sparkxy = -10,0
hitsound = S3601, 0
guardsound = S1, 1
ground.type = High
ground.slidetime = 23
guard.ctrltime = 21
ground.hittime  = 23
airguard.ctrltime = 19
ground.velocity = -2,-7
air.velocity = -2,-7
airguard.velocity = -3,-5
guard.velocity = -2
sprpriority = 2 
fall = 1
fall.recover = 0
ground.cornerpush.veloff = 0
air.cornerpush.veloff    = 0
guard.cornerpush.veloff  = 0
airguard.cornerpush.veloff= 0
p2getp1state = ifelse(numenemy > 1 , 1 , 0)
p2stateno = 3791

[state 1030]
type = targetstate
triggerall = numtarget(3715)
trigger1 = numenemy = 1
trigger1 = movehit 
trigger1 = enemynear,stateno != [120,155]
trigger1 = enemynear,movetype = H
value = 3791

[state 1030]
type = parentvarset
triggerall = P2MoveType = H
trigger1 = movehit
fvar(1) = root,fvar(1) * 0.93 * (1 - 0.07*(0.93*fvar(1)>1.00001))
ignorehitpause = 1
persistent=0

[State 3615]
type = HitOverride
trigger1 = time = 0
time = -1
attr = SCA, AA, AT, AP
slot = 0
stateno = 3715

[State 3715]
type = destroyself
trigger1 = FrontEdgeBodyDist < -100

;----------------------------------------------------------------------
;�����
[Statedef 3791]
type = A
movetype = H
physics = N
velset = -0.5,-0.05

[state 9010]
type = selfstate
trigger1 = time >= 30
value = 5050

[State 9010]
type = VelAdd
trigger1 = time > 30
y = 0.3

[State 9010]
type = ChangeAnim
triggerall = Time = 0
trigger1 = SelfAnimExist(7696)
value = 7696
persistent = 0

[State 9010]
type = ChangeAnim
trigger1 = Time = 0
trigger1 = SelfAnimExist(9010)
value = 9010
persistent = 0

[State 9010]
type = ChangeAnim
trigger1 = Time = [0,30]
trigger1 = !SelfAnimExist(7696)
trigger1 = !SelfAnimExist(9010)
value = 5070

[State 9010]
type = PalFX
trigger1 = Time = 0
trigger1 = !SelfAnimExist(7696)
trigger1 = !SelfAnimExist(9010)
time = 30
mul = 256,200,256
add = 1,1,1
sinadd = 75,75,120,4
color = 30
invertall = 1
persistent = 0

[State 9010]
type = ChangeAnim
trigger1 = time = 30
value = 5070

[State 9010]
type = SelfState
trigger1 = (Vel Y > 0) && (Pos Y >= 0)
value = 5100
